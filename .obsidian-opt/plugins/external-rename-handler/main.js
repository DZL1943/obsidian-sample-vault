/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

(function initCjs() {
  const globalThisRecord = globalThis;
  globalThisRecord["__name"] ??= name;
  const originalRequire = require;
  if (originalRequire && !originalRequire.__isPatched) {
    require = Object.assign(
      (id) => requirePatched(id),
      originalRequire,
      {
        __isPatched: true
      }
    );
  }
  const newFuncs = {
    __extractDefault() {
      return extractDefault;
    },
    process() {
      const browserProcess = {
        browser: true,
        cwd() {
          return "/";
        },
        env: {},
        platform: "android"
      };
      return browserProcess;
    }
  };
  for (const key of Object.keys(newFuncs)) {
    globalThisRecord[key] ??= newFuncs[key]?.();
  }
  function name(obj) {
    return obj;
  }
  function extractDefault(module2) {
    return module2 && module2.__esModule && "default" in module2 ? module2.default : module2;
  }
  const OBSIDIAN_BUILT_IN_MODULE_NAMES = [
    "obsidian",
    "@codemirror/autocomplete",
    "@codemirror/collab",
    "@codemirror/commands",
    "@codemirror/language",
    "@codemirror/lint",
    "@codemirror/search",
    "@codemirror/state",
    "@codemirror/text",
    "@codemirror/view",
    "@lezer/common",
    "@lezer/lr",
    "@lezer/highlight"
  ];
  const DEPRECATED_OBSIDIAN_BUILT_IN_MODULE_NAMES = [
    "@codemirror/closebrackets",
    "@codemirror/comment",
    "@codemirror/fold",
    "@codemirror/gutter",
    "@codemirror/highlight",
    "@codemirror/history",
    "@codemirror/matchbrackets",
    "@codemirror/panel",
    "@codemirror/rangeset",
    "@codemirror/rectangular-selection",
    "@codemirror/stream-parser",
    "@codemirror/tooltip"
  ];
  function requirePatched(id) {
    if (OBSIDIAN_BUILT_IN_MODULE_NAMES.includes(id) || DEPRECATED_OBSIDIAN_BUILT_IN_MODULE_NAMES.includes(id)) {
      return originalRequire?.(id);
    }
    if (globalThis?.app?.isMobile) {
      if (id === "process" || id === "node:process") {
        console.debug(`The most likely you can safely ignore this error. Module not found: ${id}. Fake process object is returned instead.`);
        return globalThis.process;
      }
    } else {
      const module2 = originalRequire?.(id);
      if (module2) {
        return extractDefault(module2);
      }
    }
    console.debug(`The most likely you can safely ignore this error. Module not found: ${id}. Empty object is returned instead.`);
    return {};
  }
})();

"use strict";var dd=Object.create;var Fn=Object.defineProperty;var hd=Object.getOwnPropertyDescriptor;var pd=Object.getOwnPropertyNames;var md=Object.getPrototypeOf,gd=Object.prototype.hasOwnProperty;var o=(t,e)=>Fn(t,"name",{value:e,configurable:!0});var Ge=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Fa=(t,e)=>{for(var n in e)Fn(t,n,{get:e[n],enumerable:!0})},Ia=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of pd(e))!gd.call(t,i)&&i!==n&&Fn(t,i,{get:()=>e[i],enumerable:!(r=hd(e,i))||r.enumerable});return t};var pt=(t,e,n)=>(n=t!=null?dd(md(t)):{},Ia(e||!t||!t.__esModule?Fn(n,"default",{value:t,enumerable:!0}):n,t)),wd=t=>Ia(Fn({},"__esModule",{value:!0}),t);var tl=Ge((Hw,el)=>{var Gt=1e3,Jt=Gt*60,Qt=Jt*60,It=Qt*24,Gd=It*7,Jd=It*365.25;el.exports=function(t,e){e=e||{};var n=typeof t;if(n==="string"&&t.length>0)return Qd(t);if(n==="number"&&isFinite(t))return e.long?Zd(t):Xd(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function Qd(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*Jd;case"weeks":case"week":case"w":return n*Gd;case"days":case"day":case"d":return n*It;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Qt;case"minutes":case"minute":case"mins":case"min":case"m":return n*Jt;case"seconds":case"second":case"secs":case"sec":case"s":return n*Gt;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}o(Qd,"parse");function Xd(t){var e=Math.abs(t);return e>=It?Math.round(t/It)+"d":e>=Qt?Math.round(t/Qt)+"h":e>=Jt?Math.round(t/Jt)+"m":e>=Gt?Math.round(t/Gt)+"s":t+"ms"}o(Xd,"fmtShort");function Zd(t){var e=Math.abs(t);return e>=It?mr(t,e,It,"day"):e>=Qt?mr(t,e,Qt,"hour"):e>=Jt?mr(t,e,Jt,"minute"):e>=Gt?mr(t,e,Gt,"second"):t+" ms"}o(Zd,"fmtLong");function mr(t,e,n,r){var i=e>=n*1.5;return Math.round(t/n)+" "+r+(i?"s":"")}o(mr,"plural")});var Po=Ge((Kw,nl)=>{function eh(t){n.debug=n,n.default=n,n.coerce=u,n.disable=a,n.enable=i,n.enabled=l,n.humanize=tl(),n.destroy=c,Object.keys(t).forEach(f=>{n[f]=t[f]}),n.names=[],n.skips=[],n.formatters={};function e(f){let d=0;for(let h=0;h<f.length;h++)d=(d<<5)-d+f.charCodeAt(h),d|=0;return n.colors[Math.abs(d)%n.colors.length]}o(e,"selectColor"),n.selectColor=e;function n(f){let d,h=null,p,w;function b(...C){if(!b.enabled)return;let y=b,k=Number(new Date),v=k-(d||k);y.diff=v,y.prev=d,y.curr=k,d=k,C[0]=n.coerce(C[0]),typeof C[0]!="string"&&C.unshift("%O");let S=0;C[0]=C[0].replace(/%([a-zA-Z%])/g,(x,B)=>{if(x==="%%")return"%";S++;let H=n.formatters[B];if(typeof H=="function"){let R=C[S];x=H.call(y,R),C.splice(S,1),S--}return x}),n.formatArgs.call(y,C),(y.log||n.log).apply(y,C)}return o(b,"debug"),b.namespace=f,b.useColors=n.useColors(),b.color=n.selectColor(f),b.extend=r,b.destroy=n.destroy,Object.defineProperty(b,"enabled",{enumerable:!0,configurable:!1,get:o(()=>h!==null?h:(p!==n.namespaces&&(p=n.namespaces,w=n.enabled(f)),w),"get"),set:o(C=>{h=C},"set")}),typeof n.init=="function"&&n.init(b),b}o(n,"createDebug");function r(f,d){let h=n(this.namespace+(typeof d>"u"?":":d)+f);return h.log=this.log,h}o(r,"extend");function i(f){n.save(f),n.namespaces=f,n.names=[],n.skips=[];let d=(typeof f=="string"?f:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let h of d)h[0]==="-"?n.skips.push(h.slice(1)):n.names.push(h)}o(i,"enable");function s(f,d){let h=0,p=0,w=-1,b=0;for(;h<f.length;)if(p<d.length&&(d[p]===f[h]||d[p]==="*"))d[p]==="*"?(w=p,b=h,p++):(h++,p++);else if(w!==-1)p=w+1,b++,h=b;else return!1;for(;p<d.length&&d[p]==="*";)p++;return p===d.length}o(s,"matchesTemplate");function a(){let f=[...n.names,...n.skips.map(d=>"-"+d)].join(",");return n.enable(""),f}o(a,"disable");function l(f){for(let d of n.skips)if(s(f,d))return!1;for(let d of n.names)if(s(f,d))return!0;return!1}o(l,"enabled");function u(f){return f instanceof Error?f.stack||f.message:f}o(u,"coerce");function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return o(c,"destroy"),n.enable(n.load()),n}o(eh,"setup");nl.exports=eh});var rl=Ge((ve,gr)=>{ve.formatArgs=nh;ve.save=rh;ve.load=ih;ve.useColors=th;ve.storage=oh();ve.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();ve.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function th(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let t;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(t=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(t[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}o(th,"useColors");function nh(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+gr.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let n=0,r=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(n++,i==="%c"&&(r=n))}),t.splice(r,0,e)}o(nh,"formatArgs");ve.log=console.debug||console.log||(()=>{});function rh(t){try{t?ve.storage.setItem("debug",t):ve.storage.removeItem("debug")}catch{}}o(rh,"save");function ih(){let t;try{t=ve.storage.getItem("debug")||ve.storage.getItem("DEBUG")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}o(ih,"load");function oh(){try{return localStorage}catch{}}o(oh,"localstorage");gr.exports=Po()(ve);var{formatters:sh}=gr.exports;sh.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var ol=Ge((Gw,il)=>{"use strict";il.exports=(t,e=process.argv)=>{let n=t.startsWith("-")?"":t.length===1?"-":"--",r=e.indexOf(n+t),i=e.indexOf("--");return r!==-1&&(i===-1||r<i)}});var ll=Ge((Jw,al)=>{"use strict";var ah=require("os"),sl=require("tty"),Me=ol(),{env:ee}=process,wr;Me("no-color")||Me("no-colors")||Me("color=false")||Me("color=never")?wr=0:(Me("color")||Me("colors")||Me("color=true")||Me("color=always"))&&(wr=1);function lh(){if("FORCE_COLOR"in ee)return ee.FORCE_COLOR==="true"?1:ee.FORCE_COLOR==="false"?0:ee.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(ee.FORCE_COLOR,10),3)}o(lh,"envForceColor");function uh(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}o(uh,"translateLevel");function ch(t,{streamIsTTY:e,sniffFlags:n=!0}={}){let r=lh();r!==void 0&&(wr=r);let i=n?wr:r;if(i===0)return 0;if(n){if(Me("color=16m")||Me("color=full")||Me("color=truecolor"))return 3;if(Me("color=256"))return 2}if(t&&!e&&i===void 0)return 0;let s=i||0;if(ee.TERM==="dumb")return s;if(process.platform==="win32"){let a=ah.release().split(".");return Number(a[0])>=10&&Number(a[2])>=10586?Number(a[2])>=14931?3:2:1}if("CI"in ee)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(a=>a in ee)||ee.CI_NAME==="codeship"?1:s;if("TEAMCITY_VERSION"in ee)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(ee.TEAMCITY_VERSION)?1:0;if(ee.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in ee){let a=Number.parseInt((ee.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(ee.TERM_PROGRAM){case"iTerm.app":return a>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(ee.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(ee.TERM)||"COLORTERM"in ee?1:s}o(ch,"supportsColor");function Fo(t,e={}){let n=ch(t,{streamIsTTY:t&&t.isTTY,...e});return uh(n)}o(Fo,"getSupportLevel");al.exports={supportsColor:Fo,stdout:Fo({isTTY:sl.isatty(1)}),stderr:Fo({isTTY:sl.isatty(2)})}});var cl=Ge((te,br)=>{var fh=require("tty"),yr=require("util");te.init=yh;te.log=mh;te.formatArgs=hh;te.save=gh;te.load=wh;te.useColors=dh;te.destroy=yr.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");te.colors=[6,2,3,4,5,1];try{let t=ll();t&&(t.stderr||t).level>=2&&(te.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}te.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let n=e.substring(6).toLowerCase().replace(/_([a-z])/g,(i,s)=>s.toUpperCase()),r=process.env[e];return/^(yes|on|true|enabled)$/i.test(r)?r=!0:/^(no|off|false|disabled)$/i.test(r)?r=!1:r==="null"?r=null:r=Number(r),t[n]=r,t},{});function dh(){return"colors"in te.inspectOpts?!!te.inspectOpts.colors:fh.isatty(process.stderr.fd)}o(dh,"useColors");function hh(t){let{namespace:e,useColors:n}=this;if(n){let r=this.color,i="\x1B[3"+(r<8?r:"8;5;"+r),s=`  ${i};1m${e} \x1B[0m`;t[0]=s+t[0].split(`
`).join(`
`+s),t.push(i+"m+"+br.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=ph()+e+" "+t[0]}o(hh,"formatArgs");function ph(){return te.inspectOpts.hideDate?"":new Date().toISOString()+" "}o(ph,"getDate");function mh(...t){return process.stderr.write(yr.formatWithOptions(te.inspectOpts,...t)+`
`)}o(mh,"log");function gh(t){t?process.env.DEBUG=t:delete process.env.DEBUG}o(gh,"save");function wh(){return process.env.DEBUG}o(wh,"load");function yh(t){t.inspectOpts={};let e=Object.keys(te.inspectOpts);for(let n=0;n<e.length;n++)t.inspectOpts[e[n]]=te.inspectOpts[e[n]]}o(yh,"init");br.exports=Po()(te);var{formatters:ul}=br.exports;ul.o=function(t){return this.inspectOpts.colors=this.useColors,yr.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};ul.O=function(t){return this.inspectOpts.colors=this.useColors,yr.inspect(t,this.inspectOpts)}});var fl=Ge((Zw,Io)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?Io.exports=rl():Io.exports=cl()});var _l=Ge((Ir,Ll)=>{(function(t,e){typeof Ir=="object"&&typeof Ll<"u"?e(Ir):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.compareVersions={}))})(Ir,(function(t){"use strict";let e=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,n=o(C=>{if(typeof C!="string")throw new TypeError("Invalid argument expected string");let y=C.match(e);if(!y)throw new Error(`Invalid argument not valid semver ('${C}' received)`);return y.shift(),y},"validateAndParse"),r=o(C=>C==="*"||C==="x"||C==="X","isWildcard"),i=o(C=>{let y=parseInt(C,10);return isNaN(y)?C:y},"tryParse"),s=o((C,y)=>typeof C!=typeof y?[String(C),String(y)]:[C,y],"forceType"),a=o((C,y)=>{if(r(C)||r(y))return 0;let[k,v]=s(i(C),i(y));return k>v?1:k<v?-1:0},"compareStrings"),l=o((C,y)=>{for(let k=0;k<Math.max(C.length,y.length);k++){let v=a(C[k]||"0",y[k]||"0");if(v!==0)return v}return 0},"compareSegments"),u=o((C,y)=>{let k=n(C),v=n(y),S=k.pop(),I=v.pop(),x=l(k,v);return x!==0?x:S&&I?l(S.split("."),I.split(".")):S||I?S?-1:1:0},"compareVersions"),c=o((C,y,k)=>{h(k);let v=u(C,y);return f[k].includes(v)},"compare"),f={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1],"!=":[-1,1]},d=Object.keys(f),h=o(C=>{if(typeof C!="string")throw new TypeError(`Invalid operator type, expected string but got ${typeof C}`);if(d.indexOf(C)===-1)throw new Error(`Invalid operator, expected one of ${d.join("|")}`)},"assertValidOperator"),p=o((C,y)=>{if(y=y.replace(/([><=]+)\s+/g,"$1"),y.includes("||"))return y.split("||").some(z=>p(C,z));if(y.includes(" - ")){let[z,j]=y.split(" - ",2);return p(C,`>=${z} <=${j}`)}else if(y.includes(" "))return y.trim().replace(/\s{2,}/g," ").split(" ").every(z=>p(C,z));let k=y.match(/^([<>=~^]+)/),v=k?k[1]:"=";if(v!=="^"&&v!=="~")return c(C,y,v);let[S,I,x,,B]=n(C),[H,R,V,,se]=n(y),U=[S,I,x],T=[H,R??"x",V??"x"];if(se&&(!B||l(U,T)!==0||l(B.split("."),se.split("."))===-1))return!1;let L=T.findIndex(z=>z!=="0")+1,_=v==="~"?2:L>1?L:1;return!(l(U.slice(0,_),T.slice(0,_))!==0||l(U.slice(_),T.slice(_))===-1)},"satisfies"),w=o(C=>typeof C=="string"&&/^[v\d]/.test(C)&&e.test(C),"validate"),b=o(C=>typeof C=="string"&&/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/.test(C),"validateStrict");t.compare=c,t.compareVersions=u,t.satisfies=p,t.validate=w,t.validateStrict=b}))});var fu=Ge((ob,cu)=>{"use strict";function tt(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}o(tt,"assertPath");function uu(t,e){for(var n="",r=0,i=-1,s=0,a,l=0;l<=t.length;++l){if(l<t.length)a=t.charCodeAt(l);else{if(a===47)break;a=47}if(a===47){if(!(i===l-1||s===1))if(i!==l-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){var u=n.lastIndexOf("/");if(u!==n.length-1){u===-1?(n="",r=0):(n=n.slice(0,u),r=n.length-1-n.lastIndexOf("/")),i=l,s=0;continue}}else if(n.length===2||n.length===1){n="",r=0,i=l,s=0;continue}}e&&(n.length>0?n+="/..":n="..",r=2)}else n.length>0?n+="/"+t.slice(i+1,l):n=t.slice(i+1,l),r=l-i-1;i=l,s=0}else a===46&&s!==-1?++s:s=-1}return n}o(uu,"normalizeStringPosix");function mp(t,e){var n=e.dir||e.root,r=e.base||(e.name||"")+(e.ext||"");return n?n===e.root?n+r:n+t+r:r}o(mp,"_format");var ln={resolve:o(function(){for(var e="",n=!1,r,i=arguments.length-1;i>=-1&&!n;i--){var s;i>=0?s=arguments[i]:(r===void 0&&(r=process.cwd()),s=r),tt(s),s.length!==0&&(e=s+"/"+e,n=s.charCodeAt(0)===47)}return e=uu(e,!n),n?e.length>0?"/"+e:"/":e.length>0?e:"."},"resolve"),normalize:o(function(e){if(tt(e),e.length===0)return".";var n=e.charCodeAt(0)===47,r=e.charCodeAt(e.length-1)===47;return e=uu(e,!n),e.length===0&&!n&&(e="."),e.length>0&&r&&(e+="/"),n?"/"+e:e},"normalize"),isAbsolute:o(function(e){return tt(e),e.length>0&&e.charCodeAt(0)===47},"isAbsolute"),join:o(function(){if(arguments.length===0)return".";for(var e,n=0;n<arguments.length;++n){var r=arguments[n];tt(r),r.length>0&&(e===void 0?e=r:e+="/"+r)}return e===void 0?".":ln.normalize(e)},"join"),relative:o(function(e,n){if(tt(e),tt(n),e===n||(e=ln.resolve(e),n=ln.resolve(n),e===n))return"";for(var r=1;r<e.length&&e.charCodeAt(r)===47;++r);for(var i=e.length,s=i-r,a=1;a<n.length&&n.charCodeAt(a)===47;++a);for(var l=n.length,u=l-a,c=s<u?s:u,f=-1,d=0;d<=c;++d){if(d===c){if(u>c){if(n.charCodeAt(a+d)===47)return n.slice(a+d+1);if(d===0)return n.slice(a+d)}else s>c&&(e.charCodeAt(r+d)===47?f=d:d===0&&(f=0));break}var h=e.charCodeAt(r+d),p=n.charCodeAt(a+d);if(h!==p)break;h===47&&(f=d)}var w="";for(d=r+f+1;d<=i;++d)(d===i||e.charCodeAt(d)===47)&&(w.length===0?w+="..":w+="/..");return w.length>0?w+n.slice(a+f):(a+=f,n.charCodeAt(a)===47&&++a,n.slice(a))},"relative"),_makeLong:o(function(e){return e},"_makeLong"),dirname:o(function(e){if(tt(e),e.length===0)return".";for(var n=e.charCodeAt(0),r=n===47,i=-1,s=!0,a=e.length-1;a>=1;--a)if(n=e.charCodeAt(a),n===47){if(!s){i=a;break}}else s=!1;return i===-1?r?"/":".":r&&i===1?"//":e.slice(0,i)},"dirname"),basename:o(function(e,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');tt(e);var r=0,i=-1,s=!0,a;if(n!==void 0&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var l=n.length-1,u=-1;for(a=e.length-1;a>=0;--a){var c=e.charCodeAt(a);if(c===47){if(!s){r=a+1;break}}else u===-1&&(s=!1,u=a+1),l>=0&&(c===n.charCodeAt(l)?--l===-1&&(i=a):(l=-1,i=u))}return r===i?i=u:i===-1&&(i=e.length),e.slice(r,i)}else{for(a=e.length-1;a>=0;--a)if(e.charCodeAt(a)===47){if(!s){r=a+1;break}}else i===-1&&(s=!1,i=a+1);return i===-1?"":e.slice(r,i)}},"basename"),extname:o(function(e){tt(e);for(var n=-1,r=0,i=-1,s=!0,a=0,l=e.length-1;l>=0;--l){var u=e.charCodeAt(l);if(u===47){if(!s){r=l+1;break}continue}i===-1&&(s=!1,i=l+1),u===46?n===-1?n=l:a!==1&&(a=1):n!==-1&&(a=-1)}return n===-1||i===-1||a===0||a===1&&n===i-1&&n===r+1?"":e.slice(n,i)},"extname"),format:o(function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return mp("/",e)},"format"),parse:o(function(e){tt(e);var n={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return n;var r=e.charCodeAt(0),i=r===47,s;i?(n.root="/",s=1):s=0;for(var a=-1,l=0,u=-1,c=!0,f=e.length-1,d=0;f>=s;--f){if(r=e.charCodeAt(f),r===47){if(!c){l=f+1;break}continue}u===-1&&(c=!1,u=f+1),r===46?a===-1?a=f:d!==1&&(d=1):a!==-1&&(d=-1)}return a===-1||u===-1||d===0||d===1&&a===u-1&&a===l+1?u!==-1&&(l===0&&i?n.base=n.name=e.slice(1,u):n.base=n.name=e.slice(l,u)):(l===0&&i?(n.name=e.slice(1,a),n.base=e.slice(1,u)):(n.name=e.slice(l,a),n.base=e.slice(l,u)),n.ext=e.slice(a,u)),l>0?n.dir=e.slice(0,l-1):i&&(n.dir="/"),n},"parse"),sep:"/",delimiter:":",win32:null,posix:null};ln.posix=ln;cu.exports=ln});var Bc=Ge((AS,Nc)=>{"use strict";var hi=Object.prototype.hasOwnProperty,Mc=Object.prototype.toString,Ic=Object.defineProperty,Lc=Object.getOwnPropertyDescriptor,_c=o(function(e){return typeof Array.isArray=="function"?Array.isArray(e):Mc.call(e)==="[object Array]"},"isArray"),Oc=o(function(e){if(!e||Mc.call(e)!=="[object Object]")return!1;var n=hi.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&hi.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||hi.call(e,i)},"isPlainObject"),Rc=o(function(e,n){Ic&&n.name==="__proto__"?Ic(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},"setProperty"),Dc=o(function(e,n){if(n==="__proto__")if(hi.call(e,n)){if(Lc)return Lc(e,n).value}else return;return e[n]},"getProperty");Nc.exports=o(function t(){var e,n,r,i,s,a,l=arguments[0],u=1,c=arguments.length,f=!1;for(typeof l=="boolean"&&(f=l,l=arguments[1]||{},u=2),(l==null||typeof l!="object"&&typeof l!="function")&&(l={});u<c;++u)if(e=arguments[u],e!=null)for(n in e)r=Dc(l,n),i=Dc(e,n),l!==i&&(f&&i&&(Oc(i)||(s=_c(i)))?(s?(s=!1,a=r&&_c(r)?r:[]):a=r&&Oc(r)?r:{},Rc(l,{name:n,newValue:t(f,a,i)})):typeof i<"u"&&Rc(l,{name:n,newValue:i}));return l},"extend")});var Tw={};Fa(Tw,{default:()=>Sw});module.exports=wd(Tw);var Ka=require("node:events"),qa=require("node:fs"),pr=require("node:fs/promises"),W=pt(require("node:path"),1);var lt=require("node:fs/promises"),ut=require("node:path"),Ra=require("node:stream");var Le={FILE_TYPE:"files",DIR_TYPE:"directories",FILE_DIR_TYPE:"files_directories",EVERYTHING_TYPE:"all"},go={root:".",fileFilter:o(t=>!0,"fileFilter"),directoryFilter:o(t=>!0,"directoryFilter"),type:Le.FILE_TYPE,lstat:!1,depth:2147483648,alwaysStat:!1,highWaterMark:4096};Object.freeze(go);var Da="READDIRP_RECURSIVE_ERROR",yd=new Set(["ENOENT","EPERM","EACCES","ELOOP",Da]),La=[Le.DIR_TYPE,Le.EVERYTHING_TYPE,Le.FILE_DIR_TYPE,Le.FILE_TYPE],bd=new Set([Le.DIR_TYPE,Le.EVERYTHING_TYPE,Le.FILE_DIR_TYPE]),Cd=new Set([Le.EVERYTHING_TYPE,Le.FILE_DIR_TYPE,Le.FILE_TYPE]),xd=o(t=>yd.has(t.code),"isNormalFlowError"),kd=process.platform==="win32",_a=o(t=>!0,"emptyFn"),Oa=o(t=>{if(t===void 0)return _a;if(typeof t=="function")return t;if(typeof t=="string"){let e=t.trim();return n=>n.basename===e}if(Array.isArray(t)){let e=t.map(n=>n.trim());return n=>e.some(r=>n.basename===r)}return _a},"normalizeFilter"),wo=class extends Ra.Readable{static{o(this,"ReaddirpStream")}parents;reading;parent;_stat;_maxDepth;_wantsDir;_wantsFile;_wantsEverything;_root;_isDirent;_statsProp;_rdOptions;_fileFilter;_directoryFilter;constructor(e={}){super({objectMode:!0,autoDestroy:!0,highWaterMark:e.highWaterMark});let n={...go,...e},{root:r,type:i}=n;this._fileFilter=Oa(n.fileFilter),this._directoryFilter=Oa(n.directoryFilter);let s=n.lstat?lt.lstat:lt.stat;kd?this._stat=a=>s(a,{bigint:!0}):this._stat=s,this._maxDepth=n.depth!=null&&Number.isSafeInteger(n.depth)?n.depth:go.depth,this._wantsDir=i?bd.has(i):!1,this._wantsFile=i?Cd.has(i):!1,this._wantsEverything=i===Le.EVERYTHING_TYPE,this._root=(0,ut.resolve)(r),this._isDirent=!n.alwaysStat,this._statsProp=this._isDirent?"dirent":"stats",this._rdOptions={encoding:"utf8",withFileTypes:this._isDirent},this.parents=[this._exploreDir(r,1)],this.reading=!1,this.parent=void 0}async _read(e){if(!this.reading){this.reading=!0;try{for(;!this.destroyed&&e>0;){let n=this.parent,r=n&&n.files;if(r&&r.length>0){let{path:i,depth:s}=n,a=r.splice(0,e).map(u=>this._formatEntry(u,i)),l=await Promise.all(a);for(let u of l){if(!u)continue;if(this.destroyed)return;let c=await this._getEntryType(u);c==="directory"&&this._directoryFilter(u)?(s<=this._maxDepth&&this.parents.push(this._exploreDir(u.fullPath,s+1)),this._wantsDir&&(this.push(u),e--)):(c==="file"||this._includeAsFile(u))&&this._fileFilter(u)&&this._wantsFile&&(this.push(u),e--)}}else{let i=this.parents.pop();if(!i){this.push(null);break}if(this.parent=await i,this.destroyed)return}}}catch(n){this.destroy(n)}finally{this.reading=!1}}}async _exploreDir(e,n){let r;try{r=await(0,lt.readdir)(e,this._rdOptions)}catch(i){this._onError(i)}return{files:r,depth:n,path:e}}async _formatEntry(e,n){let r,i=this._isDirent?e.name:e;try{let s=(0,ut.resolve)((0,ut.join)(n,i));r={path:(0,ut.relative)(this._root,s),fullPath:s,basename:i},r[this._statsProp]=this._isDirent?e:await this._stat(s)}catch(s){this._onError(s);return}return r}_onError(e){xd(e)&&!this.destroyed?this.emit("warn",e):this.destroy(e)}async _getEntryType(e){if(!e&&this._statsProp in e)return"";let n=e[this._statsProp];if(n.isFile())return"file";if(n.isDirectory())return"directory";if(n&&n.isSymbolicLink()){let r=e.fullPath;try{let i=await(0,lt.realpath)(r),s=await(0,lt.lstat)(i);if(s.isFile())return"file";if(s.isDirectory()){let a=i.length;if(r.startsWith(i)&&r.substr(a,1)===ut.sep){let l=new Error(`Circular symlink detected: "${r}" points to "${i}"`);return l.code=Da,this._onError(l)}return"directory"}}catch(i){return this._onError(i),""}}}_includeAsFile(e){let n=e&&e[this._statsProp];return n&&this._wantsEverything&&!n.isDirectory()}};function Ma(t,e={}){let n=e.entryType||e.type;if(n==="both"&&(n=Le.FILE_DIR_TYPE),n&&(e.type=n),t){if(typeof t!="string")throw new TypeError("readdirp: root argument must be a string. Usage: readdirp(root, options)");if(n&&!La.includes(n))throw new Error(`readdirp: Invalid type passed. Use one of ${La.join(", ")}`)}else throw new Error("readdirp: root argument is required. Usage: readdirp(root, options)");return e.root=t,new wo(e)}o(Ma,"readdirp");var Pt=require("node:fs"),He=require("node:fs/promises"),Ba=require("node:os"),J=pt(require("node:path"),1);var Ad="data",Co="end",za="close",fr=o(()=>{},"EMPTY_FN");var dr=process.platform,xo=dr==="win32",vd=dr==="darwin",Ed=dr==="linux",Sd=dr==="freebsd",Va=(0,Ba.type)()==="OS400",Q={ALL:"all",READY:"ready",ADD:"add",CHANGE:"change",ADD_DIR:"addDir",UNLINK:"unlink",UNLINK_DIR:"unlinkDir",RAW:"raw",ERROR:"error"},Ue=Q,Td="watch",Pd={lstat:He.lstat,stat:He.stat},Tt="listeners",ar="errHandlers",Yt="rawEmitters",Fd=[Tt,ar,Yt],Id=new Set(["3dm","3ds","3g2","3gp","7z","a","aac","adp","afdesign","afphoto","afpub","ai","aif","aiff","alz","ape","apk","appimage","ar","arj","asf","au","avi","bak","baml","bh","bin","bk","bmp","btif","bz2","bzip2","cab","caf","cgm","class","cmx","cpio","cr2","cur","dat","dcm","deb","dex","djvu","dll","dmg","dng","doc","docm","docx","dot","dotm","dra","DS_Store","dsk","dts","dtshd","dvb","dwg","dxf","ecelp4800","ecelp7470","ecelp9600","egg","eol","eot","epub","exe","f4v","fbs","fh","fla","flac","flatpak","fli","flv","fpx","fst","fvt","g3","gh","gif","graffle","gz","gzip","h261","h263","h264","icns","ico","ief","img","ipa","iso","jar","jpeg","jpg","jpgv","jpm","jxr","key","ktx","lha","lib","lvp","lz","lzh","lzma","lzo","m3u","m4a","m4v","mar","mdi","mht","mid","midi","mj2","mka","mkv","mmr","mng","mobi","mov","movie","mp3","mp4","mp4a","mpeg","mpg","mpga","mxu","nef","npx","numbers","nupkg","o","odp","ods","odt","oga","ogg","ogv","otf","ott","pages","pbm","pcx","pdb","pdf","pea","pgm","pic","png","pnm","pot","potm","potx","ppa","ppam","ppm","pps","ppsm","ppsx","ppt","pptm","pptx","psd","pya","pyc","pyo","pyv","qt","rar","ras","raw","resources","rgb","rip","rlc","rmf","rmvb","rpm","rtf","rz","s3m","s7z","scpt","sgi","shar","snap","sil","sketch","slk","smv","snk","so","stl","suo","sub","swf","tar","tbz","tbz2","tga","tgz","thmx","tif","tiff","tlz","ttc","ttf","txz","udf","uvh","uvi","uvm","uvp","uvs","uvu","viv","vob","war","wav","wax","wbmp","wdp","weba","webm","webp","whl","wim","wm","wma","wmv","wmx","woff","woff2","wrm","wvx","xbm","xif","xla","xlam","xls","xlsb","xlsm","xlsx","xlt","xltm","xltx","xm","xmind","xpi","xpm","xwd","xz","z","zip","zipx"]),Ld=o(t=>Id.has(J.extname(t).slice(1).toLowerCase()),"isBinaryPath"),bo=o((t,e)=>{t instanceof Set?t.forEach(e):e(t)},"foreach"),In=o((t,e,n)=>{let r=t[e];r instanceof Set||(t[e]=r=new Set([r])),r.add(n)},"addAndConvert"),_d=o(t=>e=>{let n=t[e];n instanceof Set?n.clear():delete t[e]},"clearItem"),Ln=o((t,e,n)=>{let r=t[e];r instanceof Set?r.delete(n):r===n&&delete t[e]},"delFromSet"),Wa=o(t=>t instanceof Set?t.size===0:!t,"isEmptySet"),lr=new Map;function Na(t,e,n,r,i){let s=o((a,l)=>{n(t),i(a,l,{watchedPath:t}),l&&t!==l&&ur(J.resolve(t,l),Tt,J.join(t,l))},"handleEvent");try{return(0,Pt.watch)(t,{persistent:e.persistent},s)}catch(a){r(a);return}}o(Na,"createFsWatchInstance");var ur=o((t,e,n,r,i)=>{let s=lr.get(t);s&&bo(s[e],a=>{a(n,r,i)})},"fsWatchBroadcast"),Od=o((t,e,n,r)=>{let{listener:i,errHandler:s,rawEmitter:a}=r,l=lr.get(e),u;if(!n.persistent)return u=Na(t,n,i,s,a),u?u.close.bind(u):void 0;if(l)In(l,Tt,i),In(l,ar,s),In(l,Yt,a);else{if(u=Na(t,n,ur.bind(null,e,Tt),s,ur.bind(null,e,Yt)),!u)return;u.on(Ue.ERROR,async c=>{let f=ur.bind(null,e,ar);if(l&&(l.watcherUnusable=!0),xo&&c.code==="EPERM")try{await(await(0,He.open)(t,"r")).close(),f(c)}catch{}else f(c)}),l={listeners:i,errHandlers:s,rawEmitters:a,watcher:u},lr.set(e,l)}return()=>{Ln(l,Tt,i),Ln(l,ar,s),Ln(l,Yt,a),Wa(l.listeners)&&(l.watcher.close(),lr.delete(e),Fd.forEach(_d(l)),l.watcher=void 0,Object.freeze(l))}},"setFsWatchListener"),yo=new Map,Rd=o((t,e,n,r)=>{let{listener:i,rawEmitter:s}=r,a=yo.get(e),l=a&&a.options;return l&&(l.persistent<n.persistent||l.interval>n.interval)&&((0,Pt.unwatchFile)(e),a=void 0),a?(In(a,Tt,i),In(a,Yt,s)):(a={listeners:i,rawEmitters:s,options:n,watcher:(0,Pt.watchFile)(e,n,(u,c)=>{bo(a.rawEmitters,d=>{d(Ue.CHANGE,e,{curr:u,prev:c})});let f=u.mtimeMs;(u.size!==c.size||f>c.mtimeMs||f===0)&&bo(a.listeners,d=>d(t,u))})},yo.set(e,a)),()=>{Ln(a,Tt,i),Ln(a,Yt,s),Wa(a.listeners)&&(yo.delete(e),(0,Pt.unwatchFile)(e),a.options=a.watcher=void 0,Object.freeze(a))}},"setFsWatchFileListener"),cr=class{static{o(this,"NodeFsHandler")}fsw;_boundHandleError;constructor(e){this.fsw=e,this._boundHandleError=n=>e._handleError(n)}_watchWithNodeFs(e,n){let r=this.fsw.options,i=J.dirname(e),s=J.basename(e);this.fsw._getWatchedDir(i).add(s);let l=J.resolve(e),u={persistent:r.persistent};n||(n=fr);let c;if(r.usePolling){let f=r.interval!==r.binaryInterval;u.interval=f&&Ld(s)?r.binaryInterval:r.interval,c=Rd(e,l,u,{listener:n,rawEmitter:this.fsw._emitRaw})}else c=Od(e,l,u,{listener:n,errHandler:this._boundHandleError,rawEmitter:this.fsw._emitRaw});return c}_handleFile(e,n,r){if(this.fsw.closed)return;let i=J.dirname(e),s=J.basename(e),a=this.fsw._getWatchedDir(i),l=n;if(a.has(s))return;let u=o(async(f,d)=>{if(this.fsw._throttle(Td,e,5)){if(!d||d.mtimeMs===0)try{let h=await(0,He.stat)(e);if(this.fsw.closed)return;let p=h.atimeMs,w=h.mtimeMs;if((!p||p<=w||w!==l.mtimeMs)&&this.fsw._emit(Ue.CHANGE,e,h),(vd||Ed||Sd)&&l.ino!==h.ino){this.fsw._closeFile(f),l=h;let b=this._watchWithNodeFs(e,u);b&&this.fsw._addPathCloser(f,b)}else l=h}catch{this.fsw._remove(i,s)}else if(a.has(s)){let h=d.atimeMs,p=d.mtimeMs;(!h||h<=p||p!==l.mtimeMs)&&this.fsw._emit(Ue.CHANGE,e,d),l=d}}},"listener"),c=this._watchWithNodeFs(e,u);if(!(r&&this.fsw.options.ignoreInitial)&&this.fsw._isntIgnored(e)){if(!this.fsw._throttle(Ue.ADD,e,0))return;this.fsw._emit(Ue.ADD,e,n)}return c}async _handleSymlink(e,n,r,i){if(this.fsw.closed)return;let s=e.fullPath,a=this.fsw._getWatchedDir(n);if(!this.fsw.options.followSymlinks){this.fsw._incrReadyCount();let l;try{l=await(0,He.realpath)(r)}catch{return this.fsw._emitReady(),!0}return this.fsw.closed?void 0:(a.has(i)?this.fsw._symlinkPaths.get(s)!==l&&(this.fsw._symlinkPaths.set(s,l),this.fsw._emit(Ue.CHANGE,r,e.stats)):(a.add(i),this.fsw._symlinkPaths.set(s,l),this.fsw._emit(Ue.ADD,r,e.stats)),this.fsw._emitReady(),!0)}if(this.fsw._symlinkPaths.has(s))return!0;this.fsw._symlinkPaths.set(s,!0)}_handleRead(e,n,r,i,s,a,l){e=J.join(e,"");let u=i?`${e}:${i}`:e;if(l=this.fsw._throttle("readdir",u,1e3),!l)return;let c=this.fsw._getWatchedDir(r.path),f=new Set,d=this.fsw._readdirp(e,{fileFilter:o(h=>r.filterPath(h),"fileFilter"),directoryFilter:o(h=>r.filterDir(h),"directoryFilter")});if(d)return d.on(Ad,async h=>{if(this.fsw.closed){d=void 0;return}let p=h.path,w=J.join(e,p);if(f.add(p),!(h.stats.isSymbolicLink()&&await this._handleSymlink(h,e,w,p))){if(this.fsw.closed){d=void 0;return}(p===i||!i&&!c.has(p))&&(this.fsw._incrReadyCount(),w=J.join(s,J.relative(s,w)),this._addToNodeFs(w,n,r,a+1))}}).on(Ue.ERROR,this._boundHandleError),new Promise((h,p)=>{if(!d)return p();d.once(Co,()=>{if(this.fsw.closed){d=void 0;return}let w=l?l.clear():!1;h(void 0),c.getChildren().filter(b=>b!==e&&!f.has(b)).forEach(b=>{this.fsw._remove(e,b)}),d=void 0,w&&this._handleRead(e,!1,r,i,s,a,l)})})}async _handleDir(e,n,r,i,s,a,l){let u=this.fsw._getWatchedDir(J.dirname(e)),c=u.has(J.basename(e));!(r&&this.fsw.options.ignoreInitial)&&!s&&!c&&this.fsw._emit(Ue.ADD_DIR,e,n),u.add(J.basename(e)),this.fsw._getWatchedDir(e);let f,d,h=this.fsw.options.depth;if((h==null||i<=h)&&!this.fsw._symlinkPaths.has(l)){if(!s&&(await this._handleRead(e,r,a,s,e,i,f),this.fsw.closed))return;d=this._watchWithNodeFs(e,(p,w)=>{w&&w.mtimeMs===0||this._handleRead(p,!1,a,s,e,i,f)})}return d}async _addToNodeFs(e,n,r,i,s){let a=this.fsw._emitReady;if(this.fsw._isIgnored(e)||this.fsw.closed)return a(),!1;let l=this.fsw._getWatchHelpers(e);r&&(l.filterPath=u=>r.filterPath(u),l.filterDir=u=>r.filterDir(u));try{let u=await Pd[l.statMethod](l.watchPath);if(this.fsw.closed)return;if(this.fsw._isIgnored(l.watchPath,u))return a(),!1;let c=this.fsw.options.followSymlinks,f;if(u.isDirectory()){let d=J.resolve(e),h=c?await(0,He.realpath)(e):e;if(this.fsw.closed||(f=await this._handleDir(l.watchPath,u,n,i,s,l,h),this.fsw.closed))return;d!==h&&h!==void 0&&this.fsw._symlinkPaths.set(d,h)}else if(u.isSymbolicLink()){let d=c?await(0,He.realpath)(e):e;if(this.fsw.closed)return;let h=J.dirname(l.watchPath);if(this.fsw._getWatchedDir(h).add(l.watchPath),this.fsw._emit(Ue.ADD,l.watchPath,u),f=await this._handleDir(h,u,n,i,e,l,d),this.fsw.closed)return;d!==void 0&&this.fsw._symlinkPaths.set(J.resolve(e),d)}else f=this._handleFile(l.watchPath,u,n);return a(),f&&this.fsw._addPathCloser(e,f),!1}catch(u){if(this.fsw._handleError(u))return a(),e}}};var ko="/",Dd="//",Ya=".",Md="..",Nd="string",Bd=/\\/g,Ga=/\/\//g,zd=/\..*\.(sw[px])$|~$|\.subl.*\.tmp/,Vd=/^\.[/\\]/;function hr(t){return Array.isArray(t)?t:[t]}o(hr,"arrify");var Ao=o(t=>typeof t=="object"&&t!==null&&!(t instanceof RegExp),"isMatcherObject");function Wd(t){return typeof t=="function"?t:typeof t=="string"?e=>t===e:t instanceof RegExp?e=>t.test(e):typeof t=="object"&&t!==null?e=>{if(t.path===e)return!0;if(t.recursive){let n=W.relative(t.path,e);return n?!n.startsWith("..")&&!W.isAbsolute(n):!1}return!1}:()=>!1}o(Wd,"createPattern");function $d(t){if(typeof t!="string")throw new Error("string expected");t=W.normalize(t),t=t.replace(/\\/g,"/");let e=!1;return t.startsWith("//")&&(e=!0),t=t.replace(Ga,"/"),e&&(t="/"+t),t}o($d,"normalizePath");function $a(t,e,n){let r=$d(e);for(let i=0;i<t.length;i++){let s=t[i];if(s(r,n))return!0}return!1}o($a,"matchPatterns");function Ud(t,e){if(t==null)throw new TypeError("anymatch: specify first argument");let r=hr(t).map(i=>Wd(i));return e==null?(i,s)=>$a(r,i,s):$a(r,e)}o(Ud,"anymatch");var Ua=o(t=>{let e=hr(t).flat();if(!e.every(n=>typeof n===Nd))throw new TypeError(`Non-string provided as watch path: ${e}`);return e.map(Ja)},"unifyPaths"),Ha=o(t=>{let e=t.replace(Bd,ko),n=!1;return e.startsWith(Dd)&&(n=!0),e=e.replace(Ga,ko),n&&(e=ko+e),e},"toUnix"),Ja=o(t=>Ha(W.normalize(Ha(t))),"normalizePathToUnix"),ja=o((t="")=>e=>typeof e=="string"?Ja(W.isAbsolute(e)?e:W.join(t,e)):e,"normalizeIgnored"),Hd=o((t,e)=>W.isAbsolute(t)?t:W.join(e,t),"getAbsolutePath"),jd=Object.freeze(new Set),vo=class{static{o(this,"DirEntry")}path;_removeWatcher;items;constructor(e,n){this.path=e,this._removeWatcher=n,this.items=new Set}add(e){let{items:n}=this;n&&e!==Ya&&e!==Md&&n.add(e)}async remove(e){let{items:n}=this;if(!n||(n.delete(e),n.size>0))return;let r=this.path;try{await(0,pr.readdir)(r)}catch{this._removeWatcher&&this._removeWatcher(W.dirname(r),W.basename(r))}}has(e){let{items:n}=this;if(n)return n.has(e)}getChildren(){let{items:e}=this;return e?[...e.values()]:[]}dispose(){this.items.clear(),this.path="",this._removeWatcher=fr,this.items=jd,Object.freeze(this)}},Kd="stat",qd="lstat",Eo=class{static{o(this,"WatchHelper")}fsw;path;watchPath;fullWatchPath;dirParts;followSymlinks;statMethod;constructor(e,n,r){this.fsw=r;let i=e;this.path=e=e.replace(Vd,""),this.watchPath=i,this.fullWatchPath=W.resolve(i),this.dirParts=[],this.dirParts.forEach(s=>{s.length>1&&s.pop()}),this.followSymlinks=n,this.statMethod=n?Kd:qd}entryPath(e){return W.join(this.watchPath,W.relative(this.watchPath,e.fullPath))}filterPath(e){let{stats:n}=e;if(n&&n.isSymbolicLink())return this.filterDir(e);let r=this.entryPath(e);return this.fsw._isntIgnored(r,n)&&this.fsw._hasReadPermissions(n)}filterDir(e){return this.fsw._isntIgnored(this.entryPath(e),e.stats)}},So=class extends Ka.EventEmitter{static{o(this,"FSWatcher")}closed;options;_closers;_ignoredPaths;_throttled;_streams;_symlinkPaths;_watched;_pendingWrites;_pendingUnlinks;_readyCount;_emitReady;_closePromise;_userIgnored;_readyEmitted;_emitRaw;_boundRemove;_nodeFsHandler;constructor(e={}){super(),this.closed=!1,this._closers=new Map,this._ignoredPaths=new Set,this._throttled=new Map,this._streams=new Set,this._symlinkPaths=new Map,this._watched=new Map,this._pendingWrites=new Map,this._pendingUnlinks=new Map,this._readyCount=0,this._readyEmitted=!1;let n=e.awaitWriteFinish,r={stabilityThreshold:2e3,pollInterval:100},i={persistent:!0,ignoreInitial:!1,ignorePermissionErrors:!1,interval:100,binaryInterval:300,followSymlinks:!0,usePolling:!1,atomic:!0,...e,ignored:e.ignored?hr(e.ignored):hr([]),awaitWriteFinish:n===!0?r:typeof n=="object"?{...r,...n}:!1};Va&&(i.usePolling=!0),i.atomic===void 0&&(i.atomic=!i.usePolling);let s=process.env.CHOKIDAR_USEPOLLING;if(s!==void 0){let u=s.toLowerCase();u==="false"||u==="0"?i.usePolling=!1:u==="true"||u==="1"?i.usePolling=!0:i.usePolling=!!u}let a=process.env.CHOKIDAR_INTERVAL;a&&(i.interval=Number.parseInt(a,10));let l=0;this._emitReady=()=>{l++,l>=this._readyCount&&(this._emitReady=fr,this._readyEmitted=!0,process.nextTick(()=>this.emit(Q.READY)))},this._emitRaw=(...u)=>this.emit(Q.RAW,...u),this._boundRemove=this._remove.bind(this),this.options=i,this._nodeFsHandler=new cr(this),Object.freeze(i)}_addIgnoredPath(e){if(Ao(e)){for(let n of this._ignoredPaths)if(Ao(n)&&n.path===e.path&&n.recursive===e.recursive)return}this._ignoredPaths.add(e)}_removeIgnoredPath(e){if(this._ignoredPaths.delete(e),typeof e=="string")for(let n of this._ignoredPaths)Ao(n)&&n.path===e&&this._ignoredPaths.delete(n)}add(e,n,r){let{cwd:i}=this.options;this.closed=!1,this._closePromise=void 0;let s=Ua(e);return i&&(s=s.map(a=>Hd(a,i))),s.forEach(a=>{this._removeIgnoredPath(a)}),this._userIgnored=void 0,this._readyCount||(this._readyCount=0),this._readyCount+=s.length,Promise.all(s.map(async a=>{let l=await this._nodeFsHandler._addToNodeFs(a,!r,void 0,0,n);return l&&this._emitReady(),l})).then(a=>{this.closed||a.forEach(l=>{l&&this.add(W.dirname(l),W.basename(n||l))})}),this}unwatch(e){if(this.closed)return this;let n=Ua(e),{cwd:r}=this.options;return n.forEach(i=>{!W.isAbsolute(i)&&!this._closers.has(i)&&(r&&(i=W.join(r,i)),i=W.resolve(i)),this._closePath(i),this._addIgnoredPath(i),this._watched.has(i)&&this._addIgnoredPath({path:i,recursive:!0}),this._userIgnored=void 0}),this}close(){if(this._closePromise)return this._closePromise;this.closed=!0,this.removeAllListeners();let e=[];return this._closers.forEach(n=>n.forEach(r=>{let i=r();i instanceof Promise&&e.push(i)})),this._streams.forEach(n=>n.destroy()),this._userIgnored=void 0,this._readyCount=0,this._readyEmitted=!1,this._watched.forEach(n=>n.dispose()),this._closers.clear(),this._watched.clear(),this._streams.clear(),this._symlinkPaths.clear(),this._throttled.clear(),this._closePromise=e.length?Promise.all(e).then(()=>{}):Promise.resolve(),this._closePromise}getWatched(){let e={};return this._watched.forEach((n,r)=>{let s=(this.options.cwd?W.relative(this.options.cwd,r):r)||Ya;e[s]=n.getChildren().sort()}),e}emitWithAll(e,n){this.emit(e,...n),e!==Q.ERROR&&this.emit(Q.ALL,e,...n)}async _emit(e,n,r){if(this.closed)return;let i=this.options;xo&&(n=W.normalize(n)),i.cwd&&(n=W.relative(i.cwd,n));let s=[n];r!=null&&s.push(r);let a=i.awaitWriteFinish,l;if(a&&(l=this._pendingWrites.get(n)))return l.lastChange=new Date,this;if(i.atomic){if(e===Q.UNLINK)return this._pendingUnlinks.set(n,[e,...s]),setTimeout(()=>{this._pendingUnlinks.forEach((u,c)=>{this.emit(...u),this.emit(Q.ALL,...u),this._pendingUnlinks.delete(c)})},typeof i.atomic=="number"?i.atomic:100),this;e===Q.ADD&&this._pendingUnlinks.has(n)&&(e=Q.CHANGE,this._pendingUnlinks.delete(n))}if(a&&(e===Q.ADD||e===Q.CHANGE)&&this._readyEmitted){let u=o((c,f)=>{c?(e=Q.ERROR,s[0]=c,this.emitWithAll(e,s)):f&&(s.length>1?s[1]=f:s.push(f),this.emitWithAll(e,s))},"awfEmit");return this._awaitWriteFinish(n,a.stabilityThreshold,e,u),this}if(e===Q.CHANGE&&!this._throttle(Q.CHANGE,n,50))return this;if(i.alwaysStat&&r===void 0&&(e===Q.ADD||e===Q.ADD_DIR||e===Q.CHANGE)){let u=i.cwd?W.join(i.cwd,n):n,c;try{c=await(0,pr.stat)(u)}catch{}if(!c||this.closed)return;s.push(c)}return this.emitWithAll(e,s),this}_handleError(e){let n=e&&e.code;return e&&n!=="ENOENT"&&n!=="ENOTDIR"&&(!this.options.ignorePermissionErrors||n!=="EPERM"&&n!=="EACCES")&&this.emit(Q.ERROR,e),e||this.closed}_throttle(e,n,r){this._throttled.has(e)||this._throttled.set(e,new Map);let i=this._throttled.get(e);if(!i)throw new Error("invalid throttle");let s=i.get(n);if(s)return s.count++,!1;let a,l=o(()=>{let c=i.get(n),f=c?c.count:0;return i.delete(n),clearTimeout(a),c&&clearTimeout(c.timeoutObject),f},"clear");a=setTimeout(l,r);let u={timeoutObject:a,clear:l,count:0};return i.set(n,u),u}_incrReadyCount(){return this._readyCount++}_awaitWriteFinish(e,n,r,i){let s=this.options.awaitWriteFinish;if(typeof s!="object")return;let a=s.pollInterval,l,u=e;this.options.cwd&&!W.isAbsolute(e)&&(u=W.join(this.options.cwd,e));let c=new Date,f=this._pendingWrites;function d(h){(0,qa.stat)(u,(p,w)=>{if(p||!f.has(e)){p&&p.code!=="ENOENT"&&i(p);return}let b=Number(new Date);h&&w.size!==h.size&&(f.get(e).lastChange=b);let C=f.get(e);b-C.lastChange>=n?(f.delete(e),i(void 0,w)):l=setTimeout(d,a,w)})}o(d,"awaitWriteFinishFn"),f.has(e)||(f.set(e,{lastChange:c,cancelWait:o(()=>(f.delete(e),clearTimeout(l),r),"cancelWait")}),l=setTimeout(d,a))}_isIgnored(e,n){if(this.options.atomic&&zd.test(e))return!0;if(!this._userIgnored){let{cwd:r}=this.options,s=(this.options.ignored||[]).map(ja(r)),l=[...[...this._ignoredPaths].map(ja(r)),...s];this._userIgnored=Ud(l,void 0)}return this._userIgnored(e,n)}_isntIgnored(e,n){return!this._isIgnored(e,n)}_getWatchHelpers(e){return new Eo(e,this.options.followSymlinks,this)}_getWatchedDir(e){let n=W.resolve(e);return this._watched.has(n)||this._watched.set(n,new vo(n,this._boundRemove)),this._watched.get(n)}_hasReadPermissions(e){return this.options.ignorePermissionErrors?!0:!!(Number(e.mode)&256)}_remove(e,n,r){let i=W.join(e,n),s=W.resolve(i);if(r=r??(this._watched.has(i)||this._watched.has(s)),!this._throttle("remove",i,100))return;!r&&this._watched.size===1&&this.add(e,n,!0),this._getWatchedDir(i).getChildren().forEach(h=>this._remove(i,h));let u=this._getWatchedDir(e),c=u.has(n);u.remove(n),this._symlinkPaths.has(s)&&this._symlinkPaths.delete(s);let f=i;if(this.options.cwd&&(f=W.relative(this.options.cwd,i)),this.options.awaitWriteFinish&&this._pendingWrites.has(f)&&this._pendingWrites.get(f).cancelWait()===Q.ADD)return;this._watched.delete(i),this._watched.delete(s);let d=r?Q.UNLINK_DIR:Q.UNLINK;c&&!this._isIgnored(i)&&this._emit(d,i),this._closePath(i)}_closePath(e){this._closeFile(e);let n=W.dirname(e);this._getWatchedDir(n).remove(W.basename(e))}_closeFile(e){let n=this._closers.get(e);n&&(n.forEach(r=>r()),this._closers.delete(e))}_addPathCloser(e,n){if(!n)return;let r=this._closers.get(e);r||(r=[],this._closers.set(e,r)),r.push(n)}_readdirp(e,n){if(this.closed)return;let r={type:Q.ALL,alwaysStat:!0,lstat:!0,...n,depth:0},i=Ma(e,r);return this._streams.add(i),i.once(za,()=>{i=void 0}),i.once(Co,()=>{i&&(this._streams.delete(i),i=void 0)}),i}};function Qa(t,e={}){let n=new So(e);return n.add(t),n}o(Qa,"watch");var id=require("obsidian");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function je(){}o(je,"noop");async function Je(){}o(Je,"noopAsync");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Yd=Number.POSITIVE_INFINITY;function Ft(...t){let e=t.filter(s=>!!s);if(typeof AbortSignal.any=="function")return AbortSignal.any(e);if(e.length===0)return be();if(e.length===1&&e[0])return e[0];let n=new AbortController;for(let s of e)if(s.aborted)return s;let r=[];for(let s of e)r.push(Za(s,i));return n.signal;function i(s){for(let a of r)a();n.abort(s.reason)}}o(Ft,"abortSignalAny");function be(){return new AbortController().signal}o(be,"abortSignalNever");function Xa(t){if(t===Yd)return be();if(typeof AbortSignal.timeout=="function")return AbortSignal.timeout(t);let e=new AbortController;return window.setTimeout(()=>{e.abort(new Error(`Timed out in ${String(t)} milliseconds`))},t),e.signal}o(Xa,"abortSignalTimeout");function Za(t,e){if(t.aborted)return e(t),je;return t.addEventListener("abort",n,{once:!0}),()=>{t.removeEventListener("abort",n)};function n(r){e(r.target)}o(n,"wrappedCallback")}o(Za,"onAbort");function To(t,e){return new Promise((n,r)=>{Za(t,()=>{e?r(t.reason):n(t.reason)})})}o(To,"waitForAbort");var Do=pt(fl(),1);o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function _n(t,e){let n=t.length,r=0;for(let i=0;i<n;i++){if(!Object.hasOwn(t,i))continue;let s=t[i];e(s,i,t)&&(t[r++]=s)}t.length=r}o(_n,"filterInPlace");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Qe=class{static{o(this,"AsyncEvents")}eventRefsMap=new Map;off(e,n){let r=this.eventRefsMap.get(e);r&&(_n(r,i=>i.callback!==n),r.length===0&&this.eventRefsMap.delete(e))}offref(e){let n=this.eventRefsMap.get(e.name);n&&(_n(n,r=>r!==e),n.length===0&&this.eventRefsMap.delete(e.name))}on(e,n,r){let i=this.eventRefsMap.get(e);i||(i=[],this.eventRefsMap.set(e,i));let s={asyncEvents:this,callback:n,name:e,thisArg:r};return i.push(s),s}once(e,n,r){let i=this.on(e,n,r),s=this.on(e,()=>{this.offref(i),this.offref(s)});return i}trigger(e,...n){let r=this.eventRefsMap.get(e)??[];for(let i of r.slice())this.tryTrigger(i,n)}async triggerAsync(e,...n){let r=this.eventRefsMap.get(e)??[];for(let i of r.slice())await this.tryTriggerAsync(i,n)}tryTrigger(e,n){try{e.callback.apply(e.thisArg,n)}catch(r){window.setTimeout(()=>{throw r},0)}}async tryTriggerAsync(e,n){try{await e.callback.call(e.thisArg,...n)}catch(r){window.setTimeout(()=>{throw r},0)}}};o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Lo="asyncError",Cr=new Qe;Cr.on(Lo,bh);var xr="An unhandled error occurred executing async operation",hl="    at",Ke=class t extends Error{static{o(this,"CustomStackTraceError")}constructor(e,n,r){super(e,{cause:r}),this.name="CustomStackTraceError",Error.captureStackTrace?.(this,t);let i=r,s=new Set;for(;i instanceof t;){if(s.has(i))throw new Error("Circular cause detected");s.add(i),i=i.cause}let a=(this.stack??"").split(`
`),l=n.split(`
`);/^\w*Error(?:: |$)/.test(l[0]??"")&&l.splice(0,1),a.splice(1,a.length-1,...l),this.stack=a.join(`
`)}},Xt=class t extends Error{static{o(this,"SilentError")}constructor(e){super(e),this.name="SilentError",Error.captureStackTrace?.(this,t)}};function kr(t){Cr.trigger(Lo,t)}o(kr,"emitAsyncErrorEvent");function Ar(t){if(!(t instanceof Error))return String(t);let e=t.stack??`${t.name}: ${t.message}`;if(t.cause!==void 0){let n=Ar(t.cause).split(`
`);e+=`
${dl("Caused by:")}`;for(let r of n)r.trim()&&(e+=r.startsWith(hl)?`
${r}`:`
${dl(r)}`)}return e}o(Ar,"errorToString");function Ce(t=0){return(new Error().stack??"").split(`
`).slice(t+2).join(`
`)}o(Ce,"getStackTrace");function ct(t,e){e??=globalThis.console,e.error(Ar(t))}o(ct,"printError");function pl(t){let e=Cr.on(Lo,t);return()=>{Cr.offref(e)}}o(pl,"registerAsyncErrorEventHandler");function Zt(t){throw t}o(Zt,"throwExpression");function dl(t){return`${hl} --- ${t} --- (0)`}o(dl,"generateStackTraceLine");function bh(t){ct(t)}o(bh,"handleAsyncError");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var _o="47.6.0",vr="obsidian-dev-utils",ml=`.obsidian-dev-utils.code-highlighter-component textarea, .obsidian-dev-utils.code-highlighter-component pre, .obsidian-dev-utils.code-highlighter-component code {
  font-family: var(--font-monospace);
  line-height: var(--line-height-normal);
  margin: 0;
}
.obsidian-dev-utils.code-highlighter-component textarea, .obsidian-dev-utils.code-highlighter-component code {
  font-size: var(--code-size);
}
.obsidian-dev-utils.code-highlighter-component textarea {
  background: transparent;
  color: transparent;
  z-index: 2;
  width: 20em;
  height: 10em;
}
.obsidian-dev-utils.code-highlighter-component pre {
  position: absolute;
  pointer-events: none;
  border: var(--input-border-width) solid transparent;
  overflow: auto;
  inset: 0;
  padding: var(--size-4-1) var(--size-4-2);
  z-index: 1;
}
.obsidian-dev-utils.code-highlighter-component pre::after {
  content: "";
  display: block;
  height: var(--bottom-gap, 0);
}
.obsidian-dev-utils.code-highlighter-component pre.is-placeholder {
  opacity: 0.6;
}
.obsidian-dev-utils.code-highlighter-component code {
  display: block;
  padding: 0;
}

.obsidian-dev-utils input[type=url] {
  height: var(--input-height);
}
.obsidian-dev-utils input[type=month],
.obsidian-dev-utils input[type=tel],
.obsidian-dev-utils input[type=time],
.obsidian-dev-utils input[type=url],
.obsidian-dev-utils input[type=week] {
  -webkit-app-region: no-drag;
  background: var(--background-modifier-form-field);
  border: var(--input-border-width) solid var(--background-modifier-border);
  color: var(--text-normal);
  font-family: inherit;
  padding: var(--size-4-1) var(--size-4-2);
  font-size: var(--font-ui-small);
  border-radius: var(--input-radius);
  outline: none;
}
@media (hover: hover) {
  .obsidian-dev-utils input[type=month]:hover,
  .obsidian-dev-utils input[type=tel]:hover,
  .obsidian-dev-utils input[type=time]:hover,
  .obsidian-dev-utils input[type=url]:hover,
  .obsidian-dev-utils input[type=week]:hover {
    border-color: var(--background-modifier-border-hover);
    transition: box-shadow 0.15s ease-in-out, border 0.15s ease-in-out;
  }
}
.obsidian-dev-utils input[type=month]:active, .obsidian-dev-utils input[type=month]:focus,
.obsidian-dev-utils input[type=tel]:active,
.obsidian-dev-utils input[type=tel]:focus,
.obsidian-dev-utils input[type=time]:active,
.obsidian-dev-utils input[type=time]:focus,
.obsidian-dev-utils input[type=url]:active,
.obsidian-dev-utils input[type=url]:focus,
.obsidian-dev-utils input[type=week]:active,
.obsidian-dev-utils input[type=week]:focus {
  border-color: var(--background-modifier-border-focus);
  transition: box-shadow 0.15s ease-in-out, border 0.15s ease-in-out;
}
.obsidian-dev-utils input[type=month]:active, .obsidian-dev-utils input[type=month]:focus, .obsidian-dev-utils input[type=month]:focus-visible,
.obsidian-dev-utils input[type=tel]:active,
.obsidian-dev-utils input[type=tel]:focus,
.obsidian-dev-utils input[type=tel]:focus-visible,
.obsidian-dev-utils input[type=time]:active,
.obsidian-dev-utils input[type=time]:focus,
.obsidian-dev-utils input[type=time]:focus-visible,
.obsidian-dev-utils input[type=url]:active,
.obsidian-dev-utils input[type=url]:focus,
.obsidian-dev-utils input[type=url]:focus-visible,
.obsidian-dev-utils input[type=week]:active,
.obsidian-dev-utils input[type=week]:focus,
.obsidian-dev-utils input[type=week]:focus-visible {
  box-shadow: 0 0 0 2px var(--background-modifier-border-focus);
}
.obsidian-dev-utils input[type=month]::placeholder,
.obsidian-dev-utils input[type=tel]::placeholder,
.obsidian-dev-utils input[type=time]::placeholder,
.obsidian-dev-utils input[type=url]::placeholder,
.obsidian-dev-utils input[type=week]::placeholder {
  color: var(--text-faint);
}
.mod-rtl input[type=month],
.mod-rtl input[type=time],
.mod-rtl input[type=week],
.is-rtl input[type=month],
.is-rtl input[type=time],
.is-rtl input[type=week],
.rtl input[type=month],
.rtl input[type=time],
.rtl input[type=week] {
  direction: rtl;
}
.mod-rtl input[type=month]::-webkit-calendar-picker-indicator,
.mod-rtl input[type=time]::-webkit-calendar-picker-indicator,
.mod-rtl input[type=week]::-webkit-calendar-picker-indicator,
.is-rtl input[type=month]::-webkit-calendar-picker-indicator,
.is-rtl input[type=time]::-webkit-calendar-picker-indicator,
.is-rtl input[type=week]::-webkit-calendar-picker-indicator,
.rtl input[type=month]::-webkit-calendar-picker-indicator,
.rtl input[type=time]::-webkit-calendar-picker-indicator,
.rtl input[type=week]::-webkit-calendar-picker-indicator {
  right: var(--size-4-1);
  left: auto;
}

.obsidian-dev-utils input[type=month],
.obsidian-dev-utils input[type=time],
.obsidian-dev-utils input[type=week] {
  font-variant-numeric: tabular-nums;
  position: relative;
}
.obsidian-dev-utils input[type=month]::-webkit-datetime-edit-text,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-text,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-text {
  color: var(--text-faint);
  padding-inline-end: 0;
}
.obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator,
.obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator {
  position: absolute;
  left: var(--size-4-1);
  right: auto;
  opacity: 0.5;
}
.obsidian-dev-utils input[type=month]::-webkit-datetime-edit-month-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-month-field:focus, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-day-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-day-field:focus, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-year-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-year-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-month-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-month-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-day-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-day-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-year-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-year-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-month-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-month-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-day-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-day-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-year-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-year-field:focus {
  background-color: var(--text-selection);
  color: var(--text-normal);
  cursor: text;
}
.mod-rtl .obsidian-dev-utils input[type=month], .is-rtl .obsidian-dev-utils input[type=month], .rtl .obsidian-dev-utils input[type=month],
.mod-rtl .obsidian-dev-utils input[type=time],
.is-rtl .obsidian-dev-utils input[type=time],
.rtl .obsidian-dev-utils input[type=time],
.mod-rtl .obsidian-dev-utils input[type=week],
.is-rtl .obsidian-dev-utils input[type=week],
.rtl .obsidian-dev-utils input[type=week] {
  direction: rtl;
}
.mod-rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator, .is-rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator, .rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator,
.mod-rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.is-rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.mod-rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator,
.is-rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator,
.rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator {
  left: auto;
  right: var(--size-4-1);
}

body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=month],
body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=time],
body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=week] {
  padding-inline-start: var(--size-4-6);
}

.obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator {
  margin-inline-start: 0;
}

.obsidian-dev-utilsprogress.loop {
  min-width: 200px;
}

.obsidian-dev-utils.modal-container .ok-button {
  margin-right: 10px;
  margin-top: 20px;
}

.obsidian-dev-utils .multiple-dropdown-component select,
.obsidian-dev-utils .multiple-dropdown-component select:focus,
.obsidian-dev-utils .multiple-dropdown-component .dropdown {
  height: auto;
  padding-top: 3px;
}
.obsidian-dev-utils .multiple-dropdown-component select option:checked,
.obsidian-dev-utils .multiple-dropdown-component select:focus option:checked,
.obsidian-dev-utils .multiple-dropdown-component .dropdown option:checked {
  background-color: #1967d2;
  color: #fff;
}

.obsidian-dev-utils.plugin-settings-tab a:focus {
  outline: 2px solid var(--link-color);
}

.obsidian-dev-utils.prompt-modal .text-box {
  width: 100%;
}

.obsidian-dev-utils.tri-state-checkbox-component input[type=checkbox]:indeterminate {
  appearance: checkbox;
}

.obsidian-dev-utils :invalid {
  box-shadow: 0 0 0 2px var(--text-error);
}
.obsidian-dev-utils input.metadata-input-text:active:invalid, .obsidian-dev-utils input.metadata-input-text:focus-visible:invalid, .obsidian-dev-utils input.metadata-input-text:focus:invalid,
.obsidian-dev-utils input[type=date]:active:invalid,
.obsidian-dev-utils input[type=date]:focus-visible:invalid,
.obsidian-dev-utils input[type=date]:focus:invalid,
.obsidian-dev-utils input[type=datetime-local]:active:invalid,
.obsidian-dev-utils input[type=datetime-local]:focus-visible:invalid,
.obsidian-dev-utils input[type=datetime-local]:focus:invalid,
.obsidian-dev-utils input[type=email]:active:invalid,
.obsidian-dev-utils input[type=email]:focus-visible:invalid,
.obsidian-dev-utils input[type=email]:focus:invalid,
.obsidian-dev-utils input[type=number]:active:invalid,
.obsidian-dev-utils input[type=number]:focus-visible:invalid,
.obsidian-dev-utils input[type=number]:focus:invalid,
.obsidian-dev-utils input[type=password]:active:invalid,
.obsidian-dev-utils input[type=password]:focus-visible:invalid,
.obsidian-dev-utils input[type=password]:focus:invalid,
.obsidian-dev-utils input[type=search]:active:invalid,
.obsidian-dev-utils input[type=search]:focus-visible:invalid,
.obsidian-dev-utils input[type=search]:focus:invalid,
.obsidian-dev-utils input[type=text]:active:invalid,
.obsidian-dev-utils input[type=text]:focus-visible:invalid,
.obsidian-dev-utils input[type=text]:focus:invalid,
.obsidian-dev-utils textarea:active:invalid,
.obsidian-dev-utils textarea:focus-visible:invalid,
.obsidian-dev-utils textarea:focus:invalid {
  box-shadow: 0 0 0 2px var(--text-error);
}
.obsidian-dev-utils.setting-component-wrapper {
  position: relative;
  display: inline-flex;
}
.obsidian-dev-utils.overlay-validator {
  caret-color: transparent;
  cursor: default;
  position: absolute;
  background-color: transparent;
  border: none;
  outline: none;
  pointer-events: none;
  z-index: 9999;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
}
.obsidian-dev-utils.tooltip.tooltip-validator {
  position: absolute;
  top: calc(100% + 8px);
  width: max-content;
}

/*# sourceMappingURL=data:application/json;charset=utf-8,%7B%22version%22:3,%22sourceRoot%22:%22%22,%22sources%22:%5B%22../src/styles/code-highlighter-component.scss%22,%22../src/styles/input.scss%22,%22../src/styles/input-time.scss%22,%22../src/styles/loop.scss%22,%22../src/styles/modal-container.scss%22,%22../src/styles/multiple-dropdown-component.scss%22,%22../src/styles/plugin-settings-tab.scss%22,%22../src/styles/prompt-modal.scss%22,%22../src/styles/tri-state-checkbox-component.scss%22,%22../src/styles/validation.scss%22%5D,%22names%22:%5B%5D,%22mappings%22:%22AAEI;EACE;EACA;EACA;;AAGF;EACE;;AAGF;EACE;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA;;AAGF;EACE;;AAGF;EACE;EACA;;;ACzCJ;EACE;;AAGF;AAAA;AAAA;AAAA;AAAA;EAKE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;AAGE;EACE;AAAA;AAAA;AAAA;AAAA;IACE;IACA,YACE;;;AAMR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAEE;EACA,YACE;;AAIJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGE;;AAGF;AAAA;AAAA;AAAA;AAAA;EACE;;AASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGE;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EACE;EACA;;;AC7DV;AAAA;AAAA;EAGE;EACA;;AAEA;AAAA;AAAA;EACE;EACA;;AAGF;AAAA;AAAA;EACE;EACA;EACA;EACA;;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAEE;EACA;EACA;;AAIK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGP;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EACE;EACA;;;AAKF;AAAA;AAAA;EACE;;;AAMJ;EACE;;;ACjDJ;EACE;;;ACAA;EACE;EACA;;;ACFF;AAAA;AAAA;EAGE;EACA;;AAEA;AAAA;AAAA;EACE;EACA;;;ACRJ;EACE;;;ACDF;EACE;;;ACDF;EACE;;;ACEJ;EAJA;;AAoBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EApBJ;;AA0BA;EACE;EACA;;AAGF;EACE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA%22,%22file%22:%22styles.css%22,%22sourcesContent%22:%5B%22.obsidian-dev-utils%20%7B%5Cn%20%20&.code-highlighter-component%20%7B%5Cn%20%20%20%20textarea,%20pre,%20code%20%7B%5Cn%20%20%20%20%20%20font-family:%20var(--font-monospace);%5Cn%20%20%20%20%20%20line-height:%20var(--line-height-normal);%5Cn%20%20%20%20%20%20margin:%200;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20textarea,%20code%20%7B%5Cn%20%20%20%20%20%20font-size:%20var(--code-size);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20textarea%20%7B%5Cn%20%20%20%20%20%20background:%20transparent;%5Cn%20%20%20%20%20%20color:%20transparent;%5Cn%20%20%20%20%20%20z-index:%202;%5Cn%20%20%20%20%20%20width:%2020em;%5Cn%20%20%20%20%20%20height:%2010em;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre%20%7B%5Cn%20%20%20%20%20%20position:%20absolute;%5Cn%20%20%20%20%20%20pointer-events:%20none;%5Cn%20%20%20%20%20%20border:%20var(--input-border-width)%20solid%20transparent;%5Cn%20%20%20%20%20%20overflow:%20auto;%5Cn%20%20%20%20%20%20inset:%200;%5Cn%20%20%20%20%20%20padding:%20var(--size-4-1)%20var(--size-4-2);%5Cn%20%20%20%20%20%20z-index:%201;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre::after%20%7B%5Cn%20%20%20%20%20%20content:%20%5C%22%5C%22;%5Cn%20%20%20%20%20%20display:%20block;%5Cn%20%20%20%20%20%20height:%20var(--bottom-gap,%200);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre.is-placeholder%20%7B%5Cn%20%20%20%20%20%20opacity:%200.6;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20code%20%7B%5Cn%20%20%20%20%20%20display:%20block;%5Cn%20%20%20%20%20%20padding:%200;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20input%5Btype='url'%5D%20%7B%5Cn%20%20%20%20height:%20var(--input-height)%5Cn%20%20%7D%5Cn%5Cn%20%20input%5Btype='month'%5D,%5Cn%20%20input%5Btype='tel'%5D,%5Cn%20%20input%5Btype='time'%5D,%5Cn%20%20input%5Btype='url'%5D,%5Cn%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20-webkit-app-region:%20no-drag;%5Cn%20%20%20%20background:%20var(--background-modifier-form-field);%5Cn%20%20%20%20border:%20var(--input-border-width)%20solid%20var(--background-modifier-border);%5Cn%20%20%20%20color:%20var(--text-normal);%5Cn%20%20%20%20font-family:%20inherit;%5Cn%20%20%20%20padding:%20var(--size-4-1)%20var(--size-4-2);%5Cn%20%20%20%20font-size:%20var(--font-ui-small);%5Cn%20%20%20%20border-radius:%20var(--input-radius);%5Cn%20%20%20%20outline:%20none;%5Cn%5Cn%20%20%20%20@at-root%20%7B%5Cn%20%20%20%20%20%20@media%20(hover:%20hover)%20%7B%5Cn%20%20%20%20%20%20%20%20&:hover%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20border-color:%20var(--background-modifier-border-hover);%5Cn%20%20%20%20%20%20%20%20%20%20transition:%5Cn%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%200.15s%20ease-in-out,%5Cn%20%20%20%20%20%20%20%20%20%20%20%20border%200.15s%20ease-in-out;%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20border-color:%20var(--background-modifier-border-focus);%5Cn%20%20%20%20%20%20transition:%5Cn%20%20%20%20%20%20%20%20box-shadow%200.15s%20ease-in-out,%5Cn%20%20%20%20%20%20%20%20border%200.15s%20ease-in-out;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus,%5Cn%20%20%20%20&:focus-visible%20%7B%5Cn%20%20%20%20%20%20box-shadow:%200%200%200%202px%20var(--background-modifier-border-focus);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::placeholder%20%7B%5Cn%20%20%20%20%20%20color:%20var(--text-faint);%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20@at-root%20%7B%5Cn%20%20%20%20.mod-rtl,%5Cn%20%20%20%20.is-rtl,%5Cn%20%20%20%20.rtl%20%7B%5Cn%20%20%20%20%20%20&%20%7B%5Cn%20%20%20%20%20%20%20%20input%5Btype='month'%5D,%5Cn%20%20%20%20%20%20%20%20input%5Btype='time'%5D,%5Cn%20%20%20%20%20%20%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20direction:%20rtl;%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20right:%20var(--size-4-1);%5Cn%20%20%20%20%20%20%20%20%20%20%20%20left:%20auto;%5Cn%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20input%5Btype='month'%5D,%5Cn%20%20input%5Btype='time'%5D,%5Cn%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20font-variant-numeric:%20tabular-nums;%5Cn%20%20%20%20position:%20relative;%5Cn%5Cn%20%20%20%20&::-webkit-datetime-edit-text%20%7B%5Cn%20%20%20%20%20%20color:%20var(--text-faint);%5Cn%20%20%20%20%20%20padding-inline-end:%200;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20position:%20absolute;%5Cn%20%20%20%20%20%20left:%20var(--size-4-1);%5Cn%20%20%20%20%20%20right:%20auto;%5Cn%20%20%20%20%20%20opacity:%200.5;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::-webkit-datetime-edit-month-field,%5Cn%20%20%20%20&::-webkit-datetime-edit-day-field,%5Cn%20%20%20%20&::-webkit-datetime-edit-year-field%20%7B%5Cn%20%20%20%20%20%20&:active,%5Cn%20%20%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20%20%20background-color:%20var(--text-selection);%5Cn%20%20%20%20%20%20%20%20color:%20var(--text-normal);%5Cn%20%20%20%20%20%20%20%20cursor:%20text;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20@at-root%20.mod-rtl%20&,%5Cn%20%20%20%20%20%20.is-rtl%20&,%5Cn%20%20%20%20%20%20.rtl%20&%20%7B%5Cn%20%20%20%20%20%20direction:%20rtl;%5Cn%5Cn%20%20%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20%20%20left:%20auto;%5Cn%20%20%20%20%20%20%20%20right:%20var(--size-4-1);%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20@at-root%20%7B%5Cn%20%20%20%20%20%20body:not(.is-ios):not(.is-android)%20&%20%7B%5Cn%20%20%20%20%20%20%20%20padding-inline-start:%20var(--size-4-6);%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20input%5Btype='time'%5D%20%7B%5Cn%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20margin-inline-start:%200;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&progress.loop%20%7B%5Cn%20%20%20%20min-width:%20200px;%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&.modal-container%20%7B%5Cn%20%20%20%20.ok-button%20%7B%5Cn%20%20%20%20%20%20margin-right:%2010px;%5Cn%20%20%20%20%20%20margin-top:%2020px;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20.multiple-dropdown-component%20%7B%5Cn%20%20%20%20select,%5Cn%20%20%20%20select:focus,%5Cn%20%20%20%20.dropdown%20%7B%5Cn%20%20%20%20%20%20height:%20auto;%5Cn%20%20%20%20%20%20padding-top:%203px;%5Cn%5Cn%20%20%20%20%20%20option:checked%20%7B%5Cn%20%20%20%20%20%20%20%20background-color:%20%231967d2;%5Cn%20%20%20%20%20%20%20%20color:%20%23fff;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&.plugin-settings-tab%20%7B%5Cn%20%20%20%20a:focus%20%7B%5Cn%20%20%20%20%20%20outline:%202px%20solid%20var(--link-color);%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&.prompt-modal%20%7B%5Cn%20%20%20%20.text-box%20%7B%5Cn%20%20%20%20%20%20width:%20100%25;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cr%5Cn%20%20&.tri-state-checkbox-component%20%7B%5Cr%5Cn%20%20%20%20input%5Btype='checkbox'%5D:indeterminate%20%7B%5Cr%5Cn%20%20%20%20%20%20appearance:%20checkbox;%5Cr%5Cn%20%20%20%20%7D%5Cr%5Cn%20%20%7D%5Cr%5Cn%7D%5Cr%5Cn%22,%22@mixin%20invalid%20%7B%5Cn%20%20box-shadow:%200%200%200%202px%20var(--text-error);%5Cn%7D%5Cn%5Cn.obsidian-dev-utils%20%7B%5Cn%20%20:invalid%20%7B%5Cn%20%20%20%20@include%20invalid;%5Cn%20%20%7D%5Cn%5Cn%20%20input.metadata-input-text,%5Cn%20%20input%5Btype='date'%5D,%5Cn%20%20input%5Btype='datetime-local'%5D,%5Cn%20%20input%5Btype='email'%5D,%5Cn%20%20input%5Btype='number'%5D,%5Cn%20%20input%5Btype='password'%5D,%5Cn%20%20input%5Btype='search'%5D,%5Cn%20%20input%5Btype='text'%5D,%5Cn%20%20textarea%20%7B%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus-visible,%5Cn%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20&:invalid%20%7B%5Cn%20%20%20%20%20%20%20%20@include%20invalid;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20&.setting-component-wrapper%20%7B%5Cn%20%20%20%20position:%20relative;%5Cn%20%20%20%20display:%20inline-flex;%5Cn%20%20%7D%5Cn%5Cn%20%20&.overlay-validator%20%7B%5Cn%20%20%20%20caret-color:%20transparent;%5Cn%20%20%20%20cursor:%20default;%5Cn%20%20%20%20position:%20absolute;%5Cn%20%20%20%20background-color:%20transparent;%5Cn%20%20%20%20border:%20none;%5Cn%20%20%20%20outline:%20none;%5Cn%20%20%20%20pointer-events:%20none;%5Cn%20%20%20%20z-index:%209999;%5Cn%20%20%20%20left:%200;%5Cn%20%20%20%20top:%200;%5Cn%20%20%20%20width:%20100%25;%5Cn%20%20%20%20height:%20100%25;%5Cn%20%20%7D%5Cn%5Cn%20%20&.tooltip.tooltip-validator%20%7B%5Cn%20%20%20%20position:%20absolute;%5Cn%20%20%20%20top:%20calc(100%25%20+%208px);%5Cn%20%20%20%20width:%20max-content;%5Cn%20%20%7D%5Cn%7D%5Cn%22%5D%7D */
`;o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Oo=class{static{o(this,"ValueWrapper")}constructor(e){this.value=e}};function Ch(){let t=globalThis.app;if(t)return t;try{return globalThis.require("obsidian/app")}catch{throw new Error("Obsidian App global instance not found")}}o(Ch,"getApp");function xe(t,e,n){let i=t??xh()??globalThis;return i.obsidianDevUtilsState??={},i.obsidianDevUtilsState[e]??=new Oo(n)}o(xe,"getObsidianDevUtilsState");function xh(){return typeof window>"u"?null:Ch()}o(xh,"getAppOrNull");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ro="__no-plugin-id-initialized__",gl=Ro;function Er(){return gl}o(Er,"getPluginId");function wl(t){t&&(gl=t)}o(wl,"setPluginId");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var yl=",",Sr="-";function bl(){return{disable:kh,enable:Ah,get:Tr,set:On}}o(bl,"getDebugController");function en(t,e=0){let n=`${t}:${String(e)}`,r=xe(null,"debuggers",new Map).value,i=r.get(n);return i||(i=Rn()(t),i.log=(s,...a)=>{vh(t,e,s,...a)},r.set(n,i)),i}o(en,"getDebugger");function q(t){let e=Er(),n=e===Ro?"":`${e}:`;return en(`${n}${vr}:${t}`)}o(q,"getLibDebugger");function Xe(t,e,n,...r){if(!xl()){t(n,...r);return}t(n,...r,`

---
Context stack trace:
`,kl(e))}o(Xe,"printWithStackTrace");function Cl(t){let e=Rn().enabled(t),n=e?"enabled":"disabled",r=e?"disable":"enable",i=Tr();On(t),en(t)(`Debug messages for plugin ${t} are ${n}. See https://github.com/mnaoumov/obsidian-dev-utils/blob/main/docs/debugging.md how to ${r} them.`),On(i)}o(Cl,"showInitialDebugMessage");function kh(t){let e=new Set(Tr());for(let n of Dn(t)){if(n.startsWith(Sr))continue;let r=Sr+n;e.has(n)&&e.delete(n),e.add(r)}On(Array.from(e))}o(kh,"disableNamespaces");function Ah(t){let e=new Set(Tr());for(let n of Dn(t)){if(!n.startsWith(Sr)){let r=Sr+n;e.has(r)&&e.delete(r)}e.add(n)}On(Array.from(e))}o(Ah,"enableNamespaces");function Tr(){return Dn(Rn().load()??"")}o(Tr,"getNamespaces");function Rn(){return typeof window>"u"?Do.default:xe(null,"debug",Do.default).value}o(Rn,"getSharedDebugLibInstance");function xl(){return typeof window<"u"}o(xl,"isInObsidian");function vh(t,e,n,...r){if(!Rn().enabled(t))return;if(!xl()){console.debug(n,...r);return}let i=4,s=new Error().stack?.split(`
`)??[];s.splice(0,i+e),console.debug(n,...r,`

---
Logger stack trace:
`,kl(s.join(`
`)))}o(vh,"logWithCaller");function kl(t){return new Ke("Debug mode: intentional placeholder error. See https://github.com/mnaoumov/obsidian-dev-utils/blob/main/docs/debugging.md.",t,void 0)}o(kl,"makeStackTraceError");function On(t){Rn().enable(Dn(t).join(yl))}o(On,"setNamespaces");function Dn(t){return typeof t=="string"?t.split(yl).filter(Boolean):t.flatMap(Dn)}o(Dn,"toArray");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function tn(t,e,...n){return e??=be(),e.throwIfAborted(),Eh(t)?await t(e,...n):t}o(tn,"resolveValue");function Eh(t){return typeof t=="function"}o(Eh,"isFunction");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Sh={"\n":"\\n","\r":"\\r","	":"\\t","\b":"\\b","\f":"\\f","'":"\\'",'"':'\\"',"\\":"\\\\"};var Th={};for(let[t,e]of Object.entries(Sh))Th[e]=t;function Al(t,e,n,r){return r??=n,t.slice(0,n)+e+t.slice(r)}o(Al,"insertAt");function Mn(t){return he(t,/\u00A0|\u202F/g," ").normalize("NFC")}o(Mn,"normalize");function he(t,e,n){return typeof n>"u"?t:(e instanceof RegExp&&!e.global&&(e=new RegExp(e.source,`${e.flags}g`)),typeof n=="string"?t.replaceAll(e,n):t.replaceAll(e,(r,...i)=>{let a=typeof i.at(-1)=="object",l=a?i.length-2:i.length-1,u={groups:a?i.at(-1):void 0,missingGroupIndices:[],offset:i.at(l-1),source:i.at(l),substring:r},c=i.slice(0,l-1).map((f,d)=>{if(typeof f=="string")return f;if(typeof f>"u")return u.missingGroupIndices.push(d),"";throw new Error(`Unexpected argument type: ${typeof f}`)});return n(u,...c)??u.substring}))}o(he,"replaceAll");function Mo(t,e,n){if(t.endsWith(e))return t.slice(0,-e.length);if(n)throw new Error(`String ${t} does not end with suffix ${e}`);return t}o(Mo,"trimEnd");function vl(t,e,n){if(t.startsWith(e))return t.slice(e.length);if(n)throw new Error(`String ${t} does not start with prefix ${e}`);return t}o(vl,"trimStart");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var El=".",Ph=[{constructor:ArrayBuffer,equalityComparer:Ih},{constructor:Date,equalityComparer:Lh},{constructor:RegExp,equalityComparer:Oh},{constructor:Map,equalityComparer:_h},{constructor:Set,equalityComparer:Rh}];function Ne(t,e){if(t===e)return!0;if(typeof t!="object"||typeof e!="object"||t===null||e===null)return!1;let n=t.constructor,r=e.constructor;if(n!==r)return!1;if(n!==Object){let u=Dh(t,e);if(u!==void 0)return u}let i=nn(t),s=nn(e);if(i.length!==s.length)return!1;let a=t,l=e;for(let u of i)if(!s.includes(u)||!Ne(a[u],l[u]))return!1;return!0}o(Ne,"deepEqual");function mt(t){return typeof t!="object"||t===null?t:"default"in t?t.default:t}o(mt,"extractDefaultExportInterop");function nn(t){let e=[],n=t;for(;n;){let r=Object.getOwnPropertyDescriptors(n);for(let[i,s]of Object.entries(r)){if(i==="__proto__"||typeof s.value=="function")continue;let a=typeof s.get=="function",l=typeof s.set=="function";if(a||l){a&&l&&e.push(i);continue}s.enumerable&&s.writable&&e.push(i)}n=Object.getPrototypeOf(n)}return e.sort()}o(nn,"getAllKeys");function rn(t,e){let n=t,r=e.split(El);for(let i of r){if(n===void 0)return;n=n[i]}return n}o(rn,"getNestedPropertyValue");function Sl(t,e,n){let r=new Error(`Property path ${e} not found`),i=t,s=e.split(El);for(let l of s.slice(0,-1)){if(i===void 0)throw r;i=i[l]}let a=s.at(-1);if(i===void 0||a===void 0)throw r;i[a]=n}o(Sl,"setNestedPropertyValue");function Pr(t,e={}){let n={functionHandlingMode:"exclude",maxDepth:-1,shouldCatchToJSONErrors:!1,shouldHandleCircularReferences:!1,shouldHandleErrors:!1,shouldHandleUndefined:!1,shouldSortKeys:!1,space:2,tokenSubstitutions:{circularReference:No("CircularReference"),maxDepthLimitReached:No("MaxDepthLimitReached"),toJSONFailed:No("ToJSONFailed")}},r={...n,...e,tokenSubstitutions:{...n.tokenSubstitutions,...e.tokenSubstitutions}};r.maxDepth===-1&&(r.maxDepth=1/0);let i=[],a=Fr(t,"",0,!0,r,i,new WeakSet),l=JSON.stringify(a,null,r.space)??"";return l=he(l,/"\[\[(?<Key>[A-Za-z]+)(?<Index>\d*)\]\]"/g,(u,c,f)=>Fh({functionTexts:i,index:f?parseInt(f,10):0,key:c,substitutions:r.tokenSubstitutions})),l}o(Pr,"toJson");function Fh(t){switch(t.key){case"CircularReference":return t.substitutions.circularReference;case"Function":return t.functionTexts[t.index]??Zt(new Error(`Function with index ${String(t.index)} not found`));case"MaxDepthLimitReached":return t.substitutions.maxDepthLimitReached;case"MaxDepthLimitReachedArray":return`Array(${String(t.index)})`;case"ToJSONFailed":return t.substitutions.toJSONFailed;case"Undefined":return"undefined";default:break}}o(Fh,"applySubstitutions");function Ih(t,e){if(t.byteLength!==e.byteLength)return!1;let n=new Uint8Array(t),r=new Uint8Array(e);return Ne(n,r)}o(Ih,"deepEqualArrayBuffer");function Lh(t,e){return t.getTime()===e.getTime()}o(Lh,"deepEqualDate");function _h(t,e){if(t.size!==e.size)return!1;for(let[n,r]of t.entries())if(!e.has(n)||!Ne(r,e.get(n)))return!1;return!0}o(_h,"deepEqualMap");function Oh(t,e){return t.source===e.source&&t.flags===e.flags}o(Oh,"deepEqualRegExp");function Rh(t,e){if(t.size!==e.size)return!1;for(let n of t){if(e.has(n))continue;let r=!1;for(let i of e)if(Ne(n,i)){r=!0;break}if(!r)return!1}return!0}o(Rh,"deepEqualSet");function Dh(t,e){for(let{constructor:n,equalityComparer:r}of Ph)if(t instanceof n&&e instanceof n)return r(t,e)}o(Dh,"deepEqualTyped");function Mh(t,e,n,r,i,s){return e>r.maxDepth?on("MaxDepthLimitReachedArray",t.length):t.map((a,l)=>Fr(a,String(l),e+1,n,r,i,s))}o(Mh,"handleArray");function Nh(t,e,n){if(n.shouldHandleCircularReferences)return on("CircularReference");let r=t.constructor.name||"Object";throw new TypeError(`Converting circular structure to JSON
--> starting at object with constructor '${r}'
--- property '${e}' closes the circle`)}o(Nh,"handleCircularReference");function Bh(t,e,n){if(n.functionHandlingMode==="exclude")return;let r=e.length,i=n.functionHandlingMode==="full"?String(t):`function ${t.name||"anonymous"}() { /* ... */ }`;return e.push(i),on("Function",r)}o(Bh,"handleFunction");function zh(t,e,n,r,i,s,a){if(a.has(t))return Nh(t,e,i);if(a.add(t),r){let l=Wh(t,e,n,i,s,a);if(l!==void 0)return l}return Array.isArray(t)?Mh(t,n,r,i,s,a):n>i.maxDepth?on("MaxDepthLimitReached"):t instanceof Error&&i.shouldHandleErrors?Ar(t):Vh(t,n,r,i,s,a)}o(zh,"handleObject");function Vh(t,e,n,r,i,s){let a=Object.entries(t);return r.shouldSortKeys&&a.sort(([l],[u])=>l.localeCompare(u)),Object.fromEntries(a.map(([l,u])=>[l,Fr(u,l,e+1,n,r,i,s)]))}o(Vh,"handlePlainObject");function No(t){return`{ "[[${t}]]": null }`}o(No,"makeObjectTokenSubstitution");function on(t,e){return`[[${t}${e?String(e):""}]]`}o(on,"makePlaceholder");function Fr(t,e,n,r,i,s,a){return t===void 0?n===0||i.shouldHandleUndefined?on("Undefined"):void 0:typeof t=="function"?Bh(t,s,i):typeof t!="object"||t===null?t:zh(t,e,n,r,i,s,a)}o(Fr,"toPlainObject");function Wh(t,e,n,r,i,s){let a=t.toJSON;if(typeof a=="function")try{let l=a.call(t,e);return Fr(l,e,n,!1,r,i,s)}catch(l){if(r.shouldCatchToJSONErrors)return on("ToJSONFailed");throw l}}o(Wh,"tryHandleToJSON");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function Bo(t,e){e??=Ce(1);try{await t()}catch(n){let r=new Ke(xr,e,n);if($h(r))return;kr(r)}}o(Bo,"addErrorHandler");function gt(t,e){return e??=Ce(1),(...n)=>{let r=Ce(1);e=`${e??""}
    at --- convertAsyncToSync --- (0)
${r}`,ne(()=>t(...n),e)}}o(gt,"convertAsyncToSync");function $h(t){let e=t;for(;!(e instanceof Xt);){if(!(e instanceof Error))return!1;e=e.cause}return q("Async:handleSilentError")(t),!0}o($h,"handleSilentError");function ne(t,e){e??=Ce(1),Bo(t,e)}o(ne,"invokeAsyncSafely");function Pl(t,e=0,n,r){r??=be(),r.throwIfAborted(),n??=Ce(1),ne(async()=>{await Vo(e,r,!0),await t(r)},n)}o(Pl,"invokeAsyncSafelyAfterDelay");var Uh=new WeakSet;async function Fl(){return new Promise(t=>{requestAnimationFrame(()=>{t()})})}o(Fl,"requestAnimationFrameAsync");async function Il(t){let e=q("Async:retryWithTimeout"),n=t.stackTrace??Ce(1),i={...{retryDelayInMilliseconds:100,shouldRetryOnError:!1,timeoutInMilliseconds:5e3},...t.retryOptions};i.abortSignal?.throwIfAborted(),await zo({context:{operationName:t.operationName??"",retryFn:t.operationFn},onTimeout:t.onTimeout,async operationFn(s){let a=Ft(i.abortSignal,s);a.throwIfAborted();let l=0;for(;!a.aborted;){l++;let u;try{u=await t.operationFn(a)}catch(c){if(a.aborted||!i.shouldRetryOnError||Uh.has(c))throw new Ke("retryWithTimeout failed",n,c);ct(c),u=!1}if(u){Xe(e,n,`Retry completed successfully after ${String(l)} attempts`,{operationFn:t.operationFn,operationName:t.operationName??""});return}Xe(e,n,`Retry attempt ${String(l)} completed unsuccessfully. Trying again in ${String(i.retryDelayInMilliseconds)} milliseconds`,{operationFn:t.operationFn,operationName:t.operationName??""}),await Vo(i.retryDelayInMilliseconds,s)}},operationName:t.operationName??"",stackTrace:n,timeoutInMilliseconds:i.timeoutInMilliseconds})}o(Il,"retryWithTimeout");async function zo(t){let e=t.stackTrace??Ce(1),n=performance.now(),r=new AbortController,i=new AbortController,s=null,a=!1,l=!1,u=q("Async:runWithTimeout"),c=t.onTimeout??h;if(await Promise.race([f(),d()]),a)return s;throw new Ke("Run with timeout failed",e,r.signal.reason);async function f(){try{s=await t.operationFn(r.signal);let p=Math.trunc(performance.now()-n);Xe(u,e,`Execution time: ${String(p)} milliseconds`,{context:t.context,operationFn:t.operationFn,operationName:t.operationName??""}),a=!0}catch(p){r.abort(p)}finally{l=!0,i.abort(new Error("Completed"))}}async function d(){if(await Vo(t.timeoutInMilliseconds,i.signal),l)return;let p=Math.trunc(performance.now()-n);Xe(u,e,`Timed out after ${String(p)} milliseconds`,{context:t.context,operationFn:t.operationFn,operationName:t.operationName??""});let w={duration:p,onOperationCompleted(b){i.signal.addEventListener("abort",b)},operationName:t.operationName??"",terminateOperation(){let b=new Error(`Timed out after ${String(p)} milliseconds`);r.abort(b),i.abort(b)}};c(w),await To(i.signal)}function h(p){p.terminateOperation()}}o(zo,"runWithTimeout");async function Vo(t,e,n){await To(Ft(e,Xa(t))),n&&e?.throwIfAborted()}o(Vo,"sleep");var Nl=require("obsidian");var Rl=pt(_l(),1);o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var F=(t=>(t.AlertModal="alert-modal",t.CancelButton="cancel-button",t.CheckboxComponent="checkbox-component",t.CodeHighlighterComponent="code-highlighter-component",t.ConfirmModal="confirm-modal",t.DateComponent="date-component",t.DateTimeComponent="datetime-component",t.EmailComponent="email-component",t.FileComponent="file-component",t.IsPlaceholder="is-placeholder",t.LibraryName="obsidian-dev-utils",t.MonthComponent="month-component",t.MultipleDropdownComponent="multiple-dropdown-component",t.MultipleEmailComponent="multiple-email-component",t.MultipleFileComponent="multiple-file-component",t.MultipleTextComponent="multiple-text-component",t.NumberComponent="number-component",t.OkButton="ok-button",t.OverlayValidator="overlay-validator",t.PasswordComponent="password-component",t.PluginSettingsTab="plugin-settings-tab",t.PromptModal="prompt-modal",t.SelectItemModal="select-item-modal",t.SettingComponentWrapper="setting-component-wrapper",t.TelephoneComponent="telephone-component",t.TextBox="text-box",t.TimeComponent="time-component",t.Tooltip="tooltip",t.TooltipArrow="tooltip-arrow",t.TooltipValidator="tooltip-validator",t.TriStateCheckboxComponent="tri-state-checkbox-component",t.TypedDropdownComponent="typed-dropdown-component",t.TypedMultipleDropdownComponent="typed-multiple-dropdown-component",t.UrlComponent="url-component",t.WeekComponent="week-component",t))(F||{});o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ol=`${vr}-styles`;function Y(t,...e){t.addClass(F.LibraryName,Er(),...e)}o(Y,"addPluginCssClasses");function Dl(t){let e=t;e.DEBUG=bl()}o(Dl,"initDebugController");function Ml(t,e){wl(e),Cl(e);let n=xe(t,"lastLibraryVersion","0.0.0");(0,Rl.compareVersions)(_o,n.value)<=0||(n.value=_o,document.head.querySelector(`#${Ol}`)?.remove(),document.head.createEl("style",{attr:{id:Ol},text:ml}))}o(Ml,"initPluginContext");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function Wo(t){let n={...{abortSignal:be(),buildNoticeMessage(){throw new Error("buildNoticeMessage is required")},items:[],noticeBeforeShownTimeoutInMilliseconds:500,noticeMinTimeoutInMilliseconds:2e3,processItem:je,progressBarTitle:"",shouldContinueOnError:!0,shouldShowNotice:!0,shouldShowProgressBar:!0,uiUpdateThresholdInMilliseconds:100},...t},r=Ce(1),i=n.items,s=0,a=null,l=!1;ne(()=>d());let u=sleep(n.noticeMinTimeoutInMilliseconds),c=createEl("progress");Y(c,"loop"),c.max=i.length;let f=performance.now();for(let h of i){if(n.abortSignal.aborted){a?.hide();return}s++;let p=`# ${String(s)} / ${String(i.length)}`,w=n.buildNoticeMessage(h,p);n.shouldShowProgressBar||a?.setMessage(w),q("Loop")(w);try{performance.now()-f>n.uiUpdateThresholdInMilliseconds&&(await Fl(),f=performance.now()),await n.processItem(h)}catch(b){if(console.error("Error processing item",h),!n.shouldContinueOnError)throw a?.hide(),new Ke("loop failed",r,b);kr(new Ke(xr,r,b))}c.value++}a&&await u,a?.hide(),l=!0;async function d(){if(!n.shouldShowNotice||(await sleep(n.noticeBeforeShownTimeoutInMilliseconds),l)||(a=new Nl.Notice("",0),!n.shouldShowProgressBar))return;let h=createFragment();h.createDiv({text:n.progressBarTitle}),h.appendChild(c),a.setMessage(h)}o(d,"showNotice")}o(Wo,"loop");function Bl(t,e){let n=Object.keys(e).map(r=>Hh(t,r,e[r]));return n.length===1?n[0]:function(){n.forEach(r=>r())}}o(Bl,"around");function Hh(t,e,n){let r=t[e],i=t.hasOwnProperty(e),s=i?r:function(){return Object.getPrototypeOf(t)[e].apply(this,arguments)},a=n(s);return r&&Object.setPrototypeOf(a,r),Object.setPrototypeOf(l,a),t[e]=l,u;function l(...c){return a===s&&t[e]===l&&u(),a.apply(this,c)}o(l,"wrapper");function u(){t[e]===l&&(i?t[e]=s:delete t[e]),a!==s&&(a=s,Object.setPrototypeOf(l,r||Function))}o(u,"remove")}o(Hh,"around1");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function jh(t,e){return Bl(t,e)}o(jh,"around");function Lr(t,e,n){let r=jh(e,n),i=!1;function s(){if(!i)try{r()}finally{i=!0}}return o(s,"uninstallerWrapper"),t.register(s),r}o(Lr,"registerPatch");var Ur=require("obsidian");var zl=require("obsidian");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var _r=class extends zl.Component{static{o(this,"AsyncEventsComponent")}registerAsyncEvent(e){Or(this,e)}};function Or(t,e){t.register(()=>{e.asyncEvents.offref(e)})}o(Or,"registerAsyncEvent");var O=o(t=>typeof t=="string","isString"),Nn=o(()=>{let t,e,n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n},"defer"),Vl=o(t=>t==null?"":""+t,"makeString"),Kh=o((t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},"copy"),qh=/###/g,Wl=o(t=>t&&t.indexOf("###")>-1?t.replace(qh,"."):t,"cleanKey"),$l=o(t=>!t||O(t),"canNotTraverseDeeper"),Bn=o((t,e,n)=>{let r=O(e)?e.split("."):e,i=0;for(;i<r.length-1;){if($l(t))return{};let s=Wl(r[i]);!t[s]&&n&&(t[s]=new n),Object.prototype.hasOwnProperty.call(t,s)?t=t[s]:t={},++i}return $l(t)?{}:{obj:t,k:Wl(r[i])}},"getLastOfPath"),Ul=o((t,e,n)=>{let{obj:r,k:i}=Bn(t,e,Object);if(r!==void 0||e.length===1){r[i]=n;return}let s=e[e.length-1],a=e.slice(0,e.length-1),l=Bn(t,a,Object);for(;l.obj===void 0&&a.length;)s=`${a[a.length-1]}.${s}`,a=a.slice(0,a.length-1),l=Bn(t,a,Object),l?.obj&&typeof l.obj[`${l.k}.${s}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${s}`]=n},"setPath"),Yh=o((t,e,n,r)=>{let{obj:i,k:s}=Bn(t,e,Object);i[s]=i[s]||[],i[s].push(n)},"pushPath"),Dr=o((t,e)=>{let{obj:n,k:r}=Bn(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},"getPath"),Gh=o((t,e,n)=>{let r=Dr(t,n);return r!==void 0?r:Dr(e,n)},"getPathWithDefaults"),Jl=o((t,e,n)=>{for(let r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?O(t[r])||t[r]instanceof String||O(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):Jl(t[r],e[r],n):t[r]=e[r]);return t},"deepExtend"),sn=o(t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),"regexEscape"),Jh={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},Qh=o(t=>O(t)?t.replace(/[&<>"'\/]/g,e=>Jh[e]):t,"escape"),jo=class{static{o(this,"RegExpCache")}constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){let n=this.regExpMap.get(e);if(n!==void 0)return n;let r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}},Xh=[" ",",","?","!",";"],Zh=new jo(20),ep=o((t,e,n)=>{e=e||"",n=n||"";let r=Xh.filter(a=>e.indexOf(a)<0&&n.indexOf(a)<0);if(r.length===0)return!0;let i=Zh.getRegExp(`(${r.map(a=>a==="?"?"\\?":a).join("|")})`),s=!i.test(t);if(!s){let a=t.indexOf(n);a>0&&!i.test(t.substring(0,a))&&(s=!0)}return s},"looksLikeObjectPath"),Ko=o((t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;let r=e.split(n),i=t;for(let s=0;s<r.length;){if(!i||typeof i!="object")return;let a,l="";for(let u=s;u<r.length;++u)if(u!==s&&(l+=n),l+=r[u],a=i[l],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&u<r.length-1)continue;s+=u-s+1;break}i=a}return i},"deepFind"),zn=o(t=>t?.replace("_","-"),"getCleanedCode"),tp={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console?.[t]?.apply?.(console,e)}},qo=class t{static{o(this,"Logger")}constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||tp,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,i){return i&&!this.debug?null:(O(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new t(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new t(this.logger,e)}},Ze=new qo,an=class{static{o(this,"EventEmitter")}constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);let i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,s])=>{for(let a=0;a<s;a++)i(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,s])=>{for(let a=0;a<s;a++)i.apply(i,[e,...n])})}},Mr=class extends an{static{o(this,"ResourceStore")}constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){let n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r,i={}){let s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,a=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure,l;e.indexOf(".")>-1?l=e.split("."):(l=[e,n],r&&(Array.isArray(r)?l.push(...r):O(r)&&s?l.push(...r.split(s)):l.push(r)));let u=Dr(this.data,l);return!u&&!n&&!r&&e.indexOf(".")>-1&&(e=l[0],n=l[1],r=l.slice(2).join(".")),u||!a||!O(r)?u:Ko(this.data?.[e]?.[n],r,s)}addResource(e,n,r,i,s={silent:!1}){let a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,l=[e,n];r&&(l=l.concat(a?r.split(a):r)),e.indexOf(".")>-1&&(l=e.split("."),i=n,n=l[1]),this.addNamespaces(n),Ul(this.data,l,i),s.silent||this.emit("added",e,n,r,i)}addResources(e,n,r,i={silent:!1}){for(let s in r)(O(r[s])||Array.isArray(r[s]))&&this.addResource(e,n,s,r[s],{silent:!0});i.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,i,s,a={silent:!1,skipCopy:!1}){let l=[e,n];e.indexOf(".")>-1&&(l=e.split("."),i=r,r=n,n=l[1]),this.addNamespaces(n);let u=Dr(this.data,l)||{};a.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?Jl(u,r,s):u={...u,...r},Ul(this.data,l,u),a.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){let n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}},Ql={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,i){return t.forEach(s=>{e=this.processors[s]?.process(e,n,r,i)??e}),e}},Xl=Symbol("i18next/PATH_KEY");function np(){let t=[],e=Object.create(null),n;return e.get=(r,i)=>(n?.revoke?.(),i===Xl?t:(t.push(i),n=Proxy.revocable(r,e),n.proxy)),Proxy.revocable(Object.create(null),e).proxy}o(np,"createProxy");function Yo(t,e){let{[Xl]:n}=t(np());return n.join(e?.keySeparator??".")}o(Yo,"keysFromSelector");var Hl={},$o=o(t=>!O(t)&&typeof t!="boolean"&&typeof t!="number","shouldHandleAsObject"),Nr=class t extends an{static{o(this,"Translator")}constructor(e,n={}){super(),Kh(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Ze.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){let r={...n};if(e==null)return!1;let i=this.resolve(e,r);if(i?.res===void 0)return!1;let s=$o(i.res);return!(r.returnObjects===!1&&s)}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");let i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,s=n.ns||this.options.defaultNS||[],a=r&&e.indexOf(r)>-1,l=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!ep(e,r,i);if(a&&!l){let u=e.match(this.interpolator.nestingRegexp);if(u&&u.length>0)return{key:e,namespaces:O(s)?[s]:s};let c=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(c[0])>-1)&&(s=c.shift()),e=c.join(i)}return{key:e,namespaces:O(s)?[s]:s}}translate(e,n,r){let i=typeof n=="object"?{...n}:n;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i={...i}),i||(i={}),e==null)return"";typeof e=="function"&&(e=Yo(e,{...this.options,...i})),Array.isArray(e)||(e=[String(e)]);let s=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:l,namespaces:u}=this.extractFromKey(e[e.length-1],i),c=u[u.length-1],f=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;f===void 0&&(f=":");let d=i.lng||this.language,h=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(d?.toLowerCase()==="cimode")return h?s?{res:`${c}${f}${l}`,usedKey:l,exactUsedKey:l,usedLng:d,usedNS:c,usedParams:this.getUsedParamsDetails(i)}:`${c}${f}${l}`:s?{res:l,usedKey:l,exactUsedKey:l,usedLng:d,usedNS:c,usedParams:this.getUsedParamsDetails(i)}:l;let p=this.resolve(e,i),w=p?.res,b=p?.usedKey||l,C=p?.exactUsedKey||l,y=["[object Number]","[object Function]","[object RegExp]"],k=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,v=!this.i18nFormat||this.i18nFormat.handleAsObject,S=i.count!==void 0&&!O(i.count),I=t.hasDefaultValue(i),x=S?this.pluralResolver.getSuffix(d,i.count,i):"",B=i.ordinal&&S?this.pluralResolver.getSuffix(d,i.count,{ordinal:!1}):"",H=S&&!i.ordinal&&i.count===0,R=H&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${x}`]||i[`defaultValue${B}`]||i.defaultValue,V=w;v&&!w&&I&&(V=R);let se=$o(V),U=Object.prototype.toString.apply(V);if(v&&V&&se&&y.indexOf(U)<0&&!(O(k)&&Array.isArray(V))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");let T=this.options.returnedObjectHandler?this.options.returnedObjectHandler(b,V,{...i,ns:u}):`key '${l} (${this.language})' returned an object instead of string.`;return s?(p.res=T,p.usedParams=this.getUsedParamsDetails(i),p):T}if(a){let T=Array.isArray(V),L=T?[]:{},_=T?C:b;for(let z in V)if(Object.prototype.hasOwnProperty.call(V,z)){let j=`${_}${a}${z}`;I&&!w?L[z]=this.translate(j,{...i,defaultValue:$o(R)?R[z]:void 0,joinArrays:!1,ns:u}):L[z]=this.translate(j,{...i,joinArrays:!1,ns:u}),L[z]===j&&(L[z]=V[z])}w=L}}else if(v&&O(k)&&Array.isArray(w))w=w.join(k),w&&(w=this.extendTranslation(w,e,i,r));else{let T=!1,L=!1;!this.isValidLookup(w)&&I&&(T=!0,w=R),this.isValidLookup(w)||(L=!0,w=l);let z=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&L?void 0:w,j=I&&R!==w&&this.options.updateMissing;if(L||T||j){if(this.logger.log(j?"updateKey":"missingKey",d,c,l,j?R:w),a){let G=this.resolve(l,{...i,keySeparator:!1});G&&G.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ae=[],ye=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ye&&ye[0])for(let G=0;G<ye.length;G++)ae.push(ye[G]);else this.options.saveMissingTo==="all"?ae=this.languageUtils.toResolveHierarchy(i.lng||this.language):ae.push(i.lng||this.language);let m=o((G,le,g)=>{let de=I&&g!==w?g:z;this.options.missingKeyHandler?this.options.missingKeyHandler(G,c,le,de,j,i):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(G,c,le,de,j,i),this.emit("missingKey",G,c,le,w)},"send");this.options.saveMissing&&(this.options.saveMissingPlurals&&S?ae.forEach(G=>{let le=this.pluralResolver.getSuffixes(G,i);H&&i[`defaultValue${this.options.pluralSeparator}zero`]&&le.indexOf(`${this.options.pluralSeparator}zero`)<0&&le.push(`${this.options.pluralSeparator}zero`),le.forEach(g=>{m([G],l+g,i[`defaultValue${g}`]||R)})}):m(ae,l,R))}w=this.extendTranslation(w,e,i,p,r),L&&w===l&&this.options.appendNamespaceToMissingKey&&(w=`${c}${f}${l}`),(L||T)&&this.options.parseMissingKeyHandler&&(w=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}${f}${l}`:l,T?w:void 0,i))}return s?(p.res=w,p.usedParams=this.getUsedParamsDetails(i),p):w}extendTranslation(e,n,r,i,s){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});let u=O(e)&&(r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),c;if(u){let d=e.match(this.interpolator.nestingRegexp);c=d&&d.length}let f=r.replace&&!O(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),e=this.interpolator.interpolate(e,f,r.lng||this.language||i.usedLng,r),u){let d=e.match(this.interpolator.nestingRegexp),h=d&&d.length;c<h&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...d)=>s?.[0]===d[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${d[0]} in key: ${n[0]}`),null):this.translate(...d,n),r)),r.interpolation&&this.interpolator.reset()}let a=r.postProcess||this.options.postProcess,l=O(a)?[a]:a;return e!=null&&l?.length&&r.applyPostProcessor!==!1&&(e=Ql.handle(l,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,n={}){let r,i,s,a,l;return O(e)&&(e=[e]),e.forEach(u=>{if(this.isValidLookup(r))return;let c=this.extractFromKey(u,n),f=c.key;i=f;let d=c.namespaces;this.options.fallbackNS&&(d=d.concat(this.options.fallbackNS));let h=n.count!==void 0&&!O(n.count),p=h&&!n.ordinal&&n.count===0,w=n.context!==void 0&&(O(n.context)||typeof n.context=="number")&&n.context!=="",b=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);d.forEach(C=>{this.isValidLookup(r)||(l=C,!Hl[`${b[0]}-${C}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(l)&&(Hl[`${b[0]}-${C}`]=!0,this.logger.warn(`key "${i}" for languages "${b.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),b.forEach(y=>{if(this.isValidLookup(r))return;a=y;let k=[f];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(k,f,y,C,n);else{let S;h&&(S=this.pluralResolver.getSuffix(y,n.count,n));let I=`${this.options.pluralSeparator}zero`,x=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(n.ordinal&&S.indexOf(x)===0&&k.push(f+S.replace(x,this.options.pluralSeparator)),k.push(f+S),p&&k.push(f+I)),w){let B=`${f}${this.options.contextSeparator||"_"}${n.context}`;k.push(B),h&&(n.ordinal&&S.indexOf(x)===0&&k.push(B+S.replace(x,this.options.pluralSeparator)),k.push(B+S),p&&k.push(B+I))}}let v;for(;v=k.pop();)this.isValidLookup(r)||(s=v,r=this.getResource(y,C,v,n))}))})}),{res:r,usedKey:i,exactUsedKey:s,usedLng:a,usedNS:l}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r,i={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,n,r,i):this.resourceStore.getResource(e,n,r,i)}getUsedParamsDetails(e={}){let n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!O(e.replace),i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(let s of n)delete i[s]}return i}static hasDefaultValue(e){let n="defaultValue";for(let r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}},Br=class{static{o(this,"LanguageUtil")}constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Ze.create("languageUtils")}getScriptPartFromCode(e){if(e=zn(e),!e||e.indexOf("-")<0)return null;let n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=zn(e),!e||e.indexOf("-")<0)return e;let n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(O(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;let i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;let i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return n=i;let s=this.getLanguagePartFromCode(r);if(this.isSupportedCode(s))return n=s;n=this.options.supportedLngs.find(a=>{if(a===s)return a;if(!(a.indexOf("-")<0&&s.indexOf("-")<0)&&(a.indexOf("-")>0&&s.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===s||a.indexOf(s)===0&&s.length>1))return a})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),O(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){let r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),i=[],s=o(a=>{a&&(this.isSupportedCode(a)?i.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))},"addCode");return O(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):O(e)&&s(this.formatLanguageCode(e)),r.forEach(a=>{i.indexOf(a)<0&&s(this.formatLanguageCode(a))}),i}},jl={zero:0,one:1,two:2,few:3,many:4,other:5},Kl={select:o(t=>t===1?"one":"other","select"),resolvedOptions:o(()=>({pluralCategories:["one","other"]}),"resolvedOptions")},Go=class{static{o(this,"PluralResolver")}constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=Ze.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){let r=zn(e==="dev"?"en":e),i=n.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:r,type:i});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let a;try{a=new Intl.PluralRules(r,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Kl;if(!e.match(/-|_/))return Kl;let u=this.languageUtils.getLanguagePartFromCode(e);a=this.getRule(u,n)}return this.pluralRulesCache[s]=a,a}needsPlural(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,n,r={}){return this.getSuffixes(e,r).map(i=>`${n}${i}`)}getSuffixes(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((i,s)=>jl[i]-jl[s]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,n,r={}){let i=this.getRule(e,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}},ql=o((t,e,n,r=".",i=!0)=>{let s=Gh(t,e,n);return!s&&i&&O(n)&&(s=Ko(t,n,r),s===void 0&&(s=Ko(e,n,r))),s},"deepFindWithDefaults"),Uo=o(t=>t.replace(/\$/g,"$$$$"),"regexSafe"),zr=class{static{o(this,"Interpolator")}constructor(e={}){this.logger=Ze.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(n=>n),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});let{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:s,prefixEscaped:a,suffix:l,suffixEscaped:u,formatSeparator:c,unescapeSuffix:f,unescapePrefix:d,nestingPrefix:h,nestingPrefixEscaped:p,nestingSuffix:w,nestingSuffixEscaped:b,nestingOptionsSeparator:C,maxReplaces:y,alwaysFormat:k}=e.interpolation;this.escape=n!==void 0?n:Qh,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=s?sn(s):a||"{{",this.suffix=l?sn(l):u||"}}",this.formatSeparator=c||",",this.unescapePrefix=f?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":f||"",this.nestingPrefix=h?sn(h):p||sn("$t("),this.nestingSuffix=w?sn(w):b||sn(")"),this.nestingOptionsSeparator=C||",",this.maxReplaces=y||1e3,this.alwaysFormat=k!==void 0?k:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){let e=o((n,r)=>n?.source===r?(n.lastIndex=0,n):new RegExp(r,"g"),"getOrResetRegExp");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,n,r,i){let s,a,l,u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=o(p=>{if(p.indexOf(this.formatSeparator)<0){let y=ql(n,u,p,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(y,void 0,r,{...i,...n,interpolationkey:p}):y}let w=p.split(this.formatSeparator),b=w.shift().trim(),C=w.join(this.formatSeparator).trim();return this.format(ql(n,u,b,this.options.keySeparator,this.options.ignoreJSONStructure),C,r,{...i,...n,interpolationkey:b})},"handleFormat");this.resetRegExp();let f=i?.missingInterpolationHandler||this.options.missingInterpolationHandler,d=i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:o(p=>Uo(p),"safeValue")},{regex:this.regexp,safeValue:o(p=>this.escapeValue?Uo(this.escape(p)):Uo(p),"safeValue")}].forEach(p=>{for(l=0;s=p.regex.exec(e);){let w=s[1].trim();if(a=c(w),a===void 0)if(typeof f=="function"){let C=f(e,s,i);a=O(C)?C:""}else if(i&&Object.prototype.hasOwnProperty.call(i,w))a="";else if(d){a=s[0];continue}else this.logger.warn(`missed to pass in variable ${w} for interpolating ${e}`),a="";else!O(a)&&!this.useRawValueToEscape&&(a=Vl(a));let b=p.safeValue(a);if(e=e.replace(s[0],b),d?(p.regex.lastIndex+=a.length,p.regex.lastIndex-=s[0].length):p.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),e}nest(e,n,r={}){let i,s,a,l=o((u,c)=>{let f=this.nestingOptionsSeparator;if(u.indexOf(f)<0)return u;let d=u.split(new RegExp(`${f}[ ]*{`)),h=`{${d[1]}`;u=d[0],h=this.interpolate(h,a);let p=h.match(/'/g),w=h.match(/"/g);((p?.length??0)%2===0&&!w||w.length%2!==0)&&(h=h.replace(/'/g,'"'));try{a=JSON.parse(h),c&&(a={...c,...a})}catch(b){return this.logger.warn(`failed parsing options string in nesting for key ${u}`,b),`${u}${f}${h}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,u},"handleHasOptions");for(;i=this.nestingRegexp.exec(e);){let u=[];a={...r},a=a.replace&&!O(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;let c=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(c!==-1&&(u=i[1].slice(c).split(this.formatSeparator).map(f=>f.trim()).filter(Boolean),i[1]=i[1].slice(0,c)),s=n(l.call(this,i[1].trim(),a),a),s&&i[0]===e&&!O(s))return s;O(s)||(s=Vl(s)),s||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),s=""),u.length&&(s=u.reduce((f,d)=>this.format(f,d,r.lng,{...r,interpolationkey:i[1].trim()}),s.trim())),e=e.replace(i[0],s),this.regexp.lastIndex=0}return e}},rp=o(t=>{let e=t.toLowerCase().trim(),n={};if(t.indexOf("(")>-1){let r=t.split("(");e=r[0].toLowerCase().trim();let i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(a=>{if(a){let[l,...u]=a.split(":"),c=u.join(":").trim().replace(/^'+|'+$/g,""),f=l.trim();n[f]||(n[f]=c),c==="false"&&(n[f]=!1),c==="true"&&(n[f]=!0),isNaN(c)||(n[f]=parseInt(c,10))}})}return{formatName:e,formatOptions:n}},"parseFormatStr"),Yl=o(t=>{let e={};return(n,r,i)=>{let s=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(s={...s,[i.interpolationkey]:void 0});let a=r+JSON.stringify(s),l=e[a];return l||(l=t(zn(r),i),e[a]=l),l(n)}},"createCachedFormatter"),ip=o(t=>(e,n,r)=>t(zn(n),r)(e),"createNonCachedFormatter"),Jo=class{static{o(this,"Formatter")}constructor(e={}){this.logger=Ze.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";let r=n.cacheInBuiltFormats?Yl:ip;this.formats={number:r((i,s)=>{let a=new Intl.NumberFormat(i,{...s});return l=>a.format(l)}),currency:r((i,s)=>{let a=new Intl.NumberFormat(i,{...s,style:"currency"});return l=>a.format(l)}),datetime:r((i,s)=>{let a=new Intl.DateTimeFormat(i,{...s});return l=>a.format(l)}),relativetime:r((i,s)=>{let a=new Intl.RelativeTimeFormat(i,{...s});return l=>a.format(l,s.range||"day")}),list:r((i,s)=>{let a=new Intl.ListFormat(i,{...s});return l=>a.format(l)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=Yl(n)}format(e,n,r,i={}){let s=n.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(l=>l.indexOf(")")>-1)){let l=s.findIndex(u=>u.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,l)].join(this.formatSeparator)}return s.reduce((l,u)=>{let{formatName:c,formatOptions:f}=rp(u);if(this.formats[c]){let d=l;try{let h=i?.formatParams?.[i.interpolationkey]||{},p=h.locale||h.lng||i.locale||i.lng||r;d=this.formats[c](l,p,{...f,...i,...h})}catch(h){this.logger.warn(h)}return d}else this.logger.warn(`there was no format function for ${c}`);return l},e)}},op=o((t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)},"removePending"),Qo=class extends an{static{o(this,"Connector")}constructor(e,n,r,i={}){super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=Ze.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(r,i.backend,i)}queueLoad(e,n,r,i){let s={},a={},l={},u={};return e.forEach(c=>{let f=!0;n.forEach(d=>{let h=`${c}|${d}`;!r.reload&&this.store.hasResourceBundle(c,d)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?a[h]===void 0&&(a[h]=!0):(this.state[h]=1,f=!1,a[h]===void 0&&(a[h]=!0),s[h]===void 0&&(s[h]=!0),u[d]===void 0&&(u[d]=!0)))}),f||(l[c]=!0)}),(Object.keys(s).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(s),pending:Object.keys(a),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(u)}}loaded(e,n,r){let i=e.split("|"),s=i[0],a=i[1];n&&this.emit("failedLoading",s,a,n),!n&&r&&this.store.addResourceBundle(s,a,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);let l={};this.queue.forEach(u=>{Yh(u.loaded,[s],a),op(u,e),n&&u.errors.push(n),u.pendingCount===0&&!u.done&&(Object.keys(u.loaded).forEach(c=>{l[c]||(l[c]={});let f=u.loaded[c];f.length&&f.forEach(d=>{l[c][d]===void 0&&(l[c][d]=!0)})}),u.done=!0,u.errors.length?u.callback(u.errors):u.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(u=>!u.done)}read(e,n,r,i=0,s=this.retryTimeout,a){if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:i,wait:s,callback:a});return}this.readingCalls++;let l=o((c,f)=>{if(this.readingCalls--,this.waitingReads.length>0){let d=this.waitingReads.shift();this.read(d.lng,d.ns,d.fcName,d.tried,d.wait,d.callback)}if(c&&f&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,i+1,s*2,a)},s);return}a(c,f)},"resolver"),u=this.backend[r].bind(this.backend);if(u.length===2){try{let c=u(e,n);c&&typeof c.then=="function"?c.then(f=>l(null,f)).catch(l):l(null,c)}catch(c){l(c)}return}return u(e,n,l)}prepareLoading(e,n,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();O(e)&&(e=this.languageUtils.toResolveHierarchy(e)),O(n)&&(n=[n]);let s=this.queueLoad(e,n,r,i);if(!s.toLoad.length)return s.pending.length||i(),null;s.toLoad.forEach(a=>{this.loadOne(a)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e,n=""){let r=e.split("|"),i=r[0],s=r[1];this.read(i,s,"read",void 0,void 0,(a,l)=>{a&&this.logger.warn(`${n}loading namespace ${s} for language ${i} failed`,a),!a&&l&&this.logger.log(`${n}loaded namespace ${s} for language ${i}`,l),this.loaded(e,a,l)})}saveMissing(e,n,r,i,s,a={},l=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend?.create){let u={...a,isUpdate:s},c=this.backend.create.bind(this.backend);if(c.length<6)try{let f;c.length===5?f=c(e,n,r,i,u):f=c(e,n,r,i),f&&typeof f.then=="function"?f.then(d=>l(null,d)).catch(l):l(null,f)}catch(f){l(f)}else c(e,n,r,i,l,u)}!e||!e[0]||this.store.addResource(e[0],n,r,i)}}},Ho=o(()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:o(t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),O(t[1])&&(e.defaultValue=t[1]),O(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){let n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},"overloadTranslationOptionHandler"),interpolation:{escapeValue:!0,format:o(t=>t,"format"),prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),"get"),Gl=o(t=>(O(t.ns)&&(t.ns=[t.ns]),O(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),O(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs?.indexOf?.("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t),"transformOptions"),Rr=o(()=>{},"noop"),sp=o(t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})},"bindMemberFunctions"),Xo=class t extends an{static{o(this,"I18n")}constructor(e={},n){if(super(),this.options=Gl(e),this.services={},this.logger=Ze,this.modules={external:[]},sp(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(O(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));let r=Ho();this.options={...r,...this.options,...Gl(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=r.overloadTranslationOptionHandler);let i=o(c=>c?typeof c=="function"?new c:c:null,"createClassOnDemand");if(!this.options.isClone){this.modules.logger?Ze.init(i(this.modules.logger),this.options):Ze.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:c=Jo;let f=new Br(this.options);this.store=new Mr(this.options.resources,this.options);let d=this.services;d.logger=Ze,d.resourceStore=this.store,d.languageUtils=f,d.pluralResolver=new Go(f,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),c&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(d.formatter=i(c),d.formatter.init&&d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new zr(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new Qo(i(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",(p,...w)=>{this.emit(p,...w)}),this.modules.languageDetector&&(d.languageDetector=i(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=i(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new Nr(this.services,this.options),this.translator.on("*",(p,...w)=>{this.emit(p,...w)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Rr),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){let c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=(...f)=>this.store[c](...f)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=(...f)=>(this.store[c](...f),this)});let l=Nn(),u=o(()=>{let c=o((f,d)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(d),n(f,d)},"finish");if(this.languages&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)},"load");return this.options.resources||!this.options.initAsync?u():setTimeout(u,0),l}loadResources(e,n=Rr){let r=n,i=O(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(i?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();let s=[],a=o(l=>{if(!l||l==="cimode")return;this.services.languageUtils.toResolveHierarchy(l).forEach(c=>{c!=="cimode"&&s.indexOf(c)<0&&s.push(c)})},"append");i?a(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(u=>a(u)),this.options.preload?.forEach?.(l=>a(l)),this.services.backendConnector.load(s,this.options.ns,l=>{!l&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(l)})}else r(null)}reloadResources(e,n,r){let i=Nn();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=Rr),this.services.backendConnector.reload(e,n,s=>{i.resolve(),r(s)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Ql.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){let r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;let r=Nn();this.emit("languageChanging",e);let i=o(l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},"setLngProps"),s=o((l,u)=>{u?this.isLanguageChangingTo===e&&(i(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,r.resolve((...c)=>this.t(...c)),n&&n(l,(...c)=>this.t(...c))},"done"),a=o(l=>{!e&&!l&&this.services.languageDetector&&(l=[]);let u=O(l)?l:l&&l[0],c=this.store.hasLanguageSomeTranslations(u)?u:this.services.languageUtils.getBestMatchFromCodes(O(l)?[l]:l);c&&(this.language||i(c),this.translator.language||this.translator.changeLanguage(c),this.services.languageDetector?.cacheUserLanguage?.(c)),this.loadResources(c,f=>{s(f,c)})},"setLng");return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),r}getFixedT(e,n,r){let i=o((s,a,...l)=>{let u;typeof a!="object"?u=this.options.overloadTranslationOptionHandler([s,a].concat(l)):u={...a},u.lng=u.lng||i.lng,u.lngs=u.lngs||i.lngs,u.ns=u.ns||i.ns,u.keyPrefix!==""&&(u.keyPrefix=u.keyPrefix||r||i.keyPrefix);let c=this.options.keySeparator||".",f;return u.keyPrefix&&Array.isArray(s)?f=s.map(d=>(typeof d=="function"&&(d=Yo(d,{...this.options,...a})),`${u.keyPrefix}${c}${d}`)):(typeof s=="function"&&(s=Yo(s,{...this.options,...a})),f=u.keyPrefix?`${u.keyPrefix}${c}${s}`:s),this.t(f,u)},"fixedT");return O(e)?i.lng=e:i.lngs=e,i.ns=n,i.keyPrefix=r,i}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;let r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;let a=o((l,u)=>{let c=this.services.backendConnector.state[`${l}|${u}`];return c===-1||c===0||c===2},"loadNotPending");if(n.precheck){let l=n.precheck(this,a);if(l!==void 0)return l}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(r,e)&&(!i||a(s,e)))}loadNamespaces(e,n){let r=Nn();return this.options.ns?(O(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){let r=Nn();O(e)&&(e=[e]);let i=this.options.preload||[],s=e.filter(a=>i.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return s.length?(this.options.preload=i.concat(s),this.loadResources(a=>{r.resolve(),n&&n(a)}),r):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{let i=new Intl.Locale(e);if(i&&i.getTextInfo){let s=i.getTextInfo();if(s&&s.direction)return s.direction}}catch{}let n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services?.languageUtils||new Br(Ho());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){let r=new t(e,n);return r.createInstance=t.createInstance,r}cloneInstance(e={},n=Rr){let r=e.forkResourceStore;r&&delete e.forkResourceStore;let i={...this.options,...e,isClone:!0},s=new t(i);if((e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(l=>{s[l]=this[l]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},r){let l=Object.keys(this.store.data).reduce((u,c)=>(u[c]={...this.store.data[c]},u[c]=Object.keys(u[c]).reduce((f,d)=>(f[d]={...u[c][d]},f),u[c]),u),{});s.store=new Mr(l,i),s.services.resourceStore=s.store}if(e.interpolation){let u={...Ho().interpolation,...this.options.interpolation,...e.interpolation},c={...i,interpolation:u};s.services.interpolator=new zr(c)}return s.translator=new Nr(s.services,i),s.translator.on("*",(l,...u)=>{s.emit(l,...u)}),s.init(i,n),s.translator.options=i,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}},pe=Xo.createInstance(),my=pe.createInstance,gy=pe.dir,Zl=pe.init,wy=pe.loadResources,yy=pe.reloadResources,by=pe.use,Cy=pe.changeLanguage,xy=pe.getFixedT,Lt=pe.t,ky=pe.exists,Ay=pe.setDefaultNamespace,vy=pe.hasLoadedNamespace,Ey=pe.loadNamespaces,Sy=pe.loadLanguages;var tu=require("obsidian");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Vr={obsidianDevUtils:{asyncWithNotice:{milliseconds:"milliseconds...",operation:"Operation",runningFor:"Running for",terminateOperation:"You can terminate the operation by clicking the button below, but be aware it might leave the vault in an inconsistent state.",timedOut:"The operation timed out after {{duration}} milliseconds."},buttons:{cancel:"Cancel",ok:"OK"},callout:{loadContent:"Load content for callout"},dataview:{itemsPerPage:"Items per page:",jumpToPage:"Jump to page:",pageHeader:"Page {{pageNumber}} of {{totalPages}}, Total items: {{totalItems}}"},metadataCache:{getBacklinksForFilePath:"Get backlinks for {{filePath}}"},notices:{attachmentIsStillUsed:"Attachment {{attachmentPath}} is still used by other notes. It will not be deleted.",unhandledError:"An unhandled error occurred. Please check the console for more information."},queue:{flushQueue:"Flush queue"},renameDeleteHandler:{handleDelete:"Handle delete: {{filePath}}",handleOrphanedRenames:"Handle orphaned renames",handleRename:"Handle rename: {{oldPath}} -> {{newPath}}",updatedLinks:"Updated {{linksCount}} links in {{filesCount}} files."},vault:{processFile:"Process file {{filePath}}"}}};o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Zo="en",ap={en:Vr},Wr=ap;o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var eu="translation",es=!1;async function ts(t,e=!0){es||(es=!0,await Zl({fallbackLng:Zo,initAsync:e,interpolation:{escapeValue:!1},lng:(0,tu.getLanguage)(),resources:Object.fromEntries(Object.entries(t).map(([n,r])=>[n,{[eu]:r}])),returnEmptyString:!1,returnNull:!1}),pe.addResourceBundle(Zo,eu,Vr,!0,!1))}o(ts,"initI18N");function lp(t,e){return es||(console.warn("I18N was not initialized, initializing default obsidian-dev-utils translations"),ne(()=>ts(Wr,!1))),Lt(t,e)}o(lp,"tImpl");var me=lp;o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function up(t){let e=new Set;return t.workspace.iterateAllLeaves(n=>{e.add(n.getContainer())}),Array.from(e)}o(up,"getAllContainers");function nu(t){return up(t).map(e=>e.win)}o(nu,"getAllDomWindows");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var $r=class extends Ur.Plugin{static{o(this,"PluginBase")}events=new Qe;get abortSignal(){if(!this._abortSignal)throw new Error("Abort signal not defined");return this._abortSignal}get settings(){return this.settingsManager.settingsWrapper.safeSettings}get settingsManager(){if(!this._settingsManager)throw new Error("Settings manager not defined");return this._settingsManager}get settingsTab(){if(!this._settingsTab)throw new Error("Settings tab not defined");return this._settingsTab}_abortSignal;_settingsManager=null;_settingsTab=null;lifecycleEventNames=new Set;notice;consoleDebug(e,...n){en(this.manifest.id,1)(e,...n)}async onExternalSettingsChange(){await super.onExternalSettingsChange?.(),await this._settingsManager?.loadFromFile(!1)}async onload(){await super.onload(),await this.onloadImpl(),Pl(this.afterLoad.bind(this))}onunload(){super.onunload(),ne(async()=>{try{await this.onunloadImpl()}finally{await this.triggerLifecycleEvent("unload")}})}registerDomWindowHandler(e){let n=window;e(n),this.app.workspace.onLayoutReady(()=>{for(let r of nu(this.app))r!==n&&e(r);this.registerEvent(this.app.workspace.on("window-open",r=>{e(r.win)}))})}registerForLifecycleEvent(e,n){ne(async()=>{await this.waitForLifecycleEvent(e),await n()})}registerPopupDocumentDomEvent(e,n,r){this.registerDomWindowHandler(i=>{this.registerDomEvent(i.document,e,n,r)})}registerPopupWindowDomEvent(e,n,r){this.registerDomWindowHandler(i=>{this.registerDomEvent(i,e,n,r)})}async waitForLifecycleEvent(e){this.lifecycleEventNames.has(e)||await new Promise(n=>{this.events.once(e,()=>{n()})})}createSettingsManager(){return null}createSettingsTab(){return null}createTranslationsMap(){return Wr}handleAsyncError(e){this.showNotice(me(n=>n.obsidianDevUtils.notices.unhandledError))}async onLayoutReady(){await Je()}async onloadImpl(){Ml(this.app,this.manifest.id),this.registerDomWindowHandler(n=>{Dl(n)}),await ts(this.createTranslationsMap()),this.register(pl(this.handleAsyncError.bind(this))),this._settingsManager=this.createSettingsManager(),this._settingsManager&&(Or(this,this._settingsManager.on("loadSettings",this.onLoadSettings.bind(this))),Or(this,this._settingsManager.on("saveSettings",this.onSaveSettings.bind(this)))),await this._settingsManager?.loadFromFile(!0),this._settingsTab=this.createSettingsTab(),this._settingsTab&&this.addSettingTab(this._settingsTab);let e=new AbortController;this._abortSignal=e.signal,this.register(()=>{e.abort(new Xt(`Plugin ${this.manifest.id} had been unloaded`))})}async onLoadSettings(e,n){await Je()}async onSaveSettings(e,n,r){await Je()}async onunloadImpl(){await Je()}showNotice(e){this.notice&&this.notice.hide(),this.notice=new Ur.Notice(`${this.manifest.name}
${e}`)}async afterLoad(){this.abortSignal.aborted||(await this.triggerLifecycleEvent("load"),this.app.workspace.onLayoutReady(gt(this.onLayoutReadyBase.bind(this))))}async onLayoutReadyBase(){try{await this.onLayoutReady()}finally{await this.triggerLifecycleEvent("layoutReady")}}async triggerLifecycleEvent(e){this.lifecycleEventNames.add(e),await this.events.triggerAsync(e)}};var Ti=require("obsidian");var cp=require("obsidian"),iu=require("obsidian"),ou=require("obsidian"),eb=require("obsidian"),tb=require("obsidian"),hp=require("obsidian"),pp=require("obsidian"),au=require("obsidian");var ru=class{static{o(this,"CustomArrayDictImpl")}data=new Map;add(t,e){let n=this.get(t);n||(n=[],this.data.set(t,n)),n.includes(e)||n.push(e)}remove(t,e){let n=this.get(t);n&&(n.remove(e),n.length===0&&this.clear(t))}get(t){return this.data.get(t)||null}keys(){return Array.from(this.data.keys())}clear(t){this.data.delete(t)}clearAll(){this.data.clear()}contains(t,e){return!!this.get(t)?.contains(e)}count(){let t=0;for(let e of this.keys())t+=this.get(e)?.length??0;return t}};var Be={AudioRecorder:"audio-recorder",Backlink:"backlink",Bases:"bases",Bookmarks:"bookmarks",Canvas:"canvas",CommandPalette:"command-palette",DailyNotes:"daily-notes",EditorStatus:"editor-status",FileExplorer:"file-explorer",FileRecovery:"file-recovery",Footnotes:"footnotes",GlobalSearch:"global-search",Graph:"graph",MarkdownImporter:"markdown-importer",NoteComposer:"note-composer",OutgoingLink:"outgoing-link",Outline:"outline",PagePreview:"page-preview",Properties:"properties",Publish:"publish",RandomNote:"random-note",SlashCommand:"slash-command",Slides:"slides",Switcher:"switcher",Sync:"sync",TagPane:"tag-pane",Templates:"templates",Webviewer:"webviewer",WordCount:"word-count",Workspaces:"workspaces",ZkPrefixer:"zk-prefixer"},Hr={AllProperties:"all-properties",Audio:"audio",Backlink:Be.Backlink,Bases:Be.Bases,Bookmarks:Be.Bookmarks,Canvas:Be.Canvas,Empty:"empty",FileExplorer:Be.FileExplorer,FileProperties:"file-properties",Graph:Be.Graph,Image:"image",LocalGraph:"localgraph",Markdown:"markdown",OutgoingLink:Be.OutgoingLink,Outline:Be.Outline,Pdf:"pdf",ReleaseNotes:"release-notes",Search:"search",Sync:"sync",Table:"table",Tag:"tag",Video:"video",Webviewer:"webviewer",WebviewerHistory:"webviewer-history"};function fp(){return iu.TFile}o(fp,"getTFileConstructor");function dp(){return ou.TFolder}o(dp,"getTFolderConstructor");function et(t){return t.replace(/\/?[^\/]*$/,"")||"/"}o(et,"parentFolderPath");function jr(t,e){let n=t.vault.getFolderByPath(e);return n||(n=new(dp())(t.vault,e),n.parent=jr(t,et(e)),n.deleted=!0,n)}o(jr,"createTFolderInstance");function su(t,e){let n=t.vault.getFileByPath(e);return n||(n=new(fp())(t.vault,e),n.parent=jr(t,et(e)),n.deleted=!0,n)}o(su,"createTFileInstance");async function lu(){return await(0,au.loadPrism)()}o(lu,"loadPrism");function ft(t){return!!t.position}o(ft,"isReferenceCache");function _e(t){return!!t.key}o(_e,"isFrontmatterLinkCache");var ns=pt(fu(),1);o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var gp=/[a-zA-Z]:\/[^:]*$/,nt=ns.default.posix,ub=nt.delimiter,cb=ns.default.posix.sep,Ee=nt.basename,ce=nt.dirname,qe=nt.extname,fb=nt.format;var Se=nt.join,db=nt.normalize,hb=nt.parse,un=nt.relative;function du(t,e){return e?`${t}.${e}`:t}o(du,"makeFileName");function hu(...t){let e=nt.resolve(...t);return e=Kr(e),gp.exec(e)?.[0]??e}o(hu,"resolve");function Kr(t){return he(t,"\\","/")}o(Kr,"toPosixPath");var dt=require("obsidian");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var wp="base",qr="canvas",Vn="md";function rs(t,e,n){if(ze(e))return e.extension===n;if(typeof e=="string"){let r=Te(t,e);return r?r.extension===n:qe(e).slice(1)===n}return!1}o(rs,"checkExtension");function mu(t,e,n){let r=_t(t,e,n);if(!r)throw new Error(`Abstract file not found: ${e}`);return r}o(mu,"getAbstractFile");function _t(t,e,n){if(e===null)return null;if(gu(e))return t.vault.fileMap[e.path]??e;let r=pu(t,e,n);if(r)return r;let i=wu(e);return i===e?null:pu(t,i,n)}o(_t,"getAbstractFileOrNull");function re(t,e,n,r){let i=Te(t,e,r);if(!i)if(n)i=su(t,e);else throw new Error(`File not found: ${e}`);return i}o(re,"getFile");function Te(t,e,n){let r=_t(t,e,n);return ze(r)?r:null}o(Te,"getFileOrNull");function cn(t,e,n,r){let i=Ye(t,e,r);if(!i)if(n)i=jr(t,e);else throw new Error(`Folder not found: ${e}`);return i}o(cn,"getFolder");function Ye(t,e,n){let r=_t(t,e,n);return is(r)?r:null}o(Ye,"getFolderOrNull");function X(t,e){if(gu(e))return e.path;let n=_t(t,e);return n?n.path:wu(e)}o(X,"getPath");function gu(t){return t instanceof dt.TAbstractFile}o(gu,"isAbstractFile");function yp(t,e){return rs(t,e,wp)}o(yp,"isBaseFile");function Ot(t,e){return rs(t,e,qr)}o(Ot,"isCanvasFile");function ze(t){return t instanceof dt.TFile}o(ze,"isFile");function is(t){return t instanceof dt.TFolder}o(is,"isFolder");function rt(t,e){return rs(t,e,Vn)}o(rt,"isMarkdownFile");function fn(t,e){return rt(t,e)||Ot(t,e)||yp(t,e)}o(fn,"isNote");function pu(t,e,n){return n??=t.vault.adapter.insensitive,n?t.vault.getAbstractFileByPathInsensitive(e):t.vault.getAbstractFileByPath(e)}o(pu,"getFileInternal");function wu(t){return(0,dt.normalizePath)(hu("/",t))}o(wu,"getResolvedPath");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var wt=(t=>(t.DeleteNote="DeleteNote",t.RenameNote="RenameNote",t.Unknown="Unknown",t))(wt||{}),bu="__DUMMY__";async function os(t){let{app:e,notePathOrFile:n,oldAttachmentPathOrFile:r,shouldSkipDuplicateCheck:i}=t,s=X(e,r),a=qe(s),l=Ee(s,a),u=Te(e,s),c=e.vault.getAvailablePathForAttachments.extended;return c?c({attachmentFileBaseName:l,attachmentFileContent:u?await e.vault.readBinary(u):void 0,attachmentFileExtension:a.slice(1),attachmentFileStat:u?.stat,context:t.context,notePathOrFile:n,oldAttachmentPathOrFile:t.oldAttachmentPathOrFile,oldNotePathOrFile:t.oldNotePathOrFile,shouldSkipDuplicateCheck:i,shouldSkipMissingAttachmentFolderCreation:!0}):await bp({app:e,attachmentFileBaseName:l,attachmentFileExtension:a.slice(1),notePathOrFile:n,shouldSkipDuplicateCheck:i,shouldSkipMissingAttachmentFolderCreation:!0})}o(os,"getAttachmentFilePath");async function dn(t,e,n="Unknown"){return et(await os({app:t,context:n,notePathOrFile:e,oldAttachmentPathOrFile:bu,shouldSkipDuplicateCheck:!0}))}o(dn,"getAttachmentFolderPath");async function bp(t){let{app:e,attachmentFileExtension:n,notePathOrFile:r,shouldSkipDuplicateCheck:i,shouldSkipMissingAttachmentFolderCreation:s}=t,a=e.vault.getConfig("attachmentFolderPath"),l=a==="."||a==="./",u=a.startsWith("./")?vl(a,"./"):null,c=Te(e,r);l?a=c?c.parent?.path??"":"":u&&(a=(c?c.parent?.getParentPrefix()??"":"")+u),a=Mn(yu(a));let f=Mn(yu(t.attachmentFileBaseName)),d=Ye(e,a,!0);!d&&u&&(d=s?cn(e,a,!0):await e.vault.createFolder(a));let h=d?.getParentPrefix()??"";return i?du(h+f,n):e.vault.getAvailablePath(h+f,n)}o(bp,"getAvailablePathForAttachments");async function ss(t,e,n="Unknown"){let r=await dn(t,e,n),i=await dn(t,Se(ce(e),`${bu}.${Vn}`),n);return r!==i}o(ss,"hasOwnAttachmentFolder");function yu(t){return t=he(t,/(?:[\\/])+/g,"/"),t=he(t,/^\/+|\/+$/g,""),t||"/"}o(yu,"normalizeSlashes");var kn=require("obsidian");var Cp={};function Rt(t,e){let n=e||Cp,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return xu(t,r,i)}o(Rt,"toString");function xu(t,e,n){if(xp(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return Cu(t.children,e,n)}return Array.isArray(t)?Cu(t,e,n):""}o(xu,"one");function Cu(t,e,n){let r=[],i=-1;for(;++i<t.length;)r[i]=xu(t[i],e,n);return r.join("")}o(Cu,"all");function xp(t){return!!(t&&typeof t=="object")}o(xp,"node");var ku=document.createElement("i");function hn(t){let e="&"+t+";";ku.innerHTML=e;let n=ku.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}o(hn,"decodeNamedCharacterReference");function fe(t,e,n,r){let i=t.length,s=0,a;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(e,n),t.splice(...a);else for(n&&t.splice(e,n);s<r.length;)a=r.slice(s,s+1e4),a.unshift(e,0),t.splice(...a),s+=1e4,e+=1e4}o(fe,"splice");function ke(t,e){return t.length>0?(fe(t,t.length,0,e),t):e}o(ke,"push");var Au={}.hasOwnProperty;function vu(t){let e={},n=-1;for(;++n<t.length;)kp(e,t[n]);return e}o(vu,"combineExtensions");function kp(t,e){let n;for(n in e){let i=(Au.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n],a;if(s)for(a in s){Au.call(i,a)||(i[a]=[]);let l=s[a];Ap(i[a],Array.isArray(l)?l:l?[l]:[])}}}o(kp,"syntaxExtension");function Ap(t,e){let n=-1,r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);fe(t,0,0,r)}o(Ap,"constructs");function Yr(t,e){let n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"\uFFFD":String.fromCodePoint(n)}o(Yr,"decodeNumericCharacterReference");function ht(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}o(ht,"normalizeIdentifier");var Oe=yt(/[A-Za-z]/),Ae=yt(/[\dA-Za-z]/),Eu=yt(/[#-'*+\--9=?A-Z^-~]/);function Wn(t){return t!==null&&(t<32||t===127)}o(Wn,"asciiControl");var $n=yt(/\d/),Su=yt(/[\dA-Fa-f]/),Tu=yt(/[!-/:-@[-`{-~]/);function P(t){return t!==null&&t<-2}o(P,"markdownLineEnding");function Z(t){return t!==null&&(t<0||t===32)}o(Z,"markdownLineEndingOrSpace");function D(t){return t===-2||t===-1||t===32}o(D,"markdownSpace");var Pu=yt(/\p{P}|\p{S}/u),Fu=yt(/\s/);function yt(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}o(yt,"regexCheck");function N(t,e,n,r){let i=r?r-1:Number.POSITIVE_INFINITY,s=0;return a;function a(u){return D(u)?(t.enter(n),l(u)):e(u)}function l(u){return D(u)&&s++<i?(t.consume(u),l):(t.exit(n),e(u))}}o(N,"factorySpace");var Iu={tokenize:vp};function vp(t){let e=t.attempt(this.parser.constructs.contentInitial,r,i),n;return e;function r(l){if(l===null){t.consume(l);return}return t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),N(t,e,"linePrefix")}function i(l){return t.enter("paragraph"),s(l)}function s(l){let u=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=u),n=u,a(l)}function a(l){if(l===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(l);return}return P(l)?(t.consume(l),t.exit("chunkText"),s):(t.consume(l),a)}}o(vp,"initializeContent");var _u={tokenize:Ep},Lu={tokenize:Sp};function Ep(t){let e=this,n=[],r=0,i,s,a;return l;function l(v){if(r<n.length){let S=n[r];return e.containerState=S[1],t.attempt(S[0].continuation,u,c)(v)}return c(v)}function u(v){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&k();let S=e.events.length,I=S,x;for(;I--;)if(e.events[I][0]==="exit"&&e.events[I][1].type==="chunkFlow"){x=e.events[I][1].end;break}y(r);let B=S;for(;B<e.events.length;)e.events[B][1].end={...x},B++;return fe(e.events,I+1,0,e.events.slice(S)),e.events.length=B,c(v)}return l(v)}function c(v){if(r===n.length){if(!i)return h(v);if(i.currentConstruct&&i.currentConstruct.concrete)return w(v);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(Lu,f,d)(v)}function f(v){return i&&k(),y(r),h(v)}function d(v){return e.parser.lazy[e.now().line]=r!==n.length,a=e.now().offset,w(v)}function h(v){return e.containerState={},t.attempt(Lu,p,w)(v)}function p(v){return r++,n.push([e.currentConstruct,e.containerState]),h(v)}function w(v){if(v===null){i&&k(),y(0),t.consume(v);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),b(v)}function b(v){if(v===null){C(t.exit("chunkFlow"),!0),y(0),t.consume(v);return}return P(v)?(t.consume(v),C(t.exit("chunkFlow")),r=0,e.interrupt=void 0,l):(t.consume(v),b)}function C(v,S){let I=e.sliceStream(v);if(S&&I.push(null),v.previous=s,s&&(s.next=v),s=v,i.defineSkip(v.start),i.write(I),e.parser.lazy[v.start.line]){let x=i.events.length;for(;x--;)if(i.events[x][1].start.offset<a&&(!i.events[x][1].end||i.events[x][1].end.offset>a))return;let B=e.events.length,H=B,R,V;for(;H--;)if(e.events[H][0]==="exit"&&e.events[H][1].type==="chunkFlow"){if(R){V=e.events[H][1].end;break}R=!0}for(y(r),x=B;x<e.events.length;)e.events[x][1].end={...V},x++;fe(e.events,H+1,0,e.events.slice(B)),e.events.length=x}}function y(v){let S=n.length;for(;S-- >v;){let I=n[S];e.containerState=I[1],I[0].exit.call(e,t)}n.length=v}function k(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}o(Ep,"initializeDocument");function Sp(t,e,n){return N(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}o(Sp,"tokenizeContainer");function pn(t){if(t===null||Z(t)||Fu(t))return 1;if(Pu(t))return 2}o(pn,"classifyCharacter");function mn(t,e,n){let r=[],i=-1;for(;++i<t.length;){let s=t[i].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}o(mn,"resolveAll");var Un={name:"attention",resolveAll:Tp,tokenize:Pp};function Tp(t,e){let n=-1,r,i,s,a,l,u,c,f;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;u=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;let d={...t[r][1].end},h={...t[n][1].start};Ou(d,-u),Ou(h,u),a={type:u>1?"strongSequence":"emphasisSequence",start:d,end:{...t[r][1].end}},l={type:u>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:h},s={type:u>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:u>1?"strong":"emphasis",start:{...a.start},end:{...l.end}},t[r][1].end={...a.start},t[n][1].start={...l.end},c=[],t[r][1].end.offset-t[r][1].start.offset&&(c=ke(c,[["enter",t[r][1],e],["exit",t[r][1],e]])),c=ke(c,[["enter",i,e],["enter",a,e],["exit",a,e],["enter",s,e]]),c=ke(c,mn(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),c=ke(c,[["exit",s,e],["enter",l,e],["exit",l,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(f=2,c=ke(c,[["enter",t[n][1],e],["exit",t[n][1],e]])):f=0,fe(t,r-1,n-r+3,c),n=r+c.length-f-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}o(Tp,"resolveAllAttention");function Pp(t,e){let n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=pn(r),s;return a;function a(u){return s=u,t.enter("attentionSequence"),l(u)}function l(u){if(u===s)return t.consume(u),l;let c=t.exit("attentionSequence"),f=pn(u),d=!f||f===2&&i||n.includes(u),h=!i||i===2&&f||n.includes(r);return c._open=!!(s===42?d:d&&(i||!h)),c._close=!!(s===42?h:h&&(f||!d)),e(u)}}o(Pp,"tokenizeAttention");function Ou(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}o(Ou,"movePoint");var as={name:"autolink",tokenize:Fp};function Fp(t,e,n){let r=0;return i;function i(p){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(p){return Oe(p)?(t.consume(p),a):p===64?n(p):c(p)}function a(p){return p===43||p===45||p===46||Ae(p)?(r=1,l(p)):c(p)}function l(p){return p===58?(t.consume(p),r=0,u):(p===43||p===45||p===46||Ae(p))&&r++<32?(t.consume(p),l):(r=0,c(p))}function u(p){return p===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):p===null||p===32||p===60||Wn(p)?n(p):(t.consume(p),u)}function c(p){return p===64?(t.consume(p),f):Eu(p)?(t.consume(p),c):n(p)}function f(p){return Ae(p)?d(p):n(p)}function d(p){return p===46?(t.consume(p),r=0,f):p===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(p),t.exit("autolinkMarker"),t.exit("autolink"),e):h(p)}function h(p){if((p===45||Ae(p))&&r++<63){let w=p===45?h:d;return t.consume(p),w}return n(p)}}o(Fp,"tokenizeAutolink");var bt={partial:!0,tokenize:Ip};function Ip(t,e,n){return r;function r(s){return D(s)?N(t,i,"linePrefix")(s):i(s)}function i(s){return s===null||P(s)?e(s):n(s)}}o(Ip,"tokenizeBlankLine");var Gr={continuation:{tokenize:_p},exit:Op,name:"blockQuote",tokenize:Lp};function Lp(t,e,n){let r=this;return i;function i(a){if(a===62){let l=r.containerState;return l.open||(t.enter("blockQuote",{_container:!0}),l.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(a),t.exit("blockQuoteMarker"),s}return n(a)}function s(a){return D(a)?(t.enter("blockQuotePrefixWhitespace"),t.consume(a),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(a))}}o(Lp,"tokenizeBlockQuoteStart");function _p(t,e,n){let r=this;return i;function i(a){return D(a)?N(t,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return t.attempt(Gr,e,n)(a)}}o(_p,"tokenizeBlockQuoteContinuation");function Op(t){t.exit("blockQuote")}o(Op,"exit");var Jr={name:"characterEscape",tokenize:Rp};function Rp(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return Tu(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}o(Rp,"tokenizeCharacterEscape");var Qr={name:"characterReference",tokenize:Dp};function Dp(t,e,n){let r=this,i=0,s,a;return l;function l(d){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),u}function u(d){return d===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(d),t.exit("characterReferenceMarkerNumeric"),c):(t.enter("characterReferenceValue"),s=31,a=Ae,f(d))}function c(d){return d===88||d===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(d),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,a=Su,f):(t.enter("characterReferenceValue"),s=7,a=$n,f(d))}function f(d){if(d===59&&i){let h=t.exit("characterReferenceValue");return a===Ae&&!hn(r.sliceSerialize(h))?n(d):(t.enter("characterReferenceMarker"),t.consume(d),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return a(d)&&i++<s?(t.consume(d),f):n(d)}}o(Dp,"tokenizeCharacterReference");var Ru={partial:!0,tokenize:Np},Xr={concrete:!0,name:"codeFenced",tokenize:Mp};function Mp(t,e,n){let r=this,i={partial:!0,tokenize:I},s=0,a=0,l;return u;function u(x){return c(x)}function c(x){let B=r.events[r.events.length-1];return s=B&&B[1].type==="linePrefix"?B[2].sliceSerialize(B[1],!0).length:0,l=x,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),f(x)}function f(x){return x===l?(a++,t.consume(x),f):a<3?n(x):(t.exit("codeFencedFenceSequence"),D(x)?N(t,d,"whitespace")(x):d(x))}function d(x){return x===null||P(x)?(t.exit("codeFencedFence"),r.interrupt?e(x):t.check(Ru,b,S)(x)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),h(x))}function h(x){return x===null||P(x)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),d(x)):D(x)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),N(t,p,"whitespace")(x)):x===96&&x===l?n(x):(t.consume(x),h)}function p(x){return x===null||P(x)?d(x):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),w(x))}function w(x){return x===null||P(x)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),d(x)):x===96&&x===l?n(x):(t.consume(x),w)}function b(x){return t.attempt(i,S,C)(x)}function C(x){return t.enter("lineEnding"),t.consume(x),t.exit("lineEnding"),y}function y(x){return s>0&&D(x)?N(t,k,"linePrefix",s+1)(x):k(x)}function k(x){return x===null||P(x)?t.check(Ru,b,S)(x):(t.enter("codeFlowValue"),v(x))}function v(x){return x===null||P(x)?(t.exit("codeFlowValue"),k(x)):(t.consume(x),v)}function S(x){return t.exit("codeFenced"),e(x)}function I(x,B,H){let R=0;return V;function V(_){return x.enter("lineEnding"),x.consume(_),x.exit("lineEnding"),se}function se(_){return x.enter("codeFencedFence"),D(_)?N(x,U,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(_):U(_)}function U(_){return _===l?(x.enter("codeFencedFenceSequence"),T(_)):H(_)}function T(_){return _===l?(R++,x.consume(_),T):R>=a?(x.exit("codeFencedFenceSequence"),D(_)?N(x,L,"whitespace")(_):L(_)):H(_)}function L(_){return _===null||P(_)?(x.exit("codeFencedFence"),B(_)):H(_)}}}o(Mp,"tokenizeCodeFenced");function Np(t,e,n){let r=this;return i;function i(a){return a===null?n(a):(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),s)}function s(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}o(Np,"tokenizeNonLazyContinuation");var Hn={name:"codeIndented",tokenize:zp},Bp={partial:!0,tokenize:Vp};function zp(t,e,n){let r=this;return i;function i(c){return t.enter("codeIndented"),N(t,s,"linePrefix",5)(c)}function s(c){let f=r.events[r.events.length-1];return f&&f[1].type==="linePrefix"&&f[2].sliceSerialize(f[1],!0).length>=4?a(c):n(c)}function a(c){return c===null?u(c):P(c)?t.attempt(Bp,a,u)(c):(t.enter("codeFlowValue"),l(c))}function l(c){return c===null||P(c)?(t.exit("codeFlowValue"),a(c)):(t.consume(c),l)}function u(c){return t.exit("codeIndented"),e(c)}}o(zp,"tokenizeCodeIndented");function Vp(t,e,n){let r=this;return i;function i(a){return r.parser.lazy[r.now().line]?n(a):P(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),i):N(t,s,"linePrefix",5)(a)}function s(a){let l=r.events[r.events.length-1];return l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(a):P(a)?i(a):n(a)}}o(Vp,"tokenizeFurtherStart");var ls={name:"codeText",previous:$p,resolve:Wp,tokenize:Up};function Wp(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}o(Wp,"resolveCodeText");function $p(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}o($p,"previous");function Up(t,e,n){let r=this,i=0,s,a;return l;function l(h){return t.enter("codeText"),t.enter("codeTextSequence"),u(h)}function u(h){return h===96?(t.consume(h),i++,u):(t.exit("codeTextSequence"),c(h))}function c(h){return h===null?n(h):h===32?(t.enter("space"),t.consume(h),t.exit("space"),c):h===96?(a=t.enter("codeTextSequence"),s=0,d(h)):P(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),c):(t.enter("codeTextData"),f(h))}function f(h){return h===null||h===32||h===96||P(h)?(t.exit("codeTextData"),c(h)):(t.consume(h),f)}function d(h){return h===96?(t.consume(h),s++,d):s===i?(t.exit("codeTextSequence"),t.exit("codeText"),e(h)):(a.type="codeTextData",f(h))}}o(Up,"tokenizeCodeText");var Zr=class{static{o(this,"SpliceBuffer")}constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){let r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){let i=n||0;this.setCursor(Math.trunc(e));let s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&jn(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),jn(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),jn(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){let n=this.left.splice(e,Number.POSITIVE_INFINITY);jn(this.right,n.reverse())}else{let n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);jn(this.left,n.reverse())}}};function jn(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}o(jn,"chunkedPush");function ei(t){let e={},n=-1,r,i,s,a,l,u,c,f=new Zr(t);for(;++n<f.length;){for(;n in e;)n=e[n];if(r=f.get(n),n&&r[1].type==="chunkFlow"&&f.get(n-1)[1].type==="listItemPrefix"&&(u=r[1]._tokenizer.events,s=0,s<u.length&&u[s][1].type==="lineEndingBlank"&&(s+=2),s<u.length&&u[s][1].type==="content"))for(;++s<u.length&&u[s][1].type!=="content";)u[s][1].type==="chunkText"&&(u[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,Hp(f,n)),n=e[n],c=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(a=f.get(s),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(f.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=s);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(r[1].end={...f.get(i)[1].start},l=f.slice(i,n),l.unshift(r),f.splice(i,n-i+1,l))}}return fe(t,0,Number.POSITIVE_INFINITY,f.slice(0)),!c}o(ei,"subtokenize");function Hp(t,e){let n=t.get(e)[1],r=t.get(e)[2],i=e-1,s=[],a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));let l=a.events,u=[],c={},f,d,h=-1,p=n,w=0,b=0,C=[b];for(;p;){for(;t.get(++i)[1]!==p;);s.push(i),p._tokenizer||(f=r.sliceStream(p),p.next||f.push(null),d&&a.defineSkip(p.start),p._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(f),p._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),d=p,p=p.next}for(p=n;++h<l.length;)l[h][0]==="exit"&&l[h-1][0]==="enter"&&l[h][1].type===l[h-1][1].type&&l[h][1].start.line!==l[h][1].end.line&&(b=h+1,C.push(b),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(a.events=[],p?(p._tokenizer=void 0,p.previous=void 0):C.pop(),h=C.length;h--;){let y=l.slice(C[h],C[h+1]),k=s.pop();u.push([k,k+y.length-1]),t.splice(k,2,y)}for(u.reverse(),h=-1;++h<u.length;)c[w+u[h][0]]=w+u[h][1],w+=u[h][1]-u[h][0]-1;return c}o(Hp,"subcontent");var us={resolve:Kp,tokenize:qp},jp={partial:!0,tokenize:Yp};function Kp(t){return ei(t),t}o(Kp,"resolveContent");function qp(t,e){let n;return r;function r(l){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(l)}function i(l){return l===null?s(l):P(l)?t.check(jp,a,s)(l):(t.consume(l),i)}function s(l){return t.exit("chunkContent"),t.exit("content"),e(l)}function a(l){return t.consume(l),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}o(qp,"tokenizeContent");function Yp(t,e,n){let r=this;return i;function i(a){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),N(t,s,"linePrefix")}function s(a){if(a===null||P(a))return n(a);let l=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&l&&l[1].type==="linePrefix"&&l[2].sliceSerialize(l[1],!0).length>=4?e(a):t.interrupt(r.parser.constructs.flow,n,e)(a)}}o(Yp,"tokenizeContinuation");function ti(t,e,n,r,i,s,a,l,u){let c=u||Number.POSITIVE_INFINITY,f=0;return d;function d(y){return y===60?(t.enter(r),t.enter(i),t.enter(s),t.consume(y),t.exit(s),h):y===null||y===32||y===41||Wn(y)?n(y):(t.enter(r),t.enter(a),t.enter(l),t.enter("chunkString",{contentType:"string"}),b(y))}function h(y){return y===62?(t.enter(s),t.consume(y),t.exit(s),t.exit(i),t.exit(r),e):(t.enter(l),t.enter("chunkString",{contentType:"string"}),p(y))}function p(y){return y===62?(t.exit("chunkString"),t.exit(l),h(y)):y===null||y===60||P(y)?n(y):(t.consume(y),y===92?w:p)}function w(y){return y===60||y===62||y===92?(t.consume(y),p):p(y)}function b(y){return!f&&(y===null||y===41||Z(y))?(t.exit("chunkString"),t.exit(l),t.exit(a),t.exit(r),e(y)):f<c&&y===40?(t.consume(y),f++,b):y===41?(t.consume(y),f--,b):y===null||y===32||y===40||Wn(y)?n(y):(t.consume(y),y===92?C:b)}function C(y){return y===40||y===41||y===92?(t.consume(y),b):b(y)}}o(ti,"factoryDestination");function ni(t,e,n,r,i,s){let a=this,l=0,u;return c;function c(p){return t.enter(r),t.enter(i),t.consume(p),t.exit(i),t.enter(s),f}function f(p){return l>999||p===null||p===91||p===93&&!u||p===94&&!l&&"_hiddenFootnoteSupport"in a.parser.constructs?n(p):p===93?(t.exit(s),t.enter(i),t.consume(p),t.exit(i),t.exit(r),e):P(p)?(t.enter("lineEnding"),t.consume(p),t.exit("lineEnding"),f):(t.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===null||p===91||p===93||P(p)||l++>999?(t.exit("chunkString"),f(p)):(t.consume(p),u||(u=!D(p)),p===92?h:d)}function h(p){return p===91||p===92||p===93?(t.consume(p),l++,d):d(p)}}o(ni,"factoryLabel");function ri(t,e,n,r,i,s){let a;return l;function l(h){return h===34||h===39||h===40?(t.enter(r),t.enter(i),t.consume(h),t.exit(i),a=h===40?41:h,u):n(h)}function u(h){return h===a?(t.enter(i),t.consume(h),t.exit(i),t.exit(r),e):(t.enter(s),c(h))}function c(h){return h===a?(t.exit(s),u(a)):h===null?n(h):P(h)?(t.enter("lineEnding"),t.consume(h),t.exit("lineEnding"),N(t,c,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),f(h))}function f(h){return h===a||h===null||P(h)?(t.exit("chunkString"),c(h)):(t.consume(h),h===92?d:f)}function d(h){return h===a||h===92?(t.consume(h),f):f(h)}}o(ri,"factoryTitle");function Dt(t,e){let n;return r;function r(i){return P(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):D(i)?N(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}o(Dt,"factoryWhitespace");var cs={name:"definition",tokenize:Jp},Gp={partial:!0,tokenize:Qp};function Jp(t,e,n){let r=this,i;return s;function s(p){return t.enter("definition"),a(p)}function a(p){return ni.call(r,t,l,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function l(p){return i=ht(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),p===58?(t.enter("definitionMarker"),t.consume(p),t.exit("definitionMarker"),u):n(p)}function u(p){return Z(p)?Dt(t,c)(p):c(p)}function c(p){return ti(t,f,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function f(p){return t.attempt(Gp,d,d)(p)}function d(p){return D(p)?N(t,h,"whitespace")(p):h(p)}function h(p){return p===null||P(p)?(t.exit("definition"),r.parser.defined.push(i),e(p)):n(p)}}o(Jp,"tokenizeDefinition");function Qp(t,e,n){return r;function r(l){return Z(l)?Dt(t,i)(l):n(l)}function i(l){return ri(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(l)}function s(l){return D(l)?N(t,a,"whitespace")(l):a(l)}function a(l){return l===null||P(l)?e(l):n(l)}}o(Qp,"tokenizeTitleBefore");var fs={name:"hardBreakEscape",tokenize:Xp};function Xp(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.consume(s),i}function i(s){return P(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}o(Xp,"tokenizeHardBreakEscape");var ds={name:"headingAtx",resolve:Zp,tokenize:em};function Zp(t,e){let n=t.length-2,r=3,i,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},fe(t,r,n-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}o(Zp,"resolveHeadingAtx");function em(t,e,n){let r=0;return i;function i(f){return t.enter("atxHeading"),s(f)}function s(f){return t.enter("atxHeadingSequence"),a(f)}function a(f){return f===35&&r++<6?(t.consume(f),a):f===null||Z(f)?(t.exit("atxHeadingSequence"),l(f)):n(f)}function l(f){return f===35?(t.enter("atxHeadingSequence"),u(f)):f===null||P(f)?(t.exit("atxHeading"),e(f)):D(f)?N(t,l,"whitespace")(f):(t.enter("atxHeadingText"),c(f))}function u(f){return f===35?(t.consume(f),u):(t.exit("atxHeadingSequence"),l(f))}function c(f){return f===null||f===35||Z(f)?(t.exit("atxHeadingText"),l(f)):(t.consume(f),c)}}o(em,"tokenizeHeadingAtx");var Du=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],hs=["pre","script","style","textarea"];var ps={concrete:!0,name:"htmlFlow",resolveTo:rm,tokenize:im},tm={partial:!0,tokenize:sm},nm={partial:!0,tokenize:om};function rm(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}o(rm,"resolveToHtmlFlow");function im(t,e,n){let r=this,i,s,a,l,u;return c;function c(g){return f(g)}function f(g){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(g),d}function d(g){return g===33?(t.consume(g),h):g===47?(t.consume(g),s=!0,b):g===63?(t.consume(g),i=3,r.interrupt?e:m):Oe(g)?(t.consume(g),a=String.fromCharCode(g),C):n(g)}function h(g){return g===45?(t.consume(g),i=2,p):g===91?(t.consume(g),i=5,l=0,w):Oe(g)?(t.consume(g),i=4,r.interrupt?e:m):n(g)}function p(g){return g===45?(t.consume(g),r.interrupt?e:m):n(g)}function w(g){let de="CDATA[";return g===de.charCodeAt(l++)?(t.consume(g),l===de.length?r.interrupt?e:U:w):n(g)}function b(g){return Oe(g)?(t.consume(g),a=String.fromCharCode(g),C):n(g)}function C(g){if(g===null||g===47||g===62||Z(g)){let de=g===47,vt=a.toLowerCase();return!de&&!s&&hs.includes(vt)?(i=1,r.interrupt?e(g):U(g)):Du.includes(a.toLowerCase())?(i=6,de?(t.consume(g),y):r.interrupt?e(g):U(g)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(g):s?k(g):v(g))}return g===45||Ae(g)?(t.consume(g),a+=String.fromCharCode(g),C):n(g)}function y(g){return g===62?(t.consume(g),r.interrupt?e:U):n(g)}function k(g){return D(g)?(t.consume(g),k):V(g)}function v(g){return g===47?(t.consume(g),V):g===58||g===95||Oe(g)?(t.consume(g),S):D(g)?(t.consume(g),v):V(g)}function S(g){return g===45||g===46||g===58||g===95||Ae(g)?(t.consume(g),S):I(g)}function I(g){return g===61?(t.consume(g),x):D(g)?(t.consume(g),I):v(g)}function x(g){return g===null||g===60||g===61||g===62||g===96?n(g):g===34||g===39?(t.consume(g),u=g,B):D(g)?(t.consume(g),x):H(g)}function B(g){return g===u?(t.consume(g),u=null,R):g===null||P(g)?n(g):(t.consume(g),B)}function H(g){return g===null||g===34||g===39||g===47||g===60||g===61||g===62||g===96||Z(g)?I(g):(t.consume(g),H)}function R(g){return g===47||g===62||D(g)?v(g):n(g)}function V(g){return g===62?(t.consume(g),se):n(g)}function se(g){return g===null||P(g)?U(g):D(g)?(t.consume(g),se):n(g)}function U(g){return g===45&&i===2?(t.consume(g),z):g===60&&i===1?(t.consume(g),j):g===62&&i===4?(t.consume(g),G):g===63&&i===3?(t.consume(g),m):g===93&&i===5?(t.consume(g),ye):P(g)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(tm,le,T)(g)):g===null||P(g)?(t.exit("htmlFlowData"),T(g)):(t.consume(g),U)}function T(g){return t.check(nm,L,le)(g)}function L(g){return t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),_}function _(g){return g===null||P(g)?T(g):(t.enter("htmlFlowData"),U(g))}function z(g){return g===45?(t.consume(g),m):U(g)}function j(g){return g===47?(t.consume(g),a="",ae):U(g)}function ae(g){if(g===62){let de=a.toLowerCase();return hs.includes(de)?(t.consume(g),G):U(g)}return Oe(g)&&a.length<8?(t.consume(g),a+=String.fromCharCode(g),ae):U(g)}function ye(g){return g===93?(t.consume(g),m):U(g)}function m(g){return g===62?(t.consume(g),G):g===45&&i===2?(t.consume(g),m):U(g)}function G(g){return g===null||P(g)?(t.exit("htmlFlowData"),le(g)):(t.consume(g),G)}function le(g){return t.exit("htmlFlow"),e(g)}}o(im,"tokenizeHtmlFlow");function om(t,e,n){let r=this;return i;function i(a){return P(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),s):n(a)}function s(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}o(om,"tokenizeNonLazyContinuationStart");function sm(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(bt,e,n)}}o(sm,"tokenizeBlankLineBefore");var ms={name:"htmlText",tokenize:am};function am(t,e,n){let r=this,i,s,a;return l;function l(m){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(m),u}function u(m){return m===33?(t.consume(m),c):m===47?(t.consume(m),I):m===63?(t.consume(m),v):Oe(m)?(t.consume(m),H):n(m)}function c(m){return m===45?(t.consume(m),f):m===91?(t.consume(m),s=0,w):Oe(m)?(t.consume(m),k):n(m)}function f(m){return m===45?(t.consume(m),p):n(m)}function d(m){return m===null?n(m):m===45?(t.consume(m),h):P(m)?(a=d,j(m)):(t.consume(m),d)}function h(m){return m===45?(t.consume(m),p):d(m)}function p(m){return m===62?z(m):m===45?h(m):d(m)}function w(m){let G="CDATA[";return m===G.charCodeAt(s++)?(t.consume(m),s===G.length?b:w):n(m)}function b(m){return m===null?n(m):m===93?(t.consume(m),C):P(m)?(a=b,j(m)):(t.consume(m),b)}function C(m){return m===93?(t.consume(m),y):b(m)}function y(m){return m===62?z(m):m===93?(t.consume(m),y):b(m)}function k(m){return m===null||m===62?z(m):P(m)?(a=k,j(m)):(t.consume(m),k)}function v(m){return m===null?n(m):m===63?(t.consume(m),S):P(m)?(a=v,j(m)):(t.consume(m),v)}function S(m){return m===62?z(m):v(m)}function I(m){return Oe(m)?(t.consume(m),x):n(m)}function x(m){return m===45||Ae(m)?(t.consume(m),x):B(m)}function B(m){return P(m)?(a=B,j(m)):D(m)?(t.consume(m),B):z(m)}function H(m){return m===45||Ae(m)?(t.consume(m),H):m===47||m===62||Z(m)?R(m):n(m)}function R(m){return m===47?(t.consume(m),z):m===58||m===95||Oe(m)?(t.consume(m),V):P(m)?(a=R,j(m)):D(m)?(t.consume(m),R):z(m)}function V(m){return m===45||m===46||m===58||m===95||Ae(m)?(t.consume(m),V):se(m)}function se(m){return m===61?(t.consume(m),U):P(m)?(a=se,j(m)):D(m)?(t.consume(m),se):R(m)}function U(m){return m===null||m===60||m===61||m===62||m===96?n(m):m===34||m===39?(t.consume(m),i=m,T):P(m)?(a=U,j(m)):D(m)?(t.consume(m),U):(t.consume(m),L)}function T(m){return m===i?(t.consume(m),i=void 0,_):m===null?n(m):P(m)?(a=T,j(m)):(t.consume(m),T)}function L(m){return m===null||m===34||m===39||m===60||m===61||m===96?n(m):m===47||m===62||Z(m)?R(m):(t.consume(m),L)}function _(m){return m===47||m===62||Z(m)?R(m):n(m)}function z(m){return m===62?(t.consume(m),t.exit("htmlTextData"),t.exit("htmlText"),e):n(m)}function j(m){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(m),t.exit("lineEnding"),ae}function ae(m){return D(m)?N(t,ye,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(m):ye(m)}function ye(m){return t.enter("htmlTextData"),a(m)}}o(am,"tokenizeHtmlText");var Mt={name:"labelEnd",resolveAll:fm,resolveTo:dm,tokenize:hm},lm={tokenize:pm},um={tokenize:mm},cm={tokenize:gm};function fm(t){let e=-1,n=[];for(;++e<t.length;){let r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){let i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&fe(t,0,t.length,n),t}o(fm,"resolveAllLabelEnd");function dm(t,e){let n=t.length,r=0,i,s,a,l;for(;n--;)if(i=t[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=n);let u={type:t[s][1].type==="labelLink"?"link":"image",start:{...t[s][1].start},end:{...t[t.length-1][1].end}},c={type:"label",start:{...t[s][1].start},end:{...t[a][1].end}},f={type:"labelText",start:{...t[s+r+2][1].end},end:{...t[a-2][1].start}};return l=[["enter",u,e],["enter",c,e]],l=ke(l,t.slice(s+1,s+r+3)),l=ke(l,[["enter",f,e]]),l=ke(l,mn(e.parser.constructs.insideSpan.null,t.slice(s+r+4,a-3),e)),l=ke(l,[["exit",f,e],t[a-2],t[a-1],["exit",c,e]]),l=ke(l,t.slice(a+1)),l=ke(l,[["exit",u,e]]),fe(t,s,t.length,l),t}o(dm,"resolveToLabelEnd");function hm(t,e,n){let r=this,i=r.events.length,s,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return l;function l(h){return s?s._inactive?d(h):(a=r.parser.defined.includes(ht(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(h),t.exit("labelMarker"),t.exit("labelEnd"),u):n(h)}function u(h){return h===40?t.attempt(lm,f,a?f:d)(h):h===91?t.attempt(um,f,a?c:d)(h):a?f(h):d(h)}function c(h){return t.attempt(cm,f,d)(h)}function f(h){return e(h)}function d(h){return s._balanced=!0,n(h)}}o(hm,"tokenizeLabelEnd");function pm(t,e,n){return r;function r(d){return t.enter("resource"),t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),i}function i(d){return Z(d)?Dt(t,s)(d):s(d)}function s(d){return d===41?f(d):ti(t,a,l,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function a(d){return Z(d)?Dt(t,u)(d):f(d)}function l(d){return n(d)}function u(d){return d===34||d===39||d===40?ri(t,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):f(d)}function c(d){return Z(d)?Dt(t,f)(d):f(d)}function f(d){return d===41?(t.enter("resourceMarker"),t.consume(d),t.exit("resourceMarker"),t.exit("resource"),e):n(d)}}o(pm,"tokenizeResource");function mm(t,e,n){let r=this;return i;function i(l){return ni.call(r,t,s,a,"reference","referenceMarker","referenceString")(l)}function s(l){return r.parser.defined.includes(ht(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(l):n(l)}function a(l){return n(l)}}o(mm,"tokenizeReferenceFull");function gm(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}o(gm,"tokenizeReferenceCollapsed");var gs={name:"labelStartImage",resolveAll:Mt.resolveAll,tokenize:wm};function wm(t,e,n){let r=this;return i;function i(l){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(l),t.exit("labelImageMarker"),s}function s(l){return l===91?(t.enter("labelMarker"),t.consume(l),t.exit("labelMarker"),t.exit("labelImage"),a):n(l)}function a(l){return l===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(l):e(l)}}o(wm,"tokenizeLabelStartImage");var ws={name:"labelStartLink",resolveAll:Mt.resolveAll,tokenize:ym};function ym(t,e,n){let r=this;return i;function i(a){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}o(ym,"tokenizeLabelStartLink");var Kn={name:"lineEnding",tokenize:bm};function bm(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),N(t,e,"linePrefix")}}o(bm,"tokenizeLineEnding");var Nt={name:"thematicBreak",tokenize:Cm};function Cm(t,e,n){let r=0,i;return s;function s(c){return t.enter("thematicBreak"),a(c)}function a(c){return i=c,l(c)}function l(c){return c===i?(t.enter("thematicBreakSequence"),u(c)):r>=3&&(c===null||P(c))?(t.exit("thematicBreak"),e(c)):n(c)}function u(c){return c===i?(t.consume(c),r++,u):(t.exit("thematicBreakSequence"),D(c)?N(t,l,"whitespace")(c):l(c))}}o(Cm,"tokenizeThematicBreak");var ge={continuation:{tokenize:vm},exit:Sm,name:"list",tokenize:Am},xm={partial:!0,tokenize:Tm},km={partial:!0,tokenize:Em};function Am(t,e,n){let r=this,i=r.events[r.events.length-1],s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return l;function l(p){let w=r.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(w==="listUnordered"?!r.containerState.marker||p===r.containerState.marker:$n(p)){if(r.containerState.type||(r.containerState.type=w,t.enter(w,{_container:!0})),w==="listUnordered")return t.enter("listItemPrefix"),p===42||p===45?t.check(Nt,n,c)(p):c(p);if(!r.interrupt||p===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),u(p)}return n(p)}function u(p){return $n(p)&&++a<10?(t.consume(p),u):(!r.interrupt||a<2)&&(r.containerState.marker?p===r.containerState.marker:p===41||p===46)?(t.exit("listItemValue"),c(p)):n(p)}function c(p){return t.enter("listItemMarker"),t.consume(p),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||p,t.check(bt,r.interrupt?n:f,t.attempt(xm,h,d))}function f(p){return r.containerState.initialBlankLine=!0,s++,h(p)}function d(p){return D(p)?(t.enter("listItemPrefixWhitespace"),t.consume(p),t.exit("listItemPrefixWhitespace"),h):n(p)}function h(p){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(p)}}o(Am,"tokenizeListStart");function vm(t,e,n){let r=this;return r.containerState._closeFlow=void 0,t.check(bt,i,s);function i(l){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,N(t,e,"listItemIndent",r.containerState.size+1)(l)}o(i,"onBlank");function s(l){return r.containerState.furtherBlankLines||!D(l)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(l)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(km,e,a)(l))}o(s,"notBlank");function a(l){return r.containerState._closeFlow=!0,r.interrupt=void 0,N(t,t.attempt(ge,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l)}o(a,"notInCurrentItem")}o(vm,"tokenizeListContinuation");function Em(t,e,n){let r=this;return N(t,i,"listItemIndent",r.containerState.size+1);function i(s){let a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?e(s):n(s)}}o(Em,"tokenizeIndent");function Sm(t){t.exit(this.containerState.type)}o(Sm,"tokenizeListEnd");function Tm(t,e,n){let r=this;return N(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){let a=r.events[r.events.length-1];return!D(s)&&a&&a[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}o(Tm,"tokenizeListItemPrefixWhitespace");var ii={name:"setextUnderline",resolveTo:Pm,tokenize:Fm};function Pm(t,e){let n=t.length,r,i,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);let a={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",a,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end={...t[s][1].end}):t[r][1]=a,t.push(["exit",a,e]),t}o(Pm,"resolveToSetextUnderline");function Fm(t,e,n){let r=this,i;return s;function s(c){let f=r.events.length,d;for(;f--;)if(r.events[f][1].type!=="lineEnding"&&r.events[f][1].type!=="linePrefix"&&r.events[f][1].type!=="content"){d=r.events[f][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||d)?(t.enter("setextHeadingLine"),i=c,a(c)):n(c)}function a(c){return t.enter("setextHeadingLineSequence"),l(c)}function l(c){return c===i?(t.consume(c),l):(t.exit("setextHeadingLineSequence"),D(c)?N(t,u,"lineSuffix")(c):u(c))}function u(c){return c===null||P(c)?(t.exit("setextHeadingLine"),e(c)):n(c)}}o(Fm,"tokenizeSetextUnderline");var Mu={tokenize:Im};function Im(t){let e=this,n=t.attempt(bt,r,t.attempt(this.parser.constructs.flowInitial,i,N(t,t.attempt(this.parser.constructs.flow,i,t.attempt(us,i)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}o(Im,"initializeFlow");var Nu={resolveAll:Wu()},Bu=Vu("string"),zu=Vu("text");function Vu(t){return{resolveAll:Wu(t==="text"?Lm:void 0),tokenize:e};function e(n){let r=this,i=this.parser.constructs[t],s=n.attempt(i,a,l);return a;function a(f){return c(f)?s(f):l(f)}function l(f){if(f===null){n.consume(f);return}return n.enter("data"),n.consume(f),u}function u(f){return c(f)?(n.exit("data"),s(f)):(n.consume(f),u)}function c(f){if(f===null)return!0;let d=i[f],h=-1;if(d)for(;++h<d.length;){let p=d[h];if(!p.previous||p.previous.call(r,r.previous))return!0}return!1}}}o(Vu,"initializeFactory");function Wu(t){return e;function e(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(n,r):n}}o(Wu,"createResolver");function Lm(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){let r=t[n-1][1],i=e.sliceStream(r),s=i.length,a=-1,l=0,u;for(;s--;){let c=i[s];if(typeof c=="string"){for(a=c.length;c.charCodeAt(a-1)===32;)l++,a--;if(a)break;a=-1}else if(c===-2)u=!0,l++;else if(c!==-1){s++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(l=0),l){let c={type:n===t.length||u||l<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?a:r.start._bufferIndex+a,_index:r.start._index+s,line:r.end.line,column:r.end.column-l,offset:r.end.offset-l},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(t.splice(n,0,["enter",c,e],["exit",c,e]),n+=2)}n++}return t}o(Lm,"resolveAllLineSuffixes");var ys={};Fa(ys,{attentionMarkers:()=>zm,contentInitial:()=>Om,disable:()=>Vm,document:()=>_m,flow:()=>Dm,flowInitial:()=>Rm,insideSpan:()=>Bm,string:()=>Mm,text:()=>Nm});var _m={42:ge,43:ge,45:ge,48:ge,49:ge,50:ge,51:ge,52:ge,53:ge,54:ge,55:ge,56:ge,57:ge,62:Gr},Om={91:cs},Rm={[-2]:Hn,[-1]:Hn,32:Hn},Dm={35:ds,42:Nt,45:[ii,Nt],60:ps,61:ii,95:Nt,96:Xr,126:Xr},Mm={38:Qr,92:Jr},Nm={[-5]:Kn,[-4]:Kn,[-3]:Kn,33:gs,38:Qr,42:Un,60:[as,ms],91:ws,92:[fs,Jr],93:Mt,95:Un,96:ls},Bm={null:[Un,Nu]},zm={null:[42,95]},Vm={null:[]};function $u(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0},i={},s=[],a=[],l=[],u=!0,c={attempt:R(B),check:R(H),consume:S,enter:I,exit:x,interrupt:R(H,{interrupt:!0})},f={code:null,containerState:{},defineSkip:y,events:[],now:C,parser:t,previous:null,sliceSerialize:w,sliceStream:b,write:p},d=e.tokenize.call(f,c),h;return e.resolveAll&&s.push(e),f;function p(T){return a=ke(a,T),k(),a[a.length-1]!==null?[]:(V(e,0),f.events=mn(s,f.events,f),f.events)}o(p,"write");function w(T,L){return $m(b(T),L)}o(w,"sliceSerialize");function b(T){return Wm(a,T)}o(b,"sliceStream");function C(){let{_bufferIndex:T,_index:L,line:_,column:z,offset:j}=r;return{_bufferIndex:T,_index:L,line:_,column:z,offset:j}}o(C,"now");function y(T){i[T.line]=T.column,U()}o(y,"defineSkip");function k(){let T;for(;r._index<a.length;){let L=a[r._index];if(typeof L=="string")for(T=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===T&&r._bufferIndex<L.length;)v(L.charCodeAt(r._bufferIndex));else v(L)}}o(k,"main");function v(T){u=void 0,h=T,d=d(T)}o(v,"go");function S(T){P(T)?(r.line++,r.column=1,r.offset+=T===-3?2:1,U()):T!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),f.previous=T,u=!0}o(S,"consume");function I(T,L){let _=L||{};return _.type=T,_.start=C(),f.events.push(["enter",_,f]),l.push(_),_}o(I,"enter");function x(T){let L=l.pop();return L.end=C(),f.events.push(["exit",L,f]),L}o(x,"exit");function B(T,L){V(T,L.from)}o(B,"onsuccessfulconstruct");function H(T,L){L.restore()}o(H,"onsuccessfulcheck");function R(T,L){return _;function _(z,j,ae){let ye,m,G,le;return Array.isArray(z)?de(z):"tokenize"in z?de([z]):g(z);function g(ue){return Sn;function Sn(ot){let Et=ot!==null&&ue[ot],Kt=ot!==null&&ue.null,mo=[...Array.isArray(Et)?Et:Et?[Et]:[],...Array.isArray(Kt)?Kt:Kt?[Kt]:[]];return de(mo)(ot)}}function de(ue){return ye=ue,m=0,ue.length===0?ae:vt(ue[m])}function vt(ue){return Sn;function Sn(ot){return le=se(),G=ue,ue.partial||(f.currentConstruct=ue),ue.name&&f.parser.constructs.disable.null.includes(ue.name)?sr(ot):ue.tokenize.call(L?Object.assign(Object.create(f),L):f,c,po,sr)(ot)}}function po(ue){return u=!0,T(G,le),j}function sr(ue){return u=!0,le.restore(),++m<ye.length?vt(ye[m]):ae}}}o(R,"constructFactory");function V(T,L){T.resolveAll&&!s.includes(T)&&s.push(T),T.resolve&&fe(f.events,L,f.events.length-L,T.resolve(f.events.slice(L),f)),T.resolveTo&&(f.events=T.resolveTo(f.events,f))}o(V,"addResult");function se(){let T=C(),L=f.previous,_=f.currentConstruct,z=f.events.length,j=Array.from(l);return{from:z,restore:ae};function ae(){r=T,f.previous=L,f.currentConstruct=_,f.events.length=z,l=j,U()}}o(se,"store");function U(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}o(U,"accountForPotentialSkip")}o($u,"createTokenizer");function Wm(t,e){let n=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex,a;if(n===i)a=[t[n].slice(r,s)];else{if(a=t.slice(n,i),r>-1){let l=a[0];typeof l=="string"?a[0]=l.slice(r):a.shift()}s>0&&a.push(t[i].slice(0,s))}return a}o(Wm,"sliceChunks");function $m(t,e){let n=-1,r=[],i;for(;++n<t.length;){let s=t[n],a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=e?" ":"	";break}case-1:{if(!e&&i)continue;a=" ";break}default:a=String.fromCharCode(s)}i=s===-2,r.push(a)}return r.join("")}o($m,"serializeChunks");function bs(t){let r={constructs:vu([ys,...(t||{}).extensions||[]]),content:i(Iu),defined:[],document:i(_u),flow:i(Mu),lazy:{},string:i(Bu),text:i(zu)};return r;function i(s){return a;function a(l){return $u(r,s,l)}}}o(bs,"parse");function Cs(t){for(;!ei(t););return t}o(Cs,"postprocess");var Uu=/[\0\t\n\r]/g;function xs(){let t=1,e="",n=!0,r;return i;function i(s,a,l){let u=[],c,f,d,h,p;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(a||void 0).decode(s)),d=0,e="",n&&(s.charCodeAt(0)===65279&&d++,n=void 0);d<s.length;){if(Uu.lastIndex=d,c=Uu.exec(s),h=c&&c.index!==void 0?c.index:s.length,p=s.charCodeAt(h),!c){e=s.slice(d);break}if(p===10&&d===h&&r)u.push(-3),r=void 0;else switch(r&&(u.push(-5),r=void 0),d<h&&(u.push(s.slice(d,h)),t+=h-d),p){case 0:{u.push(65533),t++;break}case 9:{for(f=Math.ceil(t/4)*4,u.push(-2);t++<f;)u.push(-1);break}case 10:{u.push(-4),t=1;break}default:r=!0,t=1}d=h+1}return l&&(r&&u.push(-5),e&&u.push(e),u.push(null)),u}}o(xs,"preprocess");var Um=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function oi(t){return t.replace(Um,Hm)}o(oi,"decodeString");function Hm(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){let i=n.charCodeAt(1),s=i===120||i===88;return Yr(n.slice(s?2:1),s?16:10)}return hn(n)||t}o(Hm,"decode");function Ct(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?Hu(t.position):"start"in t||"end"in t?Hu(t):"line"in t||"column"in t?ks(t):""}o(Ct,"stringifyPosition");function ks(t){return ju(t&&t.line)+":"+ju(t&&t.column)}o(ks,"point");function Hu(t){return ks(t&&t.start)+"-"+ks(t&&t.end)}o(Hu,"position");function ju(t){return t&&typeof t=="number"?t:1}o(ju,"index");var qu={}.hasOwnProperty;function As(t,e,n){return typeof e!="string"&&(n=e,e=void 0),jm(n)(Cs(bs(n).document().write(xs()(t,e,!0))))}o(As,"fromMarkdown");function jm(t){let e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Ta),autolinkProtocol:R,autolinkEmail:R,atxHeading:s(va),blockQuote:s(ot),characterEscape:R,characterReference:R,codeFenced:s(Et),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:s(Et,a),codeText:s(Kt,a),codeTextData:R,data:R,codeFlowValue:R,definition:s(mo),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:s(od),hardBreakEscape:s(Ea),hardBreakTrailing:s(Ea),htmlFlow:s(Sa,a),htmlFlowData:R,htmlText:s(Sa,a),htmlTextData:R,image:s(sd),label:a,link:s(Ta),listItem:s(ad),listItemValue:h,listOrdered:s(Pa,d),listUnordered:s(Pa),paragraph:s(ld),reference:g,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:s(va),strong:s(ud),thematicBreak:s(fd)},exit:{atxHeading:u(),atxHeadingSequence:I,autolink:u(),autolinkEmail:Sn,autolinkProtocol:ue,blockQuote:u(),characterEscapeValue:V,characterReferenceMarkerHexadecimal:vt,characterReferenceMarkerNumeric:vt,characterReferenceValue:po,characterReference:sr,codeFenced:u(C),codeFencedFence:b,codeFencedFenceInfo:p,codeFencedFenceMeta:w,codeFlowValue:V,codeIndented:u(y),codeText:u(_),codeTextData:V,data:V,definition:u(),definitionDestinationString:S,definitionLabelString:k,definitionTitleString:v,emphasis:u(),hardBreakEscape:u(U),hardBreakTrailing:u(U),htmlFlow:u(T),htmlFlowData:V,htmlText:u(L),htmlTextData:V,image:u(j),label:ye,labelText:ae,lineEnding:se,link:u(z),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:de,resourceDestinationString:m,resourceTitleString:G,resource:le,setextHeading:u(H),setextHeadingLineSequence:B,setextHeadingText:x,strong:u(),thematicBreak:u()}};Yu(e,(t||{}).mdastExtensions||[]);let n={};return r;function r(A){let E={type:"root",children:[]},M={stack:[E],tokenStack:[],config:e,enter:l,exit:c,buffer:a,resume:f,data:n},$=[],K=-1;for(;++K<A.length;)if(A[K][1].type==="listOrdered"||A[K][1].type==="listUnordered")if(A[K][0]==="enter")$.push(K);else{let $e=$.pop();K=i(A,$e,K)}for(K=-1;++K<A.length;){let $e=e[A[K][0]];qu.call($e,A[K][1].type)&&$e[A[K][1].type].call(Object.assign({sliceSerialize:A[K][2].sliceSerialize},M),A[K][1])}if(M.tokenStack.length>0){let $e=M.tokenStack[M.tokenStack.length-1];($e[1]||Ku).call(M,void 0,$e[0])}for(E.position={start:xt(A.length>0?A[0][1].start:{line:1,column:1,offset:0}),end:xt(A.length>0?A[A.length-2][1].end:{line:1,column:1,offset:0})},K=-1;++K<e.transforms.length;)E=e.transforms[K](E)||E;return E}function i(A,E,M){let $=E-1,K=-1,$e=!1,St,st,Tn,Pn;for(;++$<=M;){let Ie=A[$];switch(Ie[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ie[0]==="enter"?K++:K--,Pn=void 0;break}case"lineEndingBlank":{Ie[0]==="enter"&&(St&&!Pn&&!K&&!Tn&&(Tn=$),Pn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Pn=void 0}if(!K&&Ie[0]==="enter"&&Ie[1].type==="listItemPrefix"||K===-1&&Ie[0]==="exit"&&(Ie[1].type==="listUnordered"||Ie[1].type==="listOrdered")){if(St){let qt=$;for(st=void 0;qt--;){let at=A[qt];if(at[1].type==="lineEnding"||at[1].type==="lineEndingBlank"){if(at[0]==="exit")continue;st&&(A[st][1].type="lineEndingBlank",$e=!0),at[1].type="lineEnding",st=qt}else if(!(at[1].type==="linePrefix"||at[1].type==="blockQuotePrefix"||at[1].type==="blockQuotePrefixWhitespace"||at[1].type==="blockQuoteMarker"||at[1].type==="listItemIndent"))break}Tn&&(!st||Tn<st)&&(St._spread=!0),St.end=Object.assign({},st?A[st][1].start:Ie[1].end),A.splice(st||$,0,["exit",St,Ie[2]]),$++,M++}if(Ie[1].type==="listItemPrefix"){let qt={type:"listItem",_spread:!1,start:Object.assign({},Ie[1].start),end:void 0};St=qt,A.splice($,0,["enter",qt,Ie[2]]),$++,M++,Tn=void 0,Pn=!0}}}return A[E][1]._spread=$e,M}function s(A,E){return M;function M($){l.call(this,A($),$),E&&E.call(this,$)}}function a(){this.stack.push({type:"fragment",children:[]})}function l(A,E,M){this.stack[this.stack.length-1].children.push(A),this.stack.push(A),this.tokenStack.push([E,M||void 0]),A.position={start:xt(E.start),end:void 0}}function u(A){return E;function E(M){A&&A.call(this,M),c.call(this,M)}}function c(A,E){let M=this.stack.pop(),$=this.tokenStack.pop();if($)$[0].type!==A.type&&(E?E.call(this,A,$[0]):($[1]||Ku).call(this,A,$[0]));else throw new Error("Cannot close `"+A.type+"` ("+Ct({start:A.start,end:A.end})+"): it\u2019s not open");M.position.end=xt(A.end)}function f(){return Rt(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function h(A){if(this.data.expectingFirstListItemValue){let E=this.stack[this.stack.length-2];E.start=Number.parseInt(this.sliceSerialize(A),10),this.data.expectingFirstListItemValue=void 0}}function p(){let A=this.resume(),E=this.stack[this.stack.length-1];E.lang=A}function w(){let A=this.resume(),E=this.stack[this.stack.length-1];E.meta=A}function b(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function C(){let A=this.resume(),E=this.stack[this.stack.length-1];E.value=A.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function y(){let A=this.resume(),E=this.stack[this.stack.length-1];E.value=A.replace(/(\r?\n|\r)$/g,"")}function k(A){let E=this.resume(),M=this.stack[this.stack.length-1];M.label=E,M.identifier=ht(this.sliceSerialize(A)).toLowerCase()}function v(){let A=this.resume(),E=this.stack[this.stack.length-1];E.title=A}function S(){let A=this.resume(),E=this.stack[this.stack.length-1];E.url=A}function I(A){let E=this.stack[this.stack.length-1];if(!E.depth){let M=this.sliceSerialize(A).length;E.depth=M}}function x(){this.data.setextHeadingSlurpLineEnding=!0}function B(A){let E=this.stack[this.stack.length-1];E.depth=this.sliceSerialize(A).codePointAt(0)===61?1:2}function H(){this.data.setextHeadingSlurpLineEnding=void 0}function R(A){let M=this.stack[this.stack.length-1].children,$=M[M.length-1];(!$||$.type!=="text")&&($=cd(),$.position={start:xt(A.start),end:void 0},M.push($)),this.stack.push($)}function V(A){let E=this.stack.pop();E.value+=this.sliceSerialize(A),E.position.end=xt(A.end)}function se(A){let E=this.stack[this.stack.length-1];if(this.data.atHardBreak){let M=E.children[E.children.length-1];M.position.end=xt(A.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(E.type)&&(R.call(this,A),V.call(this,A))}function U(){this.data.atHardBreak=!0}function T(){let A=this.resume(),E=this.stack[this.stack.length-1];E.value=A}function L(){let A=this.resume(),E=this.stack[this.stack.length-1];E.value=A}function _(){let A=this.resume(),E=this.stack[this.stack.length-1];E.value=A}function z(){let A=this.stack[this.stack.length-1];if(this.data.inReference){let E=this.data.referenceType||"shortcut";A.type+="Reference",A.referenceType=E,delete A.url,delete A.title}else delete A.identifier,delete A.label;this.data.referenceType=void 0}function j(){let A=this.stack[this.stack.length-1];if(this.data.inReference){let E=this.data.referenceType||"shortcut";A.type+="Reference",A.referenceType=E,delete A.url,delete A.title}else delete A.identifier,delete A.label;this.data.referenceType=void 0}function ae(A){let E=this.sliceSerialize(A),M=this.stack[this.stack.length-2];M.label=oi(E),M.identifier=ht(E).toLowerCase()}function ye(){let A=this.stack[this.stack.length-1],E=this.resume(),M=this.stack[this.stack.length-1];if(this.data.inReference=!0,M.type==="link"){let $=A.children;M.children=$}else M.alt=E}function m(){let A=this.resume(),E=this.stack[this.stack.length-1];E.url=A}function G(){let A=this.resume(),E=this.stack[this.stack.length-1];E.title=A}function le(){this.data.inReference=void 0}function g(){this.data.referenceType="collapsed"}function de(A){let E=this.resume(),M=this.stack[this.stack.length-1];M.label=E,M.identifier=ht(this.sliceSerialize(A)).toLowerCase(),this.data.referenceType="full"}function vt(A){this.data.characterReferenceType=A.type}function po(A){let E=this.sliceSerialize(A),M=this.data.characterReferenceType,$;M?($=Yr(E,M==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):$=hn(E);let K=this.stack[this.stack.length-1];K.value+=$}function sr(A){let E=this.stack.pop();E.position.end=xt(A.end)}function ue(A){V.call(this,A);let E=this.stack[this.stack.length-1];E.url=this.sliceSerialize(A)}function Sn(A){V.call(this,A);let E=this.stack[this.stack.length-1];E.url="mailto:"+this.sliceSerialize(A)}function ot(){return{type:"blockquote",children:[]}}function Et(){return{type:"code",lang:null,meta:null,value:""}}function Kt(){return{type:"inlineCode",value:""}}function mo(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function od(){return{type:"emphasis",children:[]}}function va(){return{type:"heading",depth:0,children:[]}}function Ea(){return{type:"break"}}function Sa(){return{type:"html",value:""}}function sd(){return{type:"image",title:null,url:"",alt:null}}function Ta(){return{type:"link",title:null,url:"",children:[]}}function Pa(A){return{type:"list",ordered:A.type==="listOrdered",start:null,spread:A._spread,children:[]}}function ad(A){return{type:"listItem",spread:A._spread,checked:null,children:[]}}function ld(){return{type:"paragraph",children:[]}}function ud(){return{type:"strong",children:[]}}function cd(){return{type:"text",value:""}}function fd(){return{type:"thematicBreak"}}}o(jm,"compiler");function xt(t){return{line:t.line,column:t.column,offset:t.offset}}o(xt,"point");function Yu(t,e){let n=-1;for(;++n<e.length;){let r=e[n];Array.isArray(r)?Yu(t,r):Km(t,r)}}o(Yu,"configure");function Km(t,e){let n;for(n in e)if(qu.call(e,n))switch(n){case"canContainEols":{let r=e[n];r&&t[n].push(...r);break}case"transforms":{let r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{let r=e[n];r&&Object.assign(t[n],r);break}}}o(Km,"extension");function Ku(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+Ct({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+Ct({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+Ct({start:e.start,end:e.end})+") is still open")}o(Ku,"defaultOnError");function gn(t){let e=this;e.parser=n;function n(r){return As(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}o(n,"parser")}o(gn,"remarkParse");var Gu={}.hasOwnProperty;function Ju(t,e){let n=e||{};function r(i,...s){let a=r.invalid,l=r.handlers;if(i&&Gu.call(i,t)){let u=String(i[t]);a=Gu.call(l,u)?l[u]:r.unknown}if(a)return a.call(this,i,...s)}return o(r,"one"),r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}o(Ju,"zwitch");var qm={}.hasOwnProperty;function vs(t,e){let n=-1,r;if(e.extensions)for(;++n<e.extensions.length;)vs(t,e.extensions[n]);for(r in e)if(qm.call(e,r))switch(r){case"extensions":break;case"unsafe":{Qu(t[r],e[r]);break}case"join":{Qu(t[r],e[r]);break}case"handlers":{Ym(t[r],e[r]);break}default:t.options[r]=e[r]}return t}o(vs,"configure");function Qu(t,e){e&&t.push(...e)}o(Qu,"list");function Ym(t,e){e&&Object.assign(t,e)}o(Ym,"map");function Xu(t,e,n,r){let i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);let a=n.indentLines(n.containerFlow(t,s.current()),Gm);return i(),a}o(Xu,"blockquote");function Gm(t,e,n){return">"+(n?"":" ")+t}o(Gm,"map");function si(t,e){return Zu(t,e.inConstruct,!0)&&!Zu(t,e.notInConstruct,!1)}o(si,"patternInScope");function Zu(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}o(Zu,"listInScope");function Es(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&si(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}o(Es,"hardBreak");function ec(t,e){let n=String(t),r=n.indexOf(e),i=r,s=0,a=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>a&&(a=s):s=1,i=r+e.length,r=n.indexOf(e,i);return a}o(ec,"longestStreak");function qn(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}o(qn,"formatCodeAsIndented");function tc(t){let e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}o(tc,"checkFence");function nc(t,e,n,r){let i=tc(n),s=t.value||"",a=i==="`"?"GraveAccent":"Tilde";if(qn(t,n)){let d=n.enter("codeIndented"),h=n.indentLines(s,Jm);return d(),h}let l=n.createTracker(r),u=i.repeat(Math.max(ec(s,i)+1,3)),c=n.enter("codeFenced"),f=l.move(u);if(t.lang){let d=n.enter(`codeFencedLang${a}`);f+=l.move(n.safe(t.lang,{before:f,after:" ",encode:["`"],...l.current()})),d()}if(t.lang&&t.meta){let d=n.enter(`codeFencedMeta${a}`);f+=l.move(" "),f+=l.move(n.safe(t.meta,{before:f,after:`
`,encode:["`"],...l.current()})),d()}return f+=l.move(`
`),s&&(f+=l.move(s+`
`)),f+=l.move(u),c(),f}o(nc,"code");function Jm(t,e,n){return(n?"":"    ")+t}o(Jm,"map");function wn(t){let e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}o(wn,"checkQuote");function rc(t,e,n,r){let i=wn(n),s=i==='"'?"Quote":"Apostrophe",a=n.enter("definition"),l=n.enter("label"),u=n.createTracker(r),c=u.move("[");return c+=u.move(n.safe(n.associationId(t),{before:c,after:"]",...u.current()})),c+=u.move("]: "),l(),!t.url||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),c+=u.move("<"),c+=u.move(n.safe(t.url,{before:c,after:">",...u.current()})),c+=u.move(">")):(l=n.enter("destinationRaw"),c+=u.move(n.safe(t.url,{before:c,after:t.title?" ":`
`,...u.current()}))),l(),t.title&&(l=n.enter(`title${s}`),c+=u.move(" "+i),c+=u.move(n.safe(t.title,{before:c,after:i,...u.current()})),c+=u.move(i),l()),a(),c}o(rc,"definition");function ic(t){let e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}o(ic,"checkEmphasis");function Re(t){return"&#x"+t.toString(16).toUpperCase()+";"}o(Re,"encodeCharacterReference");function yn(t,e,n){let r=pn(t),i=pn(e);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}o(yn,"encodeInfo");Ss.peek=Qm;function Ss(t,e,n,r){let i=ic(n),s=n.enter("emphasis"),a=n.createTracker(r),l=a.move(i),u=a.move(n.containerPhrasing(t,{after:i,before:l,...a.current()})),c=u.charCodeAt(0),f=yn(r.before.charCodeAt(r.before.length-1),c,i);f.inside&&(u=Re(c)+u.slice(1));let d=u.charCodeAt(u.length-1),h=yn(r.after.charCodeAt(0),d,i);h.inside&&(u=u.slice(0,-1)+Re(d));let p=a.move(i);return s(),n.attentionEncodeSurroundingInfo={after:h.outside,before:f.outside},l+u+p}o(Ss,"emphasis");function Qm(t,e,n){return n.options.emphasis||"*"}o(Qm,"emphasisPeek");var bn=o((function(t){if(t==null)return tg;if(typeof t=="function")return ai(t);if(typeof t=="object")return Array.isArray(t)?Xm(t):Zm(t);if(typeof t=="string")return eg(t);throw new Error("Expected function, string, or object as test")}),"convert");function Xm(t){let e=[],n=-1;for(;++n<t.length;)e[n]=bn(t[n]);return ai(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}o(Xm,"anyFactory");function Zm(t){let e=t;return ai(n);function n(r){let i=r,s;for(s in t)if(i[s]!==e[s])return!1;return!0}}o(Zm,"propertiesFactory");function eg(t){return ai(e);function e(n){return n&&n.type===t}}o(eg,"typeFactory");function ai(t){return e;function e(n,r,i){return!!(ng(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}o(ai,"castFactory");function tg(){return!0}o(tg,"ok");function ng(t){return t!==null&&typeof t=="object"&&"type"in t}o(ng,"looksLikeANode");function oc(t){return"\x1B[33m"+t+"\x1B[39m"}o(oc,"color");var sc=[],li=!0,Bt=!1,ui="skip";function Ts(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;let s=bn(i),a=r?-1:1;l(t,void 0,[])();function l(u,c,f){let d=u&&typeof u=="object"?u:{};if(typeof d.type=="string"){let p=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(h,"name",{value:"node ("+oc(u.type+(p?"<"+p+">":""))+")"})}return h;function h(){let p=sc,w,b,C;if((!e||s(u,c,f[f.length-1]||void 0))&&(p=rg(n(u,f)),p[0]===Bt))return p;if("children"in u&&u.children){let y=u;if(y.children&&p[0]!==ui)for(b=(r?y.children.length:-1)+a,C=f.concat(y);b>-1&&b<y.children.length;){let k=y.children[b];if(w=l(k,b,C)(),w[0]===Bt)return w;b=typeof w[1]=="number"?w[1]:b+a}}return p}}o(l,"factory")}o(Ts,"visitParents");function rg(t){return Array.isArray(t)?t:typeof t=="number"?[li,t]:t==null?sc:[t]}o(rg,"toResult");function Yn(t,e,n,r){let i,s,a;typeof e=="function"&&typeof n!="function"?(s=void 0,a=e,i=n):(s=e,a=n,i=r),Ts(t,s,l,i);function l(u,c){let f=c[c.length-1],d=f?f.children.indexOf(u):void 0;return a(u,d,f)}o(l,"overload")}o(Yn,"visit");function ci(t,e){let n=!1;return Yn(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Bt}),!!((!t.depth||t.depth<3)&&Rt(t)&&(e.options.setext||n))}o(ci,"formatHeadingAsSetext");function ac(t,e,n,r){let i=Math.max(Math.min(6,t.depth||1),1),s=n.createTracker(r);if(ci(t,n)){let f=n.enter("headingSetext"),d=n.enter("phrasing"),h=n.containerPhrasing(t,{...s.current(),before:`
`,after:`
`});return d(),f(),h+`
`+(i===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}let a="#".repeat(i),l=n.enter("headingAtx"),u=n.enter("phrasing");s.move(a+" ");let c=n.containerPhrasing(t,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(c)&&(c=Re(c.charCodeAt(0))+c.slice(1)),c=c?a+" "+c:a,n.options.closeAtx&&(c+=" "+a),u(),l(),c}o(ac,"heading");Ps.peek=ig;function Ps(t){return t.value||""}o(Ps,"html");function ig(){return"<"}o(ig,"htmlPeek");Fs.peek=og;function Fs(t,e,n,r){let i=wn(n),s=i==='"'?"Quote":"Apostrophe",a=n.enter("image"),l=n.enter("label"),u=n.createTracker(r),c=u.move("![");return c+=u.move(n.safe(t.alt,{before:c,after:"]",...u.current()})),c+=u.move("]("),l(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(l=n.enter("destinationLiteral"),c+=u.move("<"),c+=u.move(n.safe(t.url,{before:c,after:">",...u.current()})),c+=u.move(">")):(l=n.enter("destinationRaw"),c+=u.move(n.safe(t.url,{before:c,after:t.title?" ":")",...u.current()}))),l(),t.title&&(l=n.enter(`title${s}`),c+=u.move(" "+i),c+=u.move(n.safe(t.title,{before:c,after:i,...u.current()})),c+=u.move(i),l()),c+=u.move(")"),a(),c}o(Fs,"image");function og(){return"!"}o(og,"imagePeek");Is.peek=sg;function Is(t,e,n,r){let i=t.referenceType,s=n.enter("imageReference"),a=n.enter("label"),l=n.createTracker(r),u=l.move("!["),c=n.safe(t.alt,{before:u,after:"]",...l.current()});u+=l.move(c+"]["),a();let f=n.stack;n.stack=[],a=n.enter("reference");let d=n.safe(n.associationId(t),{before:u,after:"]",...l.current()});return a(),n.stack=f,s(),i==="full"||!c||c!==d?u+=l.move(d+"]"):i==="shortcut"?u=u.slice(0,-1):u+=l.move("]"),u}o(Is,"imageReference");function sg(){return"!"}o(sg,"imageReferencePeek");Ls.peek=ag;function Ls(t,e,n){let r=t.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){let a=n.unsafe[s],l=n.compilePattern(a),u;if(a.atBreak)for(;u=l.exec(r);){let c=u.index;r.charCodeAt(c)===10&&r.charCodeAt(c-1)===13&&c--,r=r.slice(0,c)+" "+r.slice(u.index+1)}}return i+r+i}o(Ls,"inlineCode");function ag(){return"`"}o(ag,"inlineCodePeek");function _s(t,e){let n=Rt(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}o(_s,"formatLinkAsAutolink");Os.peek=lg;function Os(t,e,n,r){let i=wn(n),s=i==='"'?"Quote":"Apostrophe",a=n.createTracker(r),l,u;if(_s(t,n)){let f=n.stack;n.stack=[],l=n.enter("autolink");let d=a.move("<");return d+=a.move(n.containerPhrasing(t,{before:d,after:">",...a.current()})),d+=a.move(">"),l(),n.stack=f,d}l=n.enter("link"),u=n.enter("label");let c=a.move("[");return c+=a.move(n.containerPhrasing(t,{before:c,after:"](",...a.current()})),c+=a.move("]("),u(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(u=n.enter("destinationLiteral"),c+=a.move("<"),c+=a.move(n.safe(t.url,{before:c,after:">",...a.current()})),c+=a.move(">")):(u=n.enter("destinationRaw"),c+=a.move(n.safe(t.url,{before:c,after:t.title?" ":")",...a.current()}))),u(),t.title&&(u=n.enter(`title${s}`),c+=a.move(" "+i),c+=a.move(n.safe(t.title,{before:c,after:i,...a.current()})),c+=a.move(i),u()),c+=a.move(")"),l(),c}o(Os,"link");function lg(t,e,n){return _s(t,n)?"<":"["}o(lg,"linkPeek");Rs.peek=ug;function Rs(t,e,n,r){let i=t.referenceType,s=n.enter("linkReference"),a=n.enter("label"),l=n.createTracker(r),u=l.move("["),c=n.containerPhrasing(t,{before:u,after:"]",...l.current()});u+=l.move(c+"]["),a();let f=n.stack;n.stack=[],a=n.enter("reference");let d=n.safe(n.associationId(t),{before:u,after:"]",...l.current()});return a(),n.stack=f,s(),i==="full"||!c||c!==d?u+=l.move(d+"]"):i==="shortcut"?u=u.slice(0,-1):u+=l.move("]"),u}o(Rs,"linkReference");function ug(){return"["}o(ug,"linkReferencePeek");function Cn(t){let e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}o(Cn,"checkBullet");function lc(t){let e=Cn(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}o(lc,"checkBulletOther");function uc(t){let e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}o(uc,"checkBulletOrdered");function fi(t){let e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}o(fi,"checkRule");function cc(t,e,n,r){let i=n.enter("list"),s=n.bulletCurrent,a=t.ordered?uc(n):Cn(n),l=t.ordered?a==="."?")":".":lc(n),u=e&&n.bulletLastUsed?a===n.bulletLastUsed:!1;if(!t.ordered){let f=t.children?t.children[0]:void 0;if((a==="*"||a==="-")&&f&&(!f.children||!f.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(u=!0),fi(n)===a&&f){let d=-1;for(;++d<t.children.length;){let h=t.children[d];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){u=!0;break}}}}u&&(a=l),n.bulletCurrent=a;let c=n.containerFlow(t,r);return n.bulletLastUsed=a,n.bulletCurrent=s,i(),c}o(cc,"list");function fc(t){let e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}o(fc,"checkListItemIndent");function dc(t,e,n,r){let i=fc(n),s=n.bulletCurrent||Cn(n);e&&e.type==="list"&&e.ordered&&(s=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+s);let a=s.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(a=Math.ceil(a/4)*4);let l=n.createTracker(r);l.move(s+" ".repeat(a-s.length)),l.shift(a);let u=n.enter("listItem"),c=n.indentLines(n.containerFlow(t,l.current()),f);return u(),c;function f(d,h,p){return h?(p?"":" ".repeat(a))+d:(p?s:s+" ".repeat(a-s.length))+d}o(f,"map")}o(dc,"listItem");function hc(t,e,n,r){let i=n.enter("paragraph"),s=n.enter("phrasing"),a=n.containerPhrasing(t,r);return s(),i(),a}o(hc,"paragraph");var Ds=bn(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function pc(t,e,n,r){return(t.children.some(function(a){return Ds(a)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}o(pc,"root");function mc(t){let e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}o(mc,"checkStrong");Ms.peek=cg;function Ms(t,e,n,r){let i=mc(n),s=n.enter("strong"),a=n.createTracker(r),l=a.move(i+i),u=a.move(n.containerPhrasing(t,{after:i,before:l,...a.current()})),c=u.charCodeAt(0),f=yn(r.before.charCodeAt(r.before.length-1),c,i);f.inside&&(u=Re(c)+u.slice(1));let d=u.charCodeAt(u.length-1),h=yn(r.after.charCodeAt(0),d,i);h.inside&&(u=u.slice(0,-1)+Re(d));let p=a.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:h.outside,before:f.outside},l+u+p}o(Ms,"strong");function cg(t,e,n){return n.options.strong||"*"}o(cg,"strongPeek");function gc(t,e,n,r){return n.safe(t.value,r)}o(gc,"text");function wc(t){let e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}o(wc,"checkRuleRepetition");function yc(t,e,n){let r=(fi(n)+(n.options.ruleSpaces?" ":"")).repeat(wc(n));return n.options.ruleSpaces?r.slice(0,-1):r}o(yc,"thematicBreak");var bc={blockquote:Xu,break:Es,code:nc,definition:rc,emphasis:Ss,hardBreak:Es,heading:ac,html:Ps,image:Fs,imageReference:Is,inlineCode:Ls,link:Os,linkReference:Rs,list:cc,listItem:dc,paragraph:hc,root:pc,strong:Ms,text:gc,thematicBreak:yc};var Cc=[fg];function fg(t,e,n,r){if(e.type==="code"&&qn(e,r)&&(t.type==="list"||t.type===e.type&&qn(t,r)))return!1;if("spread"in n&&typeof n.spread=="boolean")return t.type==="paragraph"&&(t.type===e.type||e.type==="definition"||e.type==="heading"&&ci(e,r))?void 0:n.spread?1:0}o(fg,"joinDefaults");var zt=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],xc=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:`
`,inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:zt},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:`(?:[\r
]|$)`},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:zt},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:`(?:[ 	\r
*])`},{character:"*",inConstruct:"phrasing",notInConstruct:zt},{atBreak:!0,character:"+",after:`(?:[ 	\r
])`},{atBreak:!0,character:"-",after:`(?:[ 	\r
-])`},{atBreak:!0,before:"\\d+",character:".",after:`(?:[ 	\r
]|$)`},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:zt},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:zt},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:zt},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:zt},{atBreak:!0,character:"~"}];function kc(t){return t.label||!t.identifier?t.label||"":oi(t.identifier)}o(kc,"association");function Ac(t){if(!t._compiled){let e=(t.atBreak?"[\\r\\n][\\t ]*":"")+(t.before?"(?:"+t.before+")":"");t._compiled=new RegExp((e?"("+e+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(t.character)?"\\":"")+t.character+(t.after?"(?:"+t.after+")":""),"g")}return t._compiled}o(Ac,"compilePattern");function vc(t,e,n){let r=e.indexStack,i=t.children||[],s=[],a=-1,l=n.before,u;r.push(-1);let c=e.createTracker(n);for(;++a<i.length;){let f=i[a],d;if(r[r.length-1]=a,a+1<i.length){let w=e.handle.handlers[i[a+1].type];w&&w.peek&&(w=w.peek),d=w?w(i[a+1],t,e,{before:"",after:"",...c.current()}).charAt(0):""}else d=n.after;s.length>0&&(l==="\r"||l===`
`)&&f.type==="html"&&(s[s.length-1]=s[s.length-1].replace(/(\r?\n|\r)$/," "),l=" ",c=e.createTracker(n),c.move(s.join("")));let h=e.handle(f,t,e,{...c.current(),after:d,before:l});u&&u===h.slice(0,1)&&(h=Re(u.charCodeAt(0))+h.slice(1));let p=e.attentionEncodeSurroundingInfo;e.attentionEncodeSurroundingInfo=void 0,u=void 0,p&&(s.length>0&&p.before&&l===s[s.length-1].slice(-1)&&(s[s.length-1]=s[s.length-1].slice(0,-1)+Re(l.charCodeAt(0))),p.after&&(u=d)),c.move(h),s.push(h),l=h.slice(-1)}return r.pop(),s.join("")}o(vc,"containerPhrasing");function Ec(t,e,n){let r=e.indexStack,i=t.children||[],s=e.createTracker(n),a=[],l=-1;for(r.push(-1);++l<i.length;){let u=i[l];r[r.length-1]=l,a.push(s.move(e.handle(u,t,e,{before:`
`,after:`
`,...s.current()}))),u.type!=="list"&&(e.bulletLastUsed=void 0),l<i.length-1&&a.push(s.move(dg(u,i[l+1],t,e)))}return r.pop(),a.join("")}o(Ec,"containerFlow");function dg(t,e,n,r){let i=r.join.length;for(;i--;){let s=r.join[i](t,e,n,r);if(s===!0||s===1)break;if(typeof s=="number")return`
`.repeat(1+s);if(s===!1)return`

<!---->

`}return`

`}o(dg,"between");var hg=/\r?\n|\r/g;function Sc(t,e){let n=[],r=0,i=0,s;for(;s=hg.exec(t);)a(t.slice(r,s.index)),n.push(s[0]),r=s.index+s[0].length,i++;return a(t.slice(r)),n.join("");function a(l){n.push(e(l,i,!l))}o(a,"one")}o(Sc,"indentLines");function Pc(t,e,n){let r=(n.before||"")+(e||"")+(n.after||""),i=[],s=[],a={},l=-1;for(;++l<t.unsafe.length;){let f=t.unsafe[l];if(!si(t.stack,f))continue;let d=t.compilePattern(f),h;for(;h=d.exec(r);){let p="before"in f||!!f.atBreak,w="after"in f,b=h.index+(p?h[1].length:0);i.includes(b)?(a[b].before&&!p&&(a[b].before=!1),a[b].after&&!w&&(a[b].after=!1)):(i.push(b),a[b]={before:p,after:w})}}i.sort(pg);let u=n.before?n.before.length:0,c=r.length-(n.after?n.after.length:0);for(l=-1;++l<i.length;){let f=i[l];f<u||f>=c||f+1<c&&i[l+1]===f+1&&a[f].after&&!a[f+1].before&&!a[f+1].after||i[l-1]===f-1&&a[f].before&&!a[f-1].before&&!a[f-1].after||(u!==f&&s.push(Tc(r.slice(u,f),"\\")),u=f,/[!-/:-@[-`{-~]/.test(r.charAt(f))&&(!n.encode||!n.encode.includes(r.charAt(f)))?s.push("\\"):(s.push(Re(r.charCodeAt(f))),u++))}return s.push(Tc(r.slice(u,c),n.after)),s.join("")}o(Pc,"safe");function pg(t,e){return t-e}o(pg,"numerical");function Tc(t,e){let n=/\\(?=[!-/:-@[-`{-~])/g,r=[],i=[],s=t+e,a=-1,l=0,u;for(;u=n.exec(s);)r.push(u.index);for(;++a<r.length;)l!==r[a]&&i.push(t.slice(l,r[a])),i.push("\\"),l=r[a];return i.push(t.slice(l)),i.join("")}o(Tc,"escapeBackslashes");function Fc(t){let e=t||{},n=e.now||{},r=e.lineShift||0,i=n.line||1,s=n.column||1;return{move:u,current:a,shift:l};function a(){return{now:{line:i,column:s},lineShift:r}}function l(c){r+=c}function u(c){let f=c||"",d=f.split(/\r?\n|\r/g),h=d[d.length-1];return i+=d.length-1,s=d.length===1?s+h.length:1+h.length+r,f}}o(Fc,"track");function Ns(t,e){let n=e||{},r={associationId:kc,containerPhrasing:yg,containerFlow:bg,createTracker:Fc,compilePattern:Ac,enter:s,handlers:{...bc},handle:void 0,indentLines:Sc,indexStack:[],join:[...Cc],options:{},safe:Cg,stack:[],unsafe:[...xc]};vs(r,n),r.options.tightDefinitions&&r.join.push(wg),r.handle=Ju("type",{invalid:mg,unknown:gg,handlers:r.handlers});let i=r.handle(t,void 0,r,{before:`
`,after:`
`,now:{line:1,column:1},lineShift:0});return i&&i.charCodeAt(i.length-1)!==10&&i.charCodeAt(i.length-1)!==13&&(i+=`
`),i;function s(a){return r.stack.push(a),l;function l(){r.stack.pop()}o(l,"exit")}o(s,"enter")}o(Ns,"toMarkdown");function mg(t){throw new Error("Cannot handle value `"+t+"`, expected node")}o(mg,"invalid");function gg(t){let e=t;throw new Error("Cannot handle unknown node `"+e.type+"`")}o(gg,"unknown");function wg(t,e){if(t.type==="definition"&&t.type===e.type)return 0}o(wg,"joinDefinition");function yg(t,e){return vc(t,this,e)}o(yg,"containerPhrasingBound");function bg(t,e){return Ec(t,this,e)}o(bg,"containerFlowBound");function Cg(t,e){return Pc(this,t,e)}o(Cg,"safeBound");function di(t){let e=this;e.compiler=n;function n(r){return Ns(r,{...e.data("settings"),...t,extensions:e.data("toMarkdownExtensions")||[]})}o(n,"compiler")}o(di,"remarkStringify");function Bs(t){if(t)throw t}o(Bs,"bail");var gi=pt(Bc(),1);function Gn(t){if(typeof t!="object"||t===null)return!1;let e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}o(Gn,"isPlainObject");function zs(){let t=[],e={run:n,use:r};return e;function n(...i){let s=-1,a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);l(null,...i);function l(u,...c){let f=t[++s],d=-1;if(u){a(u);return}for(;++d<i.length;)(c[d]===null||c[d]===void 0)&&(c[d]=i[d]);i=c,f?zc(f,l)(...c):a(null,...c)}o(l,"next")}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}o(zs,"trough");function zc(t,e){let n;return r;function r(...a){let l=t.length>a.length,u;l&&a.push(i);try{u=t.apply(this,a)}catch(c){let f=c;if(l&&n)throw f;return i(f)}l||(u&&u.then&&typeof u.then=="function"?u.then(s,i):u instanceof Error?i(u):s(u))}function i(a,...l){n||(n=!0,e(a,...l))}function s(a){i(null,a)}}o(zc,"wrap");var ie=class extends Error{static{o(this,"VFileMessage")}constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},a=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?i=e:!s.cause&&e&&(a=!0,i=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){let u=r.indexOf(":");u===-1?s.ruleId=r:(s.source=r.slice(0,u),s.ruleId=r.slice(u+1))}if(!s.place&&s.ancestors&&s.ancestors){let u=s.ancestors[s.ancestors.length-1];u&&(s.place=u.position)}let l=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=l?l.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=l?l.line:void 0,this.name=Ct(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}};ie.prototype.file="";ie.prototype.name="";ie.prototype.reason="";ie.prototype.message="";ie.prototype.stack="";ie.prototype.column=void 0;ie.prototype.line=void 0;ie.prototype.ancestors=void 0;ie.prototype.cause=void 0;ie.prototype.fatal=void 0;ie.prototype.place=void 0;ie.prototype.ruleId=void 0;ie.prototype.source=void 0;var Ve=pt(require("node:path"),1);var Vs=pt(require("node:process"),1);var Ws=require("node:url");function pi(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}o(pi,"isUrl");var $s=["history","path","basename","stem","extname","dirname"],Jn=class{static{o(this,"VFile")}constructor(e){let n;e?pi(e)?n={path:e}:typeof e=="string"||xg(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":Vs.default.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<$s.length;){let s=$s[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)$s.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?Ve.default.basename(this.path):void 0}set basename(e){Hs(e,"basename"),Us(e,"basename"),this.path=Ve.default.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Ve.default.dirname(this.path):void 0}set dirname(e){Vc(this.basename,"dirname"),this.path=Ve.default.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Ve.default.extname(this.path):void 0}set extname(e){if(Us(e,"extname"),Vc(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Ve.default.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){pi(e)&&(e=(0,Ws.fileURLToPath)(e)),Hs(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Ve.default.basename(this.path,this.extname):void 0}set stem(e){Hs(e,"stem"),Us(e,"stem"),this.path=Ve.default.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){let i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){let i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){let i=new ie(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}};function Us(t,e){if(t&&t.includes(Ve.default.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Ve.default.sep+"`")}o(Us,"assertPart");function Hs(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}o(Hs,"assertNonEmpty");function Vc(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}o(Vc,"assertPath");function xg(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}o(xg,"isUint8Array");var Wc=o((function(t){let r=this.constructor.prototype,i=r[t],s=o(function(){return i.apply(s,arguments)},"apply");return Object.setPrototypeOf(s,r),s}),"CallableInstance");var kg={}.hasOwnProperty,Ys=class t extends Wc{static{o(this,"Processor")}constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=zs()}copy(){let e=new t,n=-1;for(;++n<this.attachers.length;){let r=this.attachers[n];e.use(...r)}return e.data((0,gi.default)(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(qs("data",this.frozen),this.namespace[e]=n,this):kg.call(this.namespace,e)&&this.namespace[e]||void 0:e?(qs("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;let e=this;for(;++this.freezeIndex<this.attachers.length;){let[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);let i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();let n=mi(e),r=this.parser||this.Parser;return js("parse",r),r(String(n),n)}process(e,n){let r=this;return this.freeze(),js("process",this.parser||this.Parser),Ks("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,a){let l=mi(e),u=r.parse(l);r.run(u,l,function(f,d,h){if(f||!d||!h)return c(f);let p=d,w=r.stringify(p,h);vg(w)?h.value=w:h.result=w,c(f,h)});function c(f,d){f||!d?a(f):s?s(d):n(void 0,d)}o(c,"realDone")}o(i,"executor")}processSync(e){let n=!1,r;return this.freeze(),js("processSync",this.parser||this.Parser),Ks("processSync",this.compiler||this.Compiler),this.process(e,i),Uc("processSync","process",n),r;function i(s,a){n=!0,Bs(s),r=a}o(i,"realDone")}run(e,n,r){$c(e),this.freeze();let i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(a,l){let u=mi(n);i.run(e,u,c);function c(f,d,h){let p=d||e;f?l(f):a?a(p):r(void 0,p,h)}o(c,"realDone")}o(s,"executor")}runSync(e,n){let r=!1,i;return this.run(e,n,s),Uc("runSync","run",r),i;function s(a,l){Bs(a),i=l,r=!0}o(s,"realDone")}stringify(e,n){this.freeze();let r=mi(n),i=this.compiler||this.Compiler;return Ks("stringify",i),$c(e),i(e,r)}use(e,...n){let r=this.attachers,i=this.namespace;if(qs("use",this.frozen),e!=null)if(typeof e=="function")u(e,n);else if(typeof e=="object")Array.isArray(e)?l(e):a(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(c){if(typeof c=="function")u(c,[]);else if(typeof c=="object")if(Array.isArray(c)){let[f,...d]=c;u(f,d)}else a(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function a(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");l(c.plugins),c.settings&&(i.settings=(0,gi.default)(!0,i.settings,c.settings))}function l(c){let f=-1;if(c!=null)if(Array.isArray(c))for(;++f<c.length;){let d=c[f];s(d)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function u(c,f){let d=-1,h=-1;for(;++d<r.length;)if(r[d][0]===c){h=d;break}if(h===-1)r.push([c,...f]);else if(f.length>0){let[p,...w]=f,b=r[h][1];Gn(b)&&Gn(p)&&(p=(0,gi.default)(!0,b,p)),r[h]=[c,p,...w]}}}},Gs=new Ys().freeze();function js(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}o(js,"assertParser");function Ks(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}o(Ks,"assertCompiler");function qs(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}o(qs,"assertUnfrozen");function $c(t){if(!Gn(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}o($c,"assertNode");function Uc(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}o(Uc,"assertDone");function mi(t){return Ag(t)?t:new Jn(t)}o(mi,"vfile");function Ag(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}o(Ag,"looksLikeAVFile");function vg(t){return typeof t=="string"||Eg(t)}o(vg,"looksLikeAValue");function Eg(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}o(Eg,"isUint8Array");var Hc=Gs().use(gn).use(di).freeze();var Qs={d:o((t,e)=>{for(var n in e)Qs.o(e,n)&&!Qs.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},"d"),o:o((t,e)=>Object.prototype.hasOwnProperty.call(t,e),"o")},Xs={};Qs.d(Xs,{Z:o(()=>Fg,"Z"),$:o(()=>Yc,"$")});var xn={horizontalTab:-2,virtualSpace:-1,nul:0,eof:null,space:32};function jc(t){return t<xn.nul||t===xn.space}o(jc,"n");function Js(t){return t<xn.horizontalTab}o(Js,"i");var Sg={553:t=>{t.exports=function(e){var n,r;return e._compiled||(n=e.before?"(?:"+e.before+")":"",r=e.after?"(?:"+e.after+")":"",e.atBreak&&(n="[\\r\\n][\\t ]*"+n),e._compiled=new RegExp((n?"("+n+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(r||""),"g")),e._compiled}},112:t=>{function e(n,r,i){var s;if(!r)return i;for(typeof r=="string"&&(r=[r]),s=-1;++s<r.length;)if(n.indexOf(r[s])!==-1)return!0;return!1}o(e,"t"),t.exports=function(n,r){return e(n,r.inConstruct,!0)&&!e(n,r.notInConstruct)}},113:(t,e,n)=>{t.exports=function(l,u,c){for(var f,d,h,p,w,b,C,y,k=(c.before||"")+(u||"")+(c.after||""),v=[],S=[],I={},x=-1;++x<l.unsafe.length;)if(p=l.unsafe[x],i(l.stack,p))for(w=r(p);b=w.exec(k);)f="before"in p||p.atBreak,d="after"in p,h=b.index+(f?b[1].length:0),v.indexOf(h)===-1?(v.push(h),I[h]={before:f,after:d}):(I[h].before&&!f&&(I[h].before=!1),I[h].after&&!d&&(I[h].after=!1));for(v.sort(s),C=c.before?c.before.length:0,y=k.length-(c.after?c.after.length:0),x=-1;++x<v.length;)(h=v[x])<C||h>=y||h+1<y&&v[x+1]===h+1&&I[h].after&&!I[h+1].before&&!I[h+1].after||(C!==h&&S.push(a(k.slice(C,h),"\\")),C=h,!/[!-/:-@[-`{-~]/.test(k.charAt(h))||c.encode&&c.encode.indexOf(k.charAt(h))!==-1?(S.push("&#x"+k.charCodeAt(h).toString(16).toUpperCase()+";"),C++):S.push("\\"));return S.push(a(k.slice(C,y),c.after)),S.join("")};var r=n(553),i=n(112);function s(l,u){return l-u}o(s,"a");function a(l,u){for(var c,f=/\\(?=[!-/:-@[-`{-~])/g,d=[],h=[],p=-1,w=0,b=l+u;c=f.exec(b);)d.push(c.index);for(;++p<d.length;)w!==d[p]&&h.push(l.slice(w,d[p])),h.push("\\"),w=d[p];return h.push(l.slice(w)),h.join("")}o(a,"o")}},Kc={};function it(t){var e=Kc[t];if(e!==void 0)return e.exports;var n=Kc[t]={exports:{}};return Sg[t](n,n.exports,it),n.exports}o(it,"s");it.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return it.d(e,{a:e}),e},it.d=(t,e)=>{for(var n in e)it.o(e,n)&&!it.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},it.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var Zs={};(()=>{function t(i={}){let s=i.permalinks||[],a=i.pageResolver||(h=>[h.replace(/ /g,"_").toLowerCase()]),l=i.newClassName||"new",u=i.wikiLinkClassName||"internal",c=i.hrefTemplate||(h=>`#/page/${h}`),f;function d(h){return h[h.length-1]}return o(d,"s"),{enter:{wikiLink:o(function(h){f={type:"wikiLink",value:null,data:{alias:null,permalink:null,exists:null}},this.enter(f,h)},"wikiLink")},exit:{wikiLinkTarget:o(function(h){let p=this.sliceSerialize(h);d(this.stack).value=p},"wikiLinkTarget"),wikiLinkAlias:o(function(h){let p=this.sliceSerialize(h);d(this.stack).data.alias=p},"wikiLinkAlias"),wikiLink:o(function(h){this.exit(h);let p=f,w=a(p.value),b=w.find((S=>s.indexOf(S)!==-1)),C=b!==void 0,y;y=C?b:w[0]||"";let k=p.value;p.data.alias&&(k=p.data.alias);let v=u;C||(v+=" "+l),p.data.alias=k,p.data.permalink=y,p.data.exists=C,p.data.hName="a",p.data.hProperties={className:v,href:c(y)},p.data.hChildren=[{type:"text",value:k}]},"wikiLink")}}}o(t,"e"),it.d(Zs,{V:o(()=>t,"V"),x:o(()=>r,"x")});var e=it(113),n=it.n(e);function r(i={}){let s=i.aliasDivider||":";return{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]},{character:"]",inConstruct:["label","reference"]}],handlers:{wikiLink:o(function(a,l,u){let c=u.enter("wikiLink"),f=n()(u,a.value,{before:"[",after:"]"}),d=n()(u,a.data.alias,{before:"[",after:"]"}),h;return h=d!==f?`[[${f}${s}${d}]]`:`[[${f}]]`,c(),h},"wikiLink")}}}o(r,"n")})();var Tg=Zs.V,Pg=Zs.x,qc=!1;function Yc(t={}){let e=this.data();function n(r,i){e[r]?e[r].push(i):e[r]=[i]}o(n,"a"),!qc&&(this.Parser&&this.Parser.prototype&&this.Parser.prototype.blockTokenizers||this.Compiler&&this.Compiler.prototype&&this.Compiler.prototype.visitors)&&(qc=!0,console.warn("[remark-wiki-link] Warning: please upgrade to remark 13 to use this plugin")),n("micromarkExtensions",(function(){var r=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).aliasDivider||":",i="]]";return{text:{91:{tokenize:o(function(s,a,l){var u,c,f=0,d=0,h=0;return function(k){return k!=="[[".charCodeAt(d)?l(k):(s.enter("wikiLink"),s.enter("wikiLinkMarker"),p(k))};function p(k){return d===2?(s.exit("wikiLinkMarker"),(function(v){return Js(v)||v===xn.eof?l(v):(s.enter("wikiLinkData"),s.enter("wikiLinkTarget"),w(v))})(k)):k!=="[[".charCodeAt(d)?l(k):(s.consume(k),d++,p)}function w(k){return k===r.charCodeAt(f)?u?(s.exit("wikiLinkTarget"),s.enter("wikiLinkAliasMarker"),b(k)):l(k):k===i.charCodeAt(h)?u?(s.exit("wikiLinkTarget"),s.exit("wikiLinkData"),s.enter("wikiLinkMarker"),y(k)):l(k):Js(k)||k===xn.eof?l(k):(jc(k)||(u=!0),s.consume(k),w)}function b(k){return f===r.length?(s.exit("wikiLinkAliasMarker"),s.enter("wikiLinkAlias"),C(k)):k!==r.charCodeAt(f)?l(k):(s.consume(k),f++,b)}function C(k){return k===i.charCodeAt(h)?c?(s.exit("wikiLinkAlias"),s.exit("wikiLinkData"),s.enter("wikiLinkMarker"),y(k)):l(k):Js(k)||k===xn.eof?l(k):(jc(k)||(c=!0),s.consume(k),C)}function y(k){return h===2?(s.exit("wikiLinkMarker"),s.exit("wikiLink"),a(k)):k!==i.charCodeAt(h)?l(k):(s.consume(k),h++,y)}},"tokenize")}}}})(t)),n("fromMarkdownExtensions",Tg(t)),n("toMarkdownExtensions",Pg(t))}o(Yc,"k");var Fg=Yc,fT=Xs.Z,Gc=Xs.$;o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ig=/^[A-Za-z][A-Za-z0-9+\-.]*:\S+$/;function ea(t){if(/\s/.test(t))return!1;if(t.includes("://"))try{return new URL(t),!0}catch{return!1}return Ig.test(t)}o(ea,"isUrl");var Vt=require("obsidian");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function wi(t){let e=(0,Vt.getFrontMatterInfo)(t);return(0,Vt.parseYaml)(e.frontmatter)??{}}o(wi,"parseFrontmatter");function Jc(t,e){let n=(0,Vt.getFrontMatterInfo)(t);if(Object.keys(e).length===0)return t.slice(n.contentStart);let r=(0,Vt.stringifyYaml)(e);return n.exists?Al(t,r,n.from,n.to):`---
${r}---
${t}`}o(Jc,"setFrontmatter");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Pe(t){if(!_e(t))return!1;let e=t;return e.startOffset!==void 0&&e.endOffset!==void 0}o(Pe,"isFrontmatterLinkCacheWithOffsets");function yi(t){return Pe(t)?t:{...t,endOffset:t.original.length,startOffset:0}}o(yi,"toFrontmatterLinkCacheWithOffsets");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Qc(t){return ta(t)&&t.type==="file"}o(Qc,"isCanvasFileNodeReference");function ta(t){return _e(t)&&!!t.isCanvas}o(ta,"isCanvasReference");function bi(t,e){return Pe(t)?{newContent:e,oldContent:t.original.slice(t.startOffset,t.endOffset),reference:t}:{newContent:e,oldContent:t.original,reference:t}}o(bi,"referenceToFileChange");function Xc(t){return t.sort((e,n)=>{if(_e(e)&&_e(n)){let r=Pe(e)?e.startOffset:0,i=Pe(n)?n.startOffset:0;return e.key.localeCompare(n.key)||Number(Pe(n))-Number(Pe(e))||r-i}return ft(e)&&ft(n)?e.position.start.offset-n.position.start.offset:_e(e)?1:-1})}o(Xc,"sortReferences");var Xn=require("obsidian");var Zc=require("obsidian");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function Ci(t){return Il({...t,onTimeout:t.shouldShowTimeoutNotice?tf:nf})}o(Ci,"retryWithTimeoutNotice");async function ef(t){return zo({...t,onTimeout:t.shouldShowTimeoutNotice?tf:nf})}o(ef,"runWithTimeoutNotice");function tf(t){let e=Math.trunc(performance.now()-t.duration),n,r,i=1e3,s=new Zc.Notice(createFragment(l=>{t.operationName&&(l.appendText(me(c=>c.obsidianDevUtils.asyncWithNotice.operation)),l.appendText(": "),l.appendText(t.operationName),l.createEl("br")),l.appendText(me(c=>c.obsidianDevUtils.asyncWithNotice.timedOut,{duration:t.duration})),l.createEl("br"),l.appendText(me(c=>c.obsidianDevUtils.asyncWithNotice.runningFor)),l.appendText(" "),n=l.createSpan(),l.appendText(" "),l.appendText(me(c=>c.obsidianDevUtils.asyncWithNotice.milliseconds)),l.createEl("br"),l.appendText(me(c=>c.obsidianDevUtils.asyncWithNotice.terminateOperation)),l.createEl("br"),l.createEl("button",{text:me(c=>c.obsidianDevUtils.buttons.cancel)}).addEventListener("click",()=>{t.terminateOperation(),clearInterval(r),s.hide()})}));a(),r=window.setInterval(a,i),t.onOperationCompleted(()=>{clearInterval(r),s.hide()});function a(){let l=Math.max(t.duration,Math.round((performance.now()-e)/i)*i);n.textContent=String(l)}o(a,"updateRunningTime")}o(tf,"onTimeoutNotice");function nf(t){let e=Math.trunc(performance.now()-t.duration);t.onOperationCompleted(()=>{en("AsyncWithNotice:onTimeoutWithoutNotice")("Operation completed after timeout",{operationName:t.operationName,totalDuration:Math.trunc(performance.now()-e)})})}o(nf,"onTimeoutWithoutNotice");var Qn=require("@codemirror/state"),na=require("@codemirror/view");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var rf=new WeakMap;function ra(t){let e=sf(t);t.cm.dispatch({effects:e.reconfigure([Qn.EditorState.readOnly.of(!0),na.EditorView.editable.of(!1)])})}o(ra,"lockEditor");function of(t){let e=sf(t);t.cm.dispatch({effects:e.reconfigure([Qn.EditorState.readOnly.of(!1),na.EditorView.editable.of(!0)])})}o(of,"unlockEditor");function sf(t){let e=rf.get(t);return e||(e=new Qn.Compartment,rf.set(t,e)),e}o(sf,"ensureCompartment");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function Lg(t,e){if(await t.vault.adapter.exists(e))return!1;try{return await t.vault.createFolder(e),!0}catch(n){if(!await t.vault.exists(e))throw n;return!0}}o(Lg,"createFolderSafe");function _g(t,e){let n=qe(e);return t.vault.getAvailablePath(Se(ce(e),Ee(e,n)),n.slice(1))}o(_g,"getAvailablePath");function ia(t,e,n){let r=X(t,e);if(t.vault.adapter.insensitive){let i=ce(n),s=Ee(n),a;for(;a=Ye(t,i,!0),!a;)s=Se(Ee(i),s),i=ce(i);n=Se(a.getParentPrefix(),s)}return r.toLowerCase()===n.toLowerCase()?n:_g(t,n)}o(ia,"getSafeRenamePath");async function xi(t,e){let n=await oa(t,X(t,e));return n.files.length===0&&n.folders.length===0}o(xi,"isEmptyFolder");async function oa(t,e){let n=X(t,e),r={files:[],folders:[]};if((await t.vault.adapter.stat(n))?.type!=="folder")return r;try{return await t.vault.adapter.list(n)}catch(i){if(await t.vault.exists(n))throw i;return r}}o(oa,"listSafe");async function af(t,e,n,r={}){let s={...{shouldFailOnMissingFile:!0,shouldLockEditorWhileProcessing:!0,shouldShowTimeoutNotice:!0,timeoutInMilliseconds:500},...r},a=new AbortController;s.abortSignal=Ft(s.abortSignal,a.signal);let l=X(t,e),u=null;if(s.shouldLockEditorWhileProcessing){for(let c of t.workspace.getLeavesOfType(Hr.Markdown))c.view instanceof Xn.MarkdownView&&c.view.file?.path===l&&ra(c.view.editor);u=t.workspace.on("active-leaf-change",c=>{c?.view instanceof Xn.MarkdownView&&c.view.file?.path===l&&ra(c.view.editor)})}try{await Ci({async operationFn(c){c.throwIfAborted();let f=await sa(t,e);if(c.throwIfAborted(),f===null)return w();let d=await tn(n,c,f);if(c.throwIfAborted(),d===null)return!1;let h=!0;if(!await uf(t,e,async b=>{c.throwIfAborted(),await t.vault.process(b,C=>(c.throwIfAborted(),C!==f?(q("Vault:process")("Content has changed since it was read. Retrying...",{actualContent:C,expectedContent:f,path:b.path}),h=!1,C):d)),c.throwIfAborted()}))return w();return h;function w(){if(s.shouldFailOnMissingFile)throw new Error(`File '${l}' not found`);return!0}},operationName:me(c=>c.obsidianDevUtils.vault.processFile,{filePath:l}),retryOptions:s,shouldShowTimeoutNotice:s.shouldShowTimeoutNotice})}finally{u?.e.offref(u);for(let c of t.workspace.getLeavesOfType(Hr.Markdown))c.view instanceof Xn.MarkdownView&&c.view.file?.path===l&&of(c.view.editor)}}o(af,"process");async function sa(t,e){let n=null;return await uf(t,e,async r=>{await ki(t,r),n=await t.vault.read(r)}),n}o(sa,"readSafe");async function lf(t,e,n){let r=mu(t,e),i=ia(t,e,n);if(r.path.toLowerCase()===i.toLowerCase())return r.path!==n&&await t.fileManager.renameFile(r,i),i;let s=et(i);await Lg(t,s);try{await t.fileManager.renameFile(r,i)}catch(a){if(!await t.vault.exists(i)||await t.vault.exists(r.path))throw a}return i}o(lf,"renameSafe");async function ki(t,e){if(!rt(t,e))return;let n=X(t,e);for(let r of t.workspace.getLeavesOfType(Hr.Markdown))r.view instanceof Xn.MarkdownView&&r.view.file?.path===n&&r.view.dirty&&await r.view.save()}o(ki,"saveNote");async function uf(t,e,n){let r=X(t,e),i=Te(t,r);if(!i||i.deleted)return!1;try{return await n(i),!0}catch(s){if(i=Te(t,r),!i||i.deleted)return!1;throw s}}o(uf,"invokeFileActionSafe");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function Ei(t,e,n,r,i=!0){t.throwIfAborted();let s=await tn(r,t,e);if(t.throwIfAborted(),s===null)return null;let{frontmatter:a,hasFrontmatterError:l}=Vg(e,n);if(!Ug(s,e,a,n))return i?null:e;s=$g(s);let{frontmatterChanged:u,newContent:c}=Ng(s,e,l,n);return await Bg(t,a,u,n),t.throwIfAborted(),zg(c,a,u)}o(Ei,"applyContentChanges");async function cf(t,e,n,r={},i=!0){await af(t,e,async(s,a)=>Ot(t,e)?await Mg(s,a,X(t,e),n,i):await Ei(s,a,X(t,e),n,i),r)}o(cf,"applyFileChanges");function Zn(t){return ta(t.reference)}o(Zn,"isCanvasChange");function Og(t){return Zn(t)&&t.reference.type==="file"}o(Og,"isCanvasFileNodeChange");function Rg(t){return Zn(t)&&t.reference.type==="text"}o(Rg,"isCanvasTextNodeChange");function Wt(t){return ft(t.reference)}o(Wt,"isContentChange");function Ai(t){return _e(t.reference)}o(Ai,"isFrontmatterChange");function vi(t){return Pe(t.reference)}o(vi,"isFrontmatterChangeWithOffsets");function Dg(t){return vi(t)?t:{...t,reference:yi(t.reference)}}o(Dg,"toFrontmatterChangeWithOffsets");async function Mg(t,e,n,r,i=!0){let s=await tn(r,t,e);if(t.throwIfAborted(),s===null)return null;let a=Wg(e),l=new Map;for(let u of s){if(!Zn(u)){console.error("Only canvas changes are supported for canvas files",{change:u,path:n});continue}let c=a.nodes[u.reference.nodeIndex];if(!c)return console.error("Node not found",{nodeIndex:u.reference.nodeIndex,path:n}),null;if(Og(u)){if(c.file!==u.oldContent)return q("FileChange:applyCanvasChanges")("Content mismatch",{actualContent:c.file,expectedContent:u.oldContent,nodeIndex:u.reference.nodeIndex,path:n,type:"file"}),null;c.file=u.newContent}else if(Rg(u)){let f=l.get(u.reference.nodeIndex);f||(f=[],l.set(u.reference.nodeIndex,f)),f.push(u)}}for(let[u,c]of l.entries()){let f=a.nodes[u];if(!f)return console.error("Node not found",{nodeIndex:u,path:n}),null;if(typeof f.text!="string")return console.error("Node text is not a string",{nodeIndex:u,path:n}),null;let d=c.map(h=>bi(h.reference.originalReference,h.newContent));f.text=await Ei(t,f.text,`${n}.node${String(u)}.VIRTUAL_FILE.md`,d,i)}return JSON.stringify(a,null,"	")}o(Mg,"applyCanvasChanges");function Ng(t,e,n,r){let i="",s=0,a={newContent:"",oldContent:"",reference:{link:"",original:"",position:{end:{col:0,line:0,offset:0},start:{col:0,line:0,offset:0}}}},l=new Map;for(let u of t)if(Wt(u))if(s<=u.reference.position.start.offset)i+=e.slice(s,u.reference.position.start.offset),i+=u.newContent,s=u.reference.position.end.offset,a=u;else{let c=u.reference.position.start.offset-a.reference.position.start.offset,f=u.reference.position.end.offset-a.reference.position.start.offset;if(a.newContent.slice(c,f)!==u.oldContent){let h="Overlapping changes";throw console.error(h,{change:u,lastContentChange:a}),new Error(h)}i=i.slice(0,i.length-a.newContent.length)+a.newContent.slice(0,c)+u.newContent+a.newContent.slice(f)}else if(Ai(u))if(n)console.error(`Cannot apply frontmatter change in ${r}, because frontmatter parsing failed`,{change:u});else{let c=l.get(u.reference.key);c||(c=[],l.set(u.reference.key,c)),c.push(Dg(u))}return i+=e.slice(s),{frontmatterChanged:l,newContent:i}}o(Ng,"applyContentChangesToText");async function Bg(t,e,n,r){for(let[i,s]of n.entries()){let a=rn(e,i);if(typeof a!="string")return;let l=s.map(c=>({newContent:c.newContent,oldContent:c.oldContent,reference:{link:"",original:"",position:{end:{col:c.reference.endOffset,line:0,offset:c.reference.endOffset},start:{col:c.reference.startOffset,line:0,offset:c.reference.startOffset}}}})),u=await Ei(t,a,`${r}.frontmatter.${i}.VIRTUAL_FILE.md`,l);if(u===null)return;Sl(e,i,u)}}o(Bg,"applyFrontmatterChangesWithOffsets");function zg(t,e,n){return n.size>0?Jc(t,e):t}o(zg,"buildFinalContent");function Vg(t,e){let n={},r=!1;try{n=wi(t)}catch(i){ct(new Error(`Frontmatter parsing failed in ${e}`,{cause:i})),r=!0}return{frontmatter:n,hasFrontmatterError:r}}o(Vg,"parseFrontmatterSafely");function Wg(t){let e;try{e=JSON.parse(t)}catch{e=null}return(e===null||typeof e!="object")&&(e={}),e}o(Wg,"parseJsonSafe");function $g(t){return t.sort((e,n)=>Wt(e)&&Wt(n)?e.reference.position.start.offset-n.reference.position.start.offset:vi(e)&&vi(n)?e.reference.key.localeCompare(n.reference.key)||e.reference.startOffset-n.reference.startOffset:Ai(e)&&Ai(n)?e.reference.key.localeCompare(n.reference.key):Wt(e)?-1:1),t.filter((e,n)=>e.oldContent===e.newContent?!1:n===0?!0:!Ne(e,t[n-1]))}o($g,"sortAndFilterChanges");function Ug(t,e,n,r){let i=q("FileChange:validateChanges");for(let s of t)if(Wt(s)){let a=s.reference.position.start.offset,l=s.reference.position.end.offset,u=e.slice(a,l);if(u!==s.oldContent)return i("Content mismatch",{actualContent:u,endOffset:l,expectedContent:s.oldContent,path:r,startOffset:a}),!1}else if(vi(s)){let a=rn(n,s.reference.key);if(typeof a!="string")return i("Property value is not a string",{frontmatterKey:s.reference.key,path:r,propertyValue:a}),!1;let l=a.slice(s.reference.startOffset,s.reference.endOffset);if(l!==s.oldContent)return i("Content mismatch",{actualContent:l,expectedContent:s.oldContent,frontmatterKey:s.reference.key,path:r,startOffset:s.reference.startOffset}),!1}else if(Ai(s)){let a=rn(n,s.reference.key);if(a!==s.oldContent)return i("Content mismatch",{actualContent:a,expectedContent:s.oldContent,frontmatterKey:s.reference.key,path:r}),!1}return!0}o(Ug,"validateChanges");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function ff(t){await new Promise(e=>{t.metadataCache.onCleanCache(e)})}o(ff,"ensureMetadataCacheReady");function $t(t){let e=[];return t.links&&e.push(...t.links),t.embeds&&e.push(...t.embeds),t.frontmatterLinks&&e.push(...t.frontmatterLinks),Xc(e),e=e.filter((n,r)=>{if(r===0)return!0;let i=e[r-1];if(!i)return!0;if(ft(n)&&ft(i))return n.position.start.offset!==i.position.start.offset;if(_e(n)&&_e(i)){let s=Pe(n)?n.startOffset:0,a=Pe(i)?i.startOffset:0;return n.key!==i.key||Pe(n)!==Pe(i)||s!==a}return!0}),e}o($t,"getAllLinks");function aa(t,e){let n=re(t,e,!0);return er(t,[n],()=>t.metadataCache.getBacklinksForFile(n))}o(aa,"getBacklinksForFileOrPath");async function Ut(t,e,n={}){let r=t.metadataCache.getBacklinksForFile.safe;if(r)return r(e);let i=new ru;return await Ci({async operationFn(s){s.throwIfAborted();let a=re(t,e);await ff(t),s.throwIfAborted(),i=aa(t,a);for(let l of i.keys()){s.throwIfAborted();let u=Te(t,l);if(!u)return!1;await ki(t,u),s.throwIfAborted();let c=await sa(t,u);if(s.throwIfAborted(),!c)return!1;let f=wi(c),d=i.get(l);if(!d)return!1;for(let h of d){let p;if(ft(h))p=c.slice(h.position.start.offset,h.position.end.offset);else if(_e(h)){let w=rn(f,h.key);if(typeof w!="string")return!1;let b=yi(h);p=w.slice(b.startOffset,b.endOffset)}else return!0;if(p!==h.original)return!1}}return!0},operationName:me(s=>s.obsidianDevUtils.metadataCache.getBacklinksForFilePath,{filePath:X(t,e)}),retryOptions:n,shouldShowTimeoutNotice:n.shouldShowTimeoutNotice??!0}),i}o(Ut,"getBacklinksForFileSafe");async function df(t,e){let n=Te(t,e);try{if(!n)return null;if(n.deleted)return t.metadataCache.getFileCache(n);await ki(t,n);let r=t.metadataCache.fileCache[n.path];return r?.mtime===n.stat.mtime&&r.size===n.stat.size&&t.metadataCache.metadataCache[r.hash]||(await t.metadataCache.computeFileMetadataAsync(n),await ff(t)),t.metadataCache.getFileCache(n)}catch(r){if(!n||n.deleted)return null;throw r}}o(df,"getCacheSafe");function hf(t,e,n){let r=re(t,e,!0);if(!r.deleted)throw new Error("File is existing");t.metadataCache.fileCache[r.path]={hash:r.path,mtime:0,size:0},t.metadataCache.metadataCache[r.path]=n}o(hf,"registerFileCacheForNonExistingFile");function pf(t,e){let n=yf(t);for(let r of e)for(;r.deleted;){let i=n.get(r.path)??0;i++,n.set(r.path,i),t.vault.fileMap[r.path]=r,ze(r)&&t.metadataCache.uniqueFileLookup.add(r.name.toLowerCase(),r),r=cn(t,et(r.path),!0)}}o(pf,"registerFiles");function er(t,e,n){try{return pf(t,e),n()}finally{wf(t,e)}}o(er,"tempRegisterFilesAndRun");async function mf(t,e,n){try{return pf(t,e),await n()}finally{wf(t,e)}}o(mf,"tempRegisterFilesAndRunAsync");function gf(t,e){let n=re(t,e,!0);if(!n.deleted)throw new Error("File is existing");delete t.metadataCache.fileCache[n.path],delete t.metadataCache.metadataCache[n.path]}o(gf,"unregisterFileCacheForNonExistingFile");function wf(t,e){let n=yf(t);for(let r of e)for(;r.deleted;){let i=n.get(r.path)??1;i--,n.set(r.path,i),i===0&&(n.delete(r.path),delete t.vault.fileMap[r.path],ze(r)&&t.metadataCache.uniqueFileLookup.remove(r.name.toLowerCase(),r)),r=cn(t,et(r.path),!0)}}o(wf,"unregisterFiles");function yf(t){return xe(t,"registeredFilesCounts",new Map).value}o(yf,"getRegisteredFilesCounts");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function bf(t){return t.vault.getConfig("newLinkFormat")}o(bf,"getNewLinkFormat");function la(t){return!t.vault.getConfig("useMarkdownLinks")}o(la,"shouldUseWikilinks");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Hg="\\|",jg=/[\\\x00\x08\x0B\x0C\x0E-\x1F ]/g,Kg=/[\\[\]<>_*~=`$]/g,xf=/(?<!\\)\|/g,kf="|";function qg(t){let e=tr(t.app,t.link,t.oldSourcePathOrFile??t.newSourcePathOrFile);return e?da({app:t.app,link:t.link,linkStyle:t.linkStyle,newSourcePathOrFile:t.newSourcePathOrFile,newTargetPathOrFile:e,oldSourcePathOrFile:t.oldSourcePathOrFile,shouldUpdateFileNameAlias:t.shouldUpdateFileNameAlias}):t.link.original}o(qg,"convertLink");async function ca(t,e,n,r={}){await cf(t,e,async(i,s)=>{let a=await df(t,e);i.throwIfAborted();let l=re(t,e),u=await t.vault.cachedRead(l);return i.throwIfAborted(),s!==u?null:await uw(a,Ot(t,e),n,i)},r)}o(ca,"editLinks");function fa(t){return he(t,jg,({substring:e})=>encodeURIComponent(e))}o(fa,"encodeUrl");function Yg(t){return he(t,Kg,"\\$&")}o(Yg,"escapeAlias");function tr(t,e,n,r=!1){let{linkPath:i}=Af(e.link),s=X(t,n),a=t.metadataCache.getFirstLinkpathDest(i,s);if(a)return a;if(!r)return null;if(i.startsWith("/"))return re(t,i,!0);let l=Se(ce(s),`./${i}`);return l.startsWith("../")?null:re(t,l,!0)}o(tr,"extractLinkFile");function Gg(t){let{app:e}=t,n={isEmptyEmbedAliasAllowed:!0},r=fw(e).map(s=>s());t=Object.assign({},n,...r,t);let i=re(e,t.targetPathOrFile,t.isNonExistingFileAllowed);return er(e,[i],()=>sw(t))}o(Gg,"generateMarkdownLink");function ua(t){let e=t.isEmbed?"!":"";if(t.isWikilink){let l=t.alias?`|${t.alias}`:"";return`${e}[[${t.url}${l}]]`}let n=t.alias??"",i=t.shouldEscapeAlias??!1?Yg(n):n,s=t.shouldUseAngleBrackets?`<${t.url}>`:fa(t.url),a=t.title?` ${JSON.stringify(t.title)}`:"";return`${e}[${i}](${s}${a})`}o(ua,"generateRawMarkdownLink");function An(t){let e=Jg(t);return e[0]?.raw===t?e[0]:null}o(An,"parseLink");function Jg(t){let e=new Set,n="![",r="@[",i="@",a=he(t,/\[(?<LinkAlias>!\[.*?\]\(.+?\))\]\((?<Link>.+?)\)/g,(p,w,b)=>`[${i.repeat(w.length)}](${b})`),l=he(a,n,p=>(e.add(p.offset),r)),c=Hc().use(gn).use(Gc,{aliasDivider:kf}).parse(l),f=[],d=[];Yn(c,p=>{let w;switch(p.type){case"link":w=pw(p,t);break;case"wikiLink":w=mw(p,t);break;default:return}e.has(w.startOffset-1)&&(w.isEmbed=!0,w.startOffset--,w.raw=`!${w.raw}`),f.push(w)}),f.sort((p,w)=>p.startOffset-w.startOffset);let h=0;for(let p of f)Cf(t,h,p.startOffset-1,d),h=p.endOffset+1;return Cf(t,h,t.length-1,d),f.push(...d),f.sort((p,w)=>p.startOffset-w.startOffset),f}o(Jg,"parseLinks");function Qg(t){let{app:e,displayText:n,isWikilink:r,newSourcePathOrFile:i,oldSourcePathOrFile:s,oldTargetPath:a,targetPathOrFile:l}=t;if(r===!1)return!1;if(!n)return!0;let u=re(e,l,!0),c=X(e,i),f=X(e,s??i),d=ce(c),h=ce(f),p=new Set;for(let b of[u.path,a]){if(!b)continue;let C=X(e,b);p.add(C),p.add(Ee(C)),p.add(un(d,C)),p.add(un(h,C))}for(let b of[f,c])p.add(e.metadataCache.fileToLinktext(u,b,!1));let w=he((0,kn.normalizePath)(n.split(" > ")[0]??""),/^\.\//g,"").toLowerCase();for(let b of p){if(b.toLowerCase()===w)return!0;let C=ce(b),y=Ee(b,qe(b));if(Se(C,y).toLowerCase()===w)return!0}return!1}o(Qg,"shouldResetAlias");function Af(t){let e=(0,kn.parseLinktext)(Mn(t));return{linkPath:e.path,subpath:e.subpath}}o(Af,"splitSubpath");function Xg(t){return An(t)?.hasAngleBrackets??!1}o(Xg,"testAngleBrackets");function vf(t){return An(t)?.isEmbed??!1}o(vf,"testEmbed");function Zg(t){return An(t)?.url.startsWith("./")??!1}o(Zg,"testLeadingDot");function ew(t){return An(t)?.url.startsWith("/")??!1}o(ew,"testLeadingSlash");function tw(t){return An(t)?.isWikilink??!1}o(tw,"testWikilink");function nw(t){return he(t,/(?<Backslashes>\\+)(?<SpecialCharacter>[!"#$%&'()*+,-./:;<=>?@[\\\]^_`{|}~])/g,(e,n,r)=>{let s=n.length,a=Math.floor(s/2);return"\\".repeat(a)+r})}o(nw,"unescapeAlias");function da(t){let{app:e,link:n,linkStyle:r,newSourcePathOrFile:i,newTargetPathOrFile:s,oldSourcePathOrFile:a,oldTargetPathOrFile:l,shouldUpdateFileNameAlias:u}=t;if(!s)return n.original;let c=re(e,s,!0),f=X(e,a??i),d=X(e,l??s),h=Tf(e,n.original,r),{subpath:p}=Af(n.link),w=!u;if(Ot(e,i)&&Qc(n))return c.path+p;let b=An(n.original),C;return h&&b?.alias&&(C=b.alias,w=!0),C??=Qg({app:e,displayText:n.displayText,isWikilink:h,newSourcePathOrFile:i,oldSourcePathOrFile:a,oldTargetPath:d,targetPathOrFile:c})?void 0:b?.alias,w||(C===Ee(d,qe(d))?C=c.basename:C===Ee(d)&&(C=c.name)),Gg({alias:C,app:e,isSingleSubpathAllowed:f===d&&!!b?.alias,linkStyle:r,originalLink:n.original,sourcePathOrFile:i,subpath:p,targetPathOrFile:c})}o(da,"updateLink");async function Ef(t){let{app:e,linkStyle:n,newSourcePathOrFile:r,oldSourcePathOrFile:i,shouldUpdateEmbedOnlyLinks:s,shouldUpdateFileNameAlias:a}=t;Ot(e,r)&&!e.internalPlugins.getEnabledPluginById(Be.Canvas)||await ca(e,r,l=>{let u=vf(l.original);if(!(s!==void 0&&s!==u))return qg({app:e,link:l,linkStyle:n,newSourcePathOrFile:r,oldSourcePathOrFile:i,shouldUpdateFileNameAlias:a})},t)}o(Ef,"updateLinksInFile");function rw(t,e,n){if(e||n)return t;try{return decodeURIComponent(t)}catch(r){return console.error(`Failed to decode URL ${t}`,r),t}}o(rw,"decodeUrlSafely");function iw(t,e,n){return e<n?t.slice(e,n):void 0}o(iw,"extractAlias");function Cf(t,e,n,r){if(e>n)return;let i=t.slice(e,n+1);he(i,/(?<Url>\S+)/g,(s,a)=>{ea(a)&&r.push({encodedUrl:fa(a),endOffset:e+s.offset+a.length,hasAngleBrackets:!1,isEmbed:!1,isExternal:!0,isWikilink:!1,raw:a,startOffset:e+s.offset,url:a})})}o(Cf,"extractTextLinks");function ow(t,e,n,r,i){n==="/"&&(n="");let s;if(e.path===n&&r&&i.isSingleSubpathAllowed)s="";else switch(i.linkPathStyle){case"AbsolutePathInVault":s=e.path,i.shouldUseLeadingSlashForAbsolutePaths&&!s.startsWith("/")&&(s=`/${s}`);break;case"RelativePathToTheNote":s=un(ce(n),e.path),i.shouldUseLeadingDotForRelativePaths&&!s.startsWith(".")&&(s=`./${s}`);break;case"ShortestPathWhenPossible":{let a=rt(t,e)?e.basename:e.name,l=t.metadataCache.getLinkpathDest(a,n);s=l.length===1&&l[0]===e?e.name:e.path;break}default:throw new Error(`Invalid link path style: ${i.linkPathStyle}.`)}return s=i.isWikilink?Mo(s,`.${Vn}`):s,s+=r,s}o(ow,"generateLinkText");function sw(t){let{app:e}=t,n=re(e,t.targetPathOrFile,t.isNonExistingFileAllowed),r=X(e,t.sourcePathOrFile),i=t.subpath??"",s=dw(t,n),a=ow(e,n,r,i,s);return s.isWikilink?lw(a,t.alias,s.isEmbed):aw(a,n,t,s)}o(sw,"generateMarkdownLinkImpl");function aw(t,e,n,r){let{app:i}=n,s=n.alias??"";return!s&&(rt(i,e)||!n.isEmptyEmbedAliasAllowed)&&(s=!n.shouldIncludeAttachmentExtensionToEmbedAlias||rt(i,e)?e.basename:e.name,n.shouldEscapeAlias=!0),ua({alias:s,isEmbed:r.isEmbed,isWikilink:!1,shouldEscapeAlias:n.shouldEscapeAlias??!1,shouldUseAngleBrackets:r.shouldUseAngleBrackets,url:t})}o(aw,"generateMarkdownStyleLink");function lw(t,e,n){return e?.toLowerCase()===t.toLowerCase()?ua({isEmbed:n,isWikilink:!0,url:e}):ua({alias:e,isEmbed:n,isWikilink:!0,url:t})}o(lw,"generateWikiLink");async function uw(t,e,n,r){if(r??=be(),r.throwIfAborted(),!t)return[];let i=[],s=(t.sections??[]).filter(a=>a.type==="table").map(a=>({end:a.position.end.offset,start:a.position.start.offset}));for(let a of $t(t)){r.throwIfAborted();let l=await n(a,r);if(r.throwIfAborted(),l===void 0)continue;let u=bi(a,l);if(e)if(Zn(u))i.push(u);else{console.error("Unsupported file change",u);continue}else gw(u,s)&&(u.newContent=u.newContent.replaceAll(xf,Hg)),i.push(u)}return i}o(uw,"getFileChanges");function cw(t,e){switch(e??"ObsidianSettingsDefault"){case"AbsolutePathInVault":return"AbsolutePathInVault";case"RelativePathToTheSource":return"RelativePathToTheNote";case"ShortestPathWhenPossible":return"ShortestPathWhenPossible";case"ObsidianSettingsDefault":{let n=bf(t);switch(n){case"absolute":return"AbsolutePathInVault";case"relative":return"RelativePathToTheNote";case"shortest":return"ShortestPathWhenPossible";default:throw new Error(`Invalid link format: ${n}.`)}}default:throw new Error(`Invalid link path style: ${e}.`)}}o(cw,"getFinalLinkPathStyle");function fw(t){return xe(t,"generateMarkdownLinkDefaultOptionsFns",[]).value}o(fw,"getGenerateMarkdownLinkDefaultOptionsFns");function dw(t,e){let{app:n}=t;return{isEmbed:t.isEmbed??(t.originalLink?vf(t.originalLink):void 0)??(!(0,kn.requireApiVersion)("1.10.0")&&!rt(n,e)),isSingleSubpathAllowed:t.isSingleSubpathAllowed??!0,isWikilink:Tf(n,t.originalLink,t.linkStyle),linkPathStyle:cw(n,t.linkPathStyle),shouldUseAngleBrackets:t.shouldUseAngleBrackets??(t.originalLink?Xg(t.originalLink):void 0)??!1,shouldUseLeadingDotForRelativePaths:t.shouldUseLeadingDotForRelativePaths??(t.originalLink?Zg(t.originalLink):void 0)??!1,shouldUseLeadingSlashForAbsolutePaths:t.shouldUseLeadingSlashForAbsolutePaths??(t.originalLink?ew(t.originalLink):void 0)??!1}}o(dw,"getLinkConfig");function Sf(t,e){return e.slice(t.position?.start.offset??0,t.position?.end.offset??0)}o(Sf,"getRawLink");function hw(t,e){return t.startsWith("<")||e.startsWith("<")}o(hw,"hasAngleBracketsInLink");function pw(t,e){let i=Sf(t,e),s=t.children[0]?.position?.start.offset??1,a=t.children.at(-1)?.position?.end.offset??1,l=e.slice(a+2,(t.position?.end.offset??0)-1),u=hw(i,l),c=ea(t.url),f=rw(t.url,c,u),d=iw(e,s,a);return{alias:d,encodedUrl:c?fa(f):void 0,endOffset:t.position?.end.offset??0,hasAngleBrackets:u,isEmbed:!1,isExternal:c,isWikilink:!1,raw:i,startOffset:t.position?.start.offset??0,title:t.title??void 0,unescapedAlias:d===void 0?void 0:nw(d),url:f}}o(pw,"parseLinkNode");function mw(t,e){return{alias:e.includes(kf)?t.data.alias:void 0,endOffset:t.position?.end.offset??0,isEmbed:!1,isExternal:!1,isWikilink:!0,raw:Sf(t,e),startOffset:t.position?.start.offset??0,url:t.value}}o(mw,"parseWikilinkNode");function gw(t,e){return!Wt(t)||!xf.test(t.newContent)?!1:e.some(n=>n.start<=t.reference.position.start.offset&&t.reference.position.end.offset<=n.end)}o(gw,"shouldEscapeWikilinkDivider");function Tf(t,e,n){switch(n??"PreserveExisting"){case"Markdown":return!1;case"ObsidianSettingsDefault":return la(t);case"PreserveExisting":return e===void 0?la(t):tw(e);case"Wikilink":return!0;default:throw new Error(`Invalid link style: ${n}.`)}}o(Tf,"shouldUseWikilinkStyle");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function Pf(t,e,n,r){n.throwIfAborted();let i=q("Logger:invokeAsyncAndLog"),s=performance.now();r??=Ce(1),Xe(i,r,`${t}:start`,{fn:e,timestampStart:s});try{await e(n);let a=performance.now(),l=Math.trunc(a-s);n.aborted&&(Xe(i,r,`${t}:aborted`,{abortReason:n.reason,duration:l,fn:e,timestampEnd:a,timestampStart:s}),n.throwIfAborted()),Xe(i,r,`${t}:end`,{duration:l,fn:e,timestampEnd:a,timestampStart:s})}catch(a){let l=performance.now();throw Xe(i,r,`${t}:error`,{duration:Math.trunc(l-s),error:a,fn:e,timestampEnd:l,timestampStart:s}),a}}o(Pf,"invokeAsyncAndLog");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Si(t){let e=t.stackTrace??Ce(1);ne(()=>ww(t),e)}o(Si,"addToQueue");async function ww(t){let e=t.abortSignal??be();e.throwIfAborted();let r=t.timeoutInMilliseconds??6e4,i=t.stackTrace??Ce(1),s=t.operationName??"",a=Ff(t.app).value;a.items.push({abortSignal:e,operationFn:t.operationFn,operationName:s,shouldShowTimeoutNotice:t.shouldShowTimeoutNotice??!0,stackTrace:i,timeoutInMilliseconds:r}),a.promise=a.promise.then(()=>If(t.app)),await a.promise}o(ww,"addToQueueAndWait");function Ff(t){return xe(t,"queue",{items:[],promise:Promise.resolve()})}o(Ff,"getQueue");async function If(t){let e=Ff(t).value,n=e.items[0];n&&(await Bo(()=>ef({context:{queuedFn:n.operationFn},async operationFn(r){await Pf(n.operationName||If.name,n.operationFn,Ft(r,n.abortSignal),n.stackTrace)},operationName:n.operationName,shouldShowTimeoutNotice:n.shouldShowTimeoutNotice,stackTrace:n.stackTrace,timeoutInMilliseconds:n.timeoutInMilliseconds})),e.items.shift())}o(If,"processNextQueueItem");var Lf=require("obsidian");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function ha(t,e){let n=Ye(t,e);n&&await xi(t,n)&&await nr(t,n)}o(ha,"deleteEmptyFolder");async function _f(t,e){let n=Ye(t,e);for(;n;){if(!await xi(t,n))return;let r=n.parent;await ha(t,n),n=r}}o(_f,"deleteEmptyFolderHierarchy");async function nr(t,e,n,r,i){let s=_t(t,e);if(!s)return!1;let a=ze(s)||(i??!0);if(ze(s)){let l=await Ut(t,s);n&&l.clear(n),l.count()!==0&&(r&&new Lf.Notice(me(u=>u.obsidianDevUtils.notices.attachmentIsStillUsed,{attachmentPath:s.path})),a=!1)}else if(is(s)){let l=await oa(t,s);for(let u of[...l.files,...l.folders])a&&=await nr(t,u,n,r);a&&=await xi(t,s)}if(a)try{await t.fileManager.trashFile(s)}catch(l){await t.vault.exists(s.path)&&(ct(new Error(`Failed to delete ${s.path}`,{cause:l})),a=!1)}return a}o(nr,"deleteSafe");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var pa=class{static{o(this,"DeleteHandler")}constructor(e,n,r,i,s){this.app=e,this.file=n,this.abortSignal=r,this.settingsManager=i,this.deletedMetadataCacheMap=s}async handle(){if(this.abortSignal.throwIfAborted(),q("RenameDeleteHandler:handleDelete")(`Handle Delete ${this.file.path}`),!fn(this.app,this.file))return;let e=this.settingsManager.getSettings();if(e.isPathIgnored?.(this.file.path)){q("RenameDeleteHandler:handleDelete")(`Skipping delete handler of ${this.file.path} as the path is ignored.`);return}let n=new Set([this.file.parent?.path??""]);if(e.shouldHandleDeletions){let s=this.deletedMetadataCacheMap.get(this.file.path);if(this.deletedMetadataCacheMap.delete(this.file.path),s){let a=$t(s);for(let l of a){let u=tr(this.app,l,this.file.path);u&&(this.settingsManager.isNoteEx(u.path)||(n.add(u.parent?.path??""),await nr(this.app,u,this.file.path,!1,e.emptyFolderBehavior!=="Keep"),this.abortSignal.throwIfAborted()))}}}if(n.delete(""),await Rf(this.app,this.settingsManager.getSettings(),Array.from(n)),this.abortSignal.throwIfAborted(),!e.shouldHandleDeletions)return;let r=await dn(this.app,this.file.path,wt.DeleteNote),i=Ye(this.app,r);i&&await ss(this.app,this.file.path,wt.DeleteNote)&&(this.abortSignal.throwIfAborted(),await nr(this.app,i,this.file.path,!1,e.emptyFolderBehavior!=="Keep"),this.abortSignal.throwIfAborted())}},ma=class{static{o(this,"HandledRenames")}map=new Map;add(e,n){this.map.set(this.keyToString(e,n),{newPath:n,oldPath:e})}delete(e,n){this.map.delete(this.keyToString(e,n))}has(e,n){return this.map.has(this.keyToString(e,n))}keys(){return this.map.values()}keyToString(e,n){return`${e} -> ${n}`}},ga=class{static{o(this,"MetadataDeletedHandler")}constructor(e,n,r,i,s){this.app=e,this.file=n,this.prevCache=r,this.settingsManager=i,this.deletedMetadataCacheMap=s}handle(){let e=this.settingsManager.getSettings();if(e.shouldHandleDeletions){if(e.isPathIgnored?.(this.file.path)){q("RenameDeleteHandler:handleMetadataDeleted")(`Skipping metadata delete handler of ${this.file.path} as the path is ignored.`);return}rt(this.app,this.file)&&this.prevCache&&this.deletedMetadataCacheMap.set(this.file.path,this.prevCache)}}},wa=class{static{o(this,"Registry")}constructor(e,n,r){this.plugin=e,this.settingsBuilder=n,this.settingsManager=r,this.app=e.app,this.pluginId=e.manifest.id,this.abortSignal=e.abortSignal??be()}abortSignal;app;deletedMetadataCacheMap=new Map;handledRenames=new ma;interruptedRenamesMap=new Map;pluginId;register(){let e=this.settingsManager.renameDeleteHandlersMap;e.set(this.pluginId,this.settingsBuilder),this.logRegisteredHandlers(),this.plugin.register(()=>{e.delete(this.pluginId),this.logRegisteredHandlers()}),this.plugin.registerEvent(this.app.vault.on("delete",this.handleDelete.bind(this))),this.plugin.registerEvent(this.app.vault.on("rename",this.handleRename.bind(this))),this.plugin.registerEvent(this.app.metadataCache.on("deleted",this.handleMetadataDeleted.bind(this))),Lr(this.plugin,this.app.fileManager,{runAsyncLinkUpdate:o(n=>Object.assign(r=>this.runAsyncLinkUpdate(n,r),{renameDeleteHandlerPatched:!0}),"runAsyncLinkUpdate")})}handleDelete(e){this.shouldInvokeHandler()&&Si({app:this.app,operationFn:o(n=>new pa(this.app,e,n,this.settingsManager,this.deletedMetadataCacheMap).handle(),"operationFn"),operationName:Lt(n=>n.obsidianDevUtils.renameDeleteHandler.handleDelete,{filePath:e.path})})}handleMetadataDeleted(e,n){this.shouldInvokeHandler()&&new ga(this.app,e,n,this.settingsManager,this.deletedMetadataCacheMap).handle()}handleRename(e,n){if(!this.shouldInvokeHandler()||!ze(e))return;let r=e.path;if(q("RenameDeleteHandler:handleRename")(`Handle Rename ${n} -> ${r}`),this.handledRenames.has(n,r)){this.handledRenames.delete(n,r);return}let i=this.settingsManager.getSettings();if(!i.shouldHandleRenames)return;if(i.isPathIgnored?.(n)){q("RenameDeleteHandler:handleRename")(`Skipping rename handler of old path ${n} as the path is ignored.`);return}if(i.isPathIgnored?.(r)){q("RenameDeleteHandler:handleRename")(`Skipping rename handler of new path ${r} as the path is ignored.`);return}let s=this.app.metadataCache.getCache(n)??this.app.metadataCache.getCache(r),a=aa(this.app,n).data;Si({abortSignal:this.abortSignal,app:this.app,operationFn:o(l=>new ya({abortSignal:l,app:this.app,handledRenames:this.handledRenames,interruptedRenamesMap:this.interruptedRenamesMap,newPath:r,oldCache:s,oldPath:n,oldPathBacklinksMap:a,settingsManager:this.settingsManager}).handle(),"operationFn"),operationName:Lt(l=>l.obsidianDevUtils.renameDeleteHandler.handleRename,{newPath:r,oldPath:n})})}logRegisteredHandlers(){let e=this.settingsManager.renameDeleteHandlersMap;q("RenameDeleteHandler:logRegisteredHandlers")(`Plugins with registered rename/delete handlers: ${JSON.stringify(Array.from(e.keys()))}`)}async runAsyncLinkUpdate(e,n){if(e.renameDeleteHandlerPatched){await e.call(this.app.fileManager,n);return}await e.call(this.app.fileManager,r=>this.wrapLinkUpdatesHandler(r,n))}shouldInvokeHandler(){let e=this.plugin.manifest.id,n=this.settingsManager.renameDeleteHandlersMap;return Array.from(n.keys())[0]===e}async wrapLinkUpdatesHandler(e,n){let r=!1,i=this.app.vault.on("rename",()=>{r=!0});try{await n(e)}finally{this.app.vault.offref(i)}let s=this.settingsManager.getSettings();!r||!s.shouldHandleRenames||_n(e,a=>s.isPathIgnored?.(a.sourceFile.path)?(q("RenameDeleteHandler:runAsyncLinkUpdate")(`Roll back to default link update of source file ${a.sourceFile.path} as the path is ignored.`),!0):s.isPathIgnored?.(a.resolvedFile.path)?(q("RenameDeleteHandler:runAsyncLinkUpdate")(`Roll back to default link update of resolved file ${a.resolvedFile.path} as the path is ignored.`),!0):!this.app.internalPlugins.getEnabledPluginById(Be.Canvas)||this.app.plugins.getPlugin("backlink-cache")?!1:a.sourceFile.extension===qr||a.resolvedFile.extension===qr)}},ya=class t{static{o(this,"RenameHandler")}abortSignal;app;handledRenames;interruptedCombinedBacklinksMap;interruptedRenamesMap;newPath;oldCache;oldPath;oldPathBacklinksMap;oldPathLinks;settingsManager;constructor(e){this.app=e.app,this.oldPath=e.oldPath,this.newPath=e.newPath,this.oldPathBacklinksMap=e.oldPathBacklinksMap,this.oldCache=e.oldCache,this.abortSignal=e.abortSignal,this.settingsManager=e.settingsManager,this.interruptedRenamesMap=e.interruptedRenamesMap,this.oldPathLinks=this.oldCache?$t(this.oldCache):[],this.handledRenames=e.handledRenames,this.interruptedCombinedBacklinksMap=e.interruptedCombinedBacklinksMap??new Map}async handle(){if(this.oldPath===this.newPath||(this.abortSignal.throwIfAborted(),await this.continueInterruptedRenames(),this.abortSignal.throwIfAborted(),await this.refreshLinks(),this.abortSignal.throwIfAborted(),await this.handleCaseCollision()))return;this.abortSignal.throwIfAborted();let e=xe(this.app,"renamedFilePaths",new Set).value,n=xe(this.app,"renamedLinkPaths",new Set).value;try{let r=new ba({abortSignal:this.abortSignal,app:this.app,newPath:this.newPath,oldCache:this.oldCache,oldPath:this.oldPath,settingsManager:this.settingsManager});await r.fill(),this.abortSignal.throwIfAborted();let i=new Map;r.initOriginalLinksMap(i),r.initBacklinksMap(this.oldPathBacklinksMap,i,this.oldPath);for(let l of r.keys()){if(l===this.oldPath)continue;let u=(await Ut(this.app,l)).data;this.abortSignal.throwIfAborted(),r.initBacklinksMap(u,i,l)}let s=new Set;for(let[l,u]of r.entries()){if(l!==this.oldPath){let c=await this.renameHandled(l,u);this.abortSignal.throwIfAborted(),r.set(l,c)}this.settingsManager.isNoteEx(l)||s.add(ce(l))}await Rf(this.app,this.settingsManager.getSettings(),Array.from(s)),this.abortSignal.throwIfAborted();let a=this.settingsManager.getSettings();for(let[l,u]of Array.from(i.entries()).concat(Array.from(this.interruptedCombinedBacklinksMap.entries()))){let c=0;await ca(this.app,l,f=>{c++;let d=u.get(Pr(f));if(!d)return;let h=r.get(d)??d;return e.add(l),n.add(`${l}//${String(c)}`),da({app:this.app,link:f,newSourcePathOrFile:l,newTargetPathOrFile:h,oldTargetPathOrFile:d,shouldUpdateFileNameAlias:a.shouldUpdateFileNameAliases})},{shouldFailOnMissingFile:!1}),this.abortSignal.throwIfAborted()}if(fn(this.app,this.newPath)&&(await Ef({app:this.app,newSourcePathOrFile:this.newPath,oldSourcePathOrFile:this.oldPath,shouldFailOnMissingFile:!1,shouldUpdateFileNameAlias:a.shouldUpdateFileNameAliases}),this.abortSignal.throwIfAborted()),!Te(this.app,this.newPath)){let l=this.interruptedRenamesMap.get(this.newPath);l||(l=[],this.interruptedRenamesMap.set(this.newPath,l)),l.push({combinedBacklinksMap:i,oldPath:this.oldPath})}}finally{let r=Array.from(this.handledRenames.keys());Si({abortSignal:this.abortSignal,app:this.app,operationFn:o(()=>{for(let i of r)this.handledRenames.delete(i.oldPath,i.newPath);n.size!==0&&(new Ti.Notice(Lt(i=>i.obsidianDevUtils.renameDeleteHandler.updatedLinks,{filesCount:e.size,linksCount:n.size})),e.clear(),n.clear())},"operationFn"),operationName:Lt(i=>i.obsidianDevUtils.renameDeleteHandler.handleOrphanedRenames)})}}async continueInterruptedRenames(){let e=this.interruptedRenamesMap.get(this.oldPath);if(e){this.interruptedRenamesMap.delete(this.oldPath);for(let n of e)await new t({abortSignal:this.abortSignal,app:this.app,handledRenames:this.handledRenames,interruptedCombinedBacklinksMap:n.combinedBacklinksMap,interruptedRenamesMap:this.interruptedRenamesMap,newPath:this.newPath,oldCache:this.oldCache,oldPath:n.oldPath,oldPathBacklinksMap:this.oldPathBacklinksMap,settingsManager:this.settingsManager}).handle()}}async handleCaseCollision(){if(!this.app.vault.adapter.insensitive||this.oldPath.toLowerCase()!==this.newPath.toLowerCase())return!1;let e=Se(ce(this.newPath),`__temp__${Ee(this.newPath)}`);return await this.renameHandled(this.newPath,e),await new t({abortSignal:this.abortSignal,app:this.app,handledRenames:this.handledRenames,interruptedRenamesMap:this.interruptedRenamesMap,newPath:e,oldCache:this.oldCache,oldPath:this.oldPath,oldPathBacklinksMap:this.oldPathBacklinksMap,settingsManager:this.settingsManager}).handle(),await this.app.fileManager.renameFile(re(this.app,e),this.newPath),!0}async refreshLinks(){let e=this.app.metadataCache.getCache(this.oldPath)??this.app.metadataCache.getCache(this.newPath),n=e?$t(e):[],r=re(this.app,this.oldPath,!0),i=new Map;await er(this.app,[r],async()=>{i=(await Ut(this.app,r)).data});for(let s of n)this.oldPathLinks.includes(s)||this.oldPathLinks.push(s);for(let[s,a]of i.entries()){let l=this.oldPathBacklinksMap.get(s);l||(l=[],this.oldPathBacklinksMap.set(s,l));for(let u of a)l.includes(u)||l.push(u)}}async renameHandled(e,n){return n=ia(this.app,e,n),e===n||(this.handledRenames.add(e,n),n=await lf(this.app,e,n)),n}},ba=class{static{o(this,"RenameMap")}abortSignal;app;map=new Map;newPath;oldCache;oldPath;oldPathLinks;settingsManager;constructor(e){this.abortSignal=e.abortSignal,this.app=e.app,this.settingsManager=e.settingsManager,this.oldCache=e.oldCache,this.oldPath=e.oldPath,this.newPath=e.newPath,this.oldPathLinks=this.oldCache?$t(this.oldCache):[]}entries(){return this.map.entries()}async fill(){if(this.abortSignal.throwIfAborted(),this.map.set(this.oldPath,this.newPath),!fn(this.app,this.oldPath))return;let e=this.settingsManager.getSettings(),n=re(this.app,this.oldPath,!0),r="";await mf(this.app,[n],async()=>{let u=this.oldCache&&n.deleted;u&&hf(this.app,n,this.oldCache);try{r=await dn(this.app,this.oldPath,wt.RenameNote)}finally{u&&gf(this.app,n)}});let i=e.shouldRenameAttachmentFolder?await dn(this.app,this.newPath,wt.RenameNote):r,s=r==="/",a=Ye(this.app,r);if(!a||r===i&&!e.shouldRenameAttachmentFiles)return;let l=[];if(await ss(this.app,this.oldPath,wt.RenameNote))Ti.Vault.recurseChildren(a,u=>{this.abortSignal.throwIfAborted(),ze(u)&&l.push(u)});else for(let u of this.oldPathLinks){this.abortSignal.throwIfAborted();let c=tr(this.app,u,this.oldPath);if(c&&(s||c.path.startsWith(r))){let f=await Ut(this.app,c);this.abortSignal.throwIfAborted();let d=new Set(f.keys());d.delete(this.oldPath),d.delete(this.newPath),d.size===0&&l.push(c)}}for(let u of l){if(this.abortSignal.throwIfAborted(),this.settingsManager.isNoteEx(u.path))continue;let c;if(e.shouldRenameAttachmentFiles)c=await os({app:this.app,context:wt.RenameNote,notePathOrFile:this.newPath,oldAttachmentPathOrFile:u,oldNotePathOrFile:this.oldPath,shouldSkipDuplicateCheck:!0}),this.abortSignal.throwIfAborted();else{let f=s?u.path:un(r,u.path),d=Se(i,ce(f));c=Se(d,u.name)}if(u.path!==c){if(e.shouldDeleteConflictingAttachments){let f=Te(this.app,c);f&&(q("RenameDeleteHandler:fillRenameMap")(`Removing conflicting attachment ${f.path}.`),await this.app.fileManager.trashFile(f),this.abortSignal.throwIfAborted())}else{let f=ce(c),d=qe(c),h=Ee(c,d);c=this.app.vault.getAvailablePath(Se(f,h),d.slice(1))}this.map.set(u.path,c)}}}get(e){return this.map.get(e)}initBacklinksMap(e,n,r){for(let[i,s]of e.entries()){let a=this.map.get(i)??i,l=n.get(a)??new Map;n.set(a,l);for(let u of s)l.set(Pr(u),r)}}initOriginalLinksMap(e){for(let n of this.oldPathLinks){let r=tr(this.app,n,this.oldPath);if(!r)continue;let i=new Map;i.set(this.newPath,[n]),this.initBacklinksMap(i,e,r.path)}}keys(){return this.map.keys()}set(e,n){this.map.set(e,n)}},Ca=class{static{o(this,"SettingsManager")}constructor(e){this.app=e,this.renameDeleteHandlersMap=xe(e,"renameDeleteHandlersMap",new Map).value}renameDeleteHandlersMap;getSettings(){let e=Array.from(this.renameDeleteHandlersMap.values()).reverse(),n={};n.isNote=r=>fn(this.app,r),n.isPathIgnored=()=>!1;for(let r of e){let i=r();n.shouldDeleteConflictingAttachments||=i.shouldDeleteConflictingAttachments??!1,i.emptyFolderBehavior&&(n.emptyFolderBehavior??=i.emptyFolderBehavior),n.shouldHandleDeletions||=i.shouldHandleDeletions??!1,n.shouldHandleRenames||=i.shouldHandleRenames??!1,n.shouldRenameAttachmentFiles||=i.shouldRenameAttachmentFiles??!1,n.shouldRenameAttachmentFolder||=i.shouldRenameAttachmentFolder??!1,n.shouldUpdateFileNameAliases||=i.shouldUpdateFileNameAliases??!1;let s=n.isPathIgnored;n.isPathIgnored=l=>s(l)||(i.isPathIgnored?.(l)??!1);let a=n.isNote;n.isNote=l=>a(l)&&(i.isNote?.(l)??!0)}return n.emptyFolderBehavior??="Keep",n}isNoteEx(e){return this.getSettings().isNote?.(e)??!1}};function Of(t,e){new wa(t,e,new Ca(t.app)).register()}o(Of,"registerRenameDeleteHandlers");async function Rf(t,e,n){if(e.emptyFolderBehavior!=="Keep")for(let r of n)switch(e.emptyFolderBehavior){case"Delete":await ha(t,r);break;case"DeleteWithEmptyParents":await _f(t,r);break;default:break}}o(Rf,"cleanupParentFolders");var De=require("node:fs/promises");var yw=require("node:readline/promises");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Mf=require("obsidian");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ht=class{static{o(this,"TwoWayMap")}keyValueMap=new Map;valueKeyMap=new Map;constructor(e=[]){for(let[n,r]of e)this.set(n,r)}clear(){this.keyValueMap.clear(),this.valueKeyMap.clear()}deleteKey(e){let n=this.getValue(e);n!==void 0&&this.valueKeyMap.delete(n),this.keyValueMap.delete(e)}deleteValue(e){let n=this.getKey(e);n!==void 0&&this.keyValueMap.delete(n),this.valueKeyMap.delete(e)}entries(){return this.keyValueMap.entries()}getKey(e){return this.valueKeyMap.get(e)}getValue(e){return this.keyValueMap.get(e)}hasKey(e){return this.keyValueMap.has(e)}hasValue(e){return this.valueKeyMap.has(e)}keys(){return this.keyValueMap.keys()}set(e,n){this.deleteKey(e),this.deleteValue(n),this.keyValueMap.set(e,n),this.valueKeyMap.set(n,e)}values(){return this.valueKeyMap.keys()}};var rr="path-ino",bw=1,Cw=5e3,ir=class{static{o(this,"PathInoMap")}get db(){if(!this._db)throw new Error("db is not initialized");return this._db}_db;pendingStoreActions=[];processStoreActionsDebounced=(0,Mf.debounce)(()=>{this.processStoreActions()},Cw);twoWayMap=new Ht;clear(){this.twoWayMap.clear(),this.addStoreAction(e=>e.clear())}deletePath(e){this.twoWayMap.deleteKey(e),this.addStoreAction(n=>n.delete(e))}getIno(e){return this.twoWayMap.getValue(e)}getPath(e){return this.twoWayMap.getKey(e)}getPaths(){return Array.from(this.twoWayMap.keys())}hasPath(e){return this.twoWayMap.hasKey(e)}async init(e){let n=window.indexedDB.open(`${e.appId}/external-rename-handler`,bw);n.addEventListener("upgradeneeded",l=>{if(l.newVersion!==1)return;n.result.createObjectStore(rr,{keyPath:"path"})});let r=await Df(n);this._db=r;let s=r.transaction(rr,"readonly").objectStore(rr),a=await Df(s.getAll());for(let l of a)this.twoWayMap.set(l.path,l.ino)}set(e,n){let r=this.getPath(n);this.twoWayMap.set(e,n),this.addStoreAction(i=>{i.delete(e),r!==void 0&&r!==e&&i.delete(r),i.add({ino:n,path:e})})}addStoreAction(e){this.pendingStoreActions.push(e),this.processStoreActionsDebounced()}processStoreActions(){let e=this.pendingStoreActions;this.pendingStoreActions=[];let n=this.db.transaction(rr,"readwrite"),r=n.objectStore(rr);for(let i of e)i(r);n.commit()}};async function Df(t){return t.readyState==="done"?t.result:await new Promise((e,n)=>{t.addEventListener("success",()=>{e(t.result)}),t.addEventListener("error",()=>{n(t.error)})})}o(Df,"getResult");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var kt=class{static{o(this,"Transformer")}getTransformer(e){if(e===this.id)return this;throw new Error(`Transformer with id ${e} not found`)}transformObjectRecursively(e){return this.transformValueRecursively(e,"")}getTransformerId(e,n){return this.canTransform(e,n)?this.id:null}transformValueRecursively(e,n){let r=this.getTransformerId(e,n);if(r){let a=this.transformValue(e,n);return a===void 0?void 0:{__transformerId:r,transformedValue:a}}if(e===null)return null;if(typeof e!="object")return e;if(Array.isArray(e))return e.map((a,l)=>this.transformValueRecursively(a,String(l)));let i=e;if(i.__transformerId)return this.getTransformer(i.__transformerId).restoreValue(i.transformedValue,n);let s={};for(let a of nn(e)){let l=e[a],u=this.transformValueRecursively(l,a);s[a]=u}return s}};o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var We=class extends kt{static{o(this,"TypedTransformer")}};o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Pi=class extends We{static{o(this,"DateTransformer")}get id(){return"date"}canTransform(e){return e instanceof Date}restoreValue(e){return new Date(e)}transformValue(e){return e.toISOString()}};var Nf=require("obsidian");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Fi=class extends We{static{o(this,"DurationTransformer")}get id(){return"duration"}canTransform(e){let n=e??{};return!!n.asHours&&!!n.asMinutes&&!!n.asSeconds&&!!n.asMilliseconds}restoreValue(e){return Nf.moment.duration(e)}transformValue(e){return e.toISOString()}};o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ii=class extends kt{static{o(this,"GroupTransformer")}constructor(e){super(),this.transformers=e}get id(){return"group"}canTransform(e,n){return this.getFirstTransformerThatCanTransform(e,n)!==null}getTransformer(e){return this.transformers.find(n=>n.id===e)??Zt(`No transformer with id ${e} found`)}transformValue(e,n){let r=this.getFirstTransformerThatCanTransform(e,n);if(r===null)throw new Error("No transformer can transform the value");return r.transformValue(e,n)}getTransformerId(e,n){let r=this.getFirstTransformerThatCanTransform(e,n);return r===null?null:r.id}restoreValue(){throw new Error("GroupTransformer does not support restoring values")}getFirstTransformerThatCanTransform(e,n){return this.transformers.find(r=>r.canTransform(e,n))??null}};o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Li=class extends We{static{o(this,"MapTransformer")}get id(){return"map"}canTransform(e){return e instanceof Map}restoreValue(e){return new Map(e)}transformValue(e){return Array.from(e.entries())}};o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var _i=class extends We{static{o(this,"SetTransformer")}get id(){return"set"}canTransform(e){return e instanceof Set}restoreValue(e){return new Set(e)}transformValue(e){return Array.from(e)}};o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var xw="_",Oi=class extends kt{static{o(this,"SkipPrivatePropertyTransformer")}get id(){return"skip-private-property"}canTransform(e,n){return n.startsWith(xw)}transformValue(){}restoreValue(){throw new Error("SkipPrivatePropertyTransformer does not support restoring values")}};o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ri=class extends We{static{o(this,"TwoWayMapTransformer")}get id(){return"two-way-map"}canTransform(e){return e instanceof Ht}restoreValue(e){return new Ht(e)}transformValue(e){return Array.from(e.entries())}};o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var kw=new Ii([new Oi,new Pi,new Fi,new Li,new _i,new Ri]),Di=class extends Qe{static{o(this,"PluginSettingsManagerBase")}constructor(e){super(),this.plugin=e,this.app=e.app,this.defaultSettings=this.createDefaultSettings(),this.currentSettingsWrapper=this.createDefaultSettingsWrapper(),this.lastSavedSettingsWrapper=this.createDefaultSettingsWrapper(),this.propertyNames=nn(this.currentSettingsWrapper.settings),this.registerValidators(),this.registerLegacySettingsConverters()}app;defaultSettings;get settingsWrapper(){return this.currentSettingsWrapper}currentSettingsWrapper;lastSavedSettingsWrapper;legacySettingsConverters=[];propertyNames;validators=new Map;async editAndSave(e,n){await this.edit(e),await this.saveToFile(n)}async ensureSafe(e){let n=await this.validate(e);for(let r of this.propertyNames)n[r]&&(e[r]=this.defaultSettings[r])}async getSafeCopy(e){let n=await this.cloneSettings(e);return await this.ensureSafe(n),n}async loadFromFile(e){let n=await this.plugin.loadData();this.lastSavedSettingsWrapper=this.createDefaultSettingsWrapper(),this.currentSettingsWrapper=this.createDefaultSettingsWrapper();try{if(n==null)return;if(typeof n!="object"){console.error(`Invalid settings from data.json. Expected Object, got: ${typeof n}`);return}let r=n,i=await this.rawRecordToSettings(r),s=await this.validate(i);for(let l of this.propertyNames)this.setPropertyImpl(l,i[l],s[l]);this.lastSavedSettingsWrapper=await this.cloneSettingsWrapper(this.currentSettingsWrapper);let a=await this.settingsToRawRecord(this.currentSettingsWrapper.settings);Ne(a,n)||await this.saveToFileImpl()}finally{await this.triggerAsync("loadSettings",this.currentSettingsWrapper,e)}}on(e,n,r){return super.on(e,n,r)}async revalidate(){return await this.edit(je),this.currentSettingsWrapper.validationMessages}async saveToFile(e){Ne(this.lastSavedSettingsWrapper.settings,this.currentSettingsWrapper.settings)||(await this.saveToFileImpl(),await this.triggerAsync("saveSettings",this.currentSettingsWrapper,this.lastSavedSettingsWrapper,e),this.lastSavedSettingsWrapper=await this.cloneSettingsWrapper(this.currentSettingsWrapper))}async setProperty(e,n){return await this.edit(r=>{r[e]=n}),this.currentSettingsWrapper.validationMessages[e]}async validate(e){let n={};for(let[r,i]of this.validators.entries()){let s=await i(e[r],e);s&&(n[r]=s)}return n}getTransformer(){return kw}async onLoadRecord(e){for(let n of this.legacySettingsConverters)n(e);await Promise.resolve()}async onSavingRecord(e){await Je()}registerLegacySettingsConverter(e,n){let r=this;this.legacySettingsConverters.push(i);function i(s){let a=new Set(Object.keys(new e)),l=new Set(r.propertyNames),u=s;n(u);for(let c of Object.keys(u))l.has(c)||a.has(c)&&delete s[c]}o(i,"legacySettingsConverter")}registerLegacySettingsConverters(){}registerValidator(e,n){this.validators.set(e,n)}registerValidators(){}async cloneSettings(e){let n=await this.settingsToRawRecord(e),r=JSON.stringify(n),i=JSON.parse(r);return await this.rawRecordToSettings(i)}async cloneSettingsWrapper(e){return{safeSettings:await this.cloneSettings(e.safeSettings),settings:await this.cloneSettings(e.settings),validationMessages:{...e.validationMessages}}}createDefaultSettingsWrapper(){return{safeSettings:this.createDefaultSettings(),settings:this.createDefaultSettings(),validationMessages:{}}}async edit(e){try{await e(this.currentSettingsWrapper.settings)}finally{let n=await this.validate(this.currentSettingsWrapper.settings);for(let r of this.propertyNames){let i=n[r]??"";this.currentSettingsWrapper.validationMessages[r]=i,this.currentSettingsWrapper.safeSettings[r]=i?this.defaultSettings[r]:this.currentSettingsWrapper.settings[r]}}}isValidPropertyName(e){return typeof e!="string"?!1:this.propertyNames.includes(e)}async rawRecordToSettings(e){e=this.getTransformer().transformObjectRecursively(e),await this.onLoadRecord(e);let n=this.createDefaultSettings();for(let[r,i]of Object.entries(e)){if(!this.isValidPropertyName(r)){q("PluginSettingsManagerBase:rawRecordToSettings")(`Unknown property: ${r}`);continue}typeof i!=typeof this.defaultSettings[r]&&q("PluginSettingsManagerBase:rawRecordToSettings")("Possible invalid value type. It might lead to an unexpected behavior of the plugin. There is also a chance it is a false-negative warning, as we are unable to determine the exact type of the value in runtime.",{defaultValue:this.defaultSettings[r],propertyName:r,value:i}),n[r]=i}return n}async saveToFileImpl(){await this.plugin.saveData(await this.settingsToRawRecord(this.currentSettingsWrapper.settings))}setPropertyImpl(e,n,r){this.currentSettingsWrapper.settings[e]=n,this.currentSettingsWrapper.validationMessages[e]=r??"",this.currentSettingsWrapper.safeSettings[e]=r?this.defaultSettings[e]:n}async settingsToRawRecord(e){let n={};for(let r of this.propertyNames)n[r]=e[r];return await this.onSavingRecord(n),this.getTransformer().transformObjectRecursively(n)}};var Mi=class{static{o(this,"PluginSettings")}deletionRenameDetectionTimeoutInMilliseconds=500;pollingIntervalInMilliseconds=2e3;shouldUpdateLinks=!0};var Ni=class extends Di{static{o(this,"PluginSettingsManager")}createDefaultSettings(){return new Mi}};var jt=require("obsidian");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Bi(t){let e=t.parentElement;if(!e)throw new Error("Element must be attached to the DOM");if(e.classList.contains(F.SettingComponentWrapper))return e;let n=Array.from(e.children),r=createDiv();Y(r,F.SettingComponentWrapper);for(let i of n)r.appendChild(i);return e.appendChild(r),r}o(Bi,"ensureWrapped");var Bf=require("obsidian");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var xa=class{static{o(this,"AbstractTextComponentWrapper")}constructor(e){this.abstractTextComponent=e}empty(){this.abstractTextComponent.setValue("")}isEmpty(){return this.abstractTextComponent.getValue()===""}setPlaceholderValue(e){return this.abstractTextComponent.setPlaceholder(e),this}};function zf(t){return Aw(t)?t:t instanceof Bf.AbstractTextComponent?new xa(t):null}o(zf,"getTextBasedComponentValue");function Aw(t){let e=t;return typeof e.setPlaceholderValue=="function"&&typeof e.isEmpty=="function"}o(Aw,"isTextBasedComponent");var we=require("obsidian");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var zi=class{static{o(this,"OverlayValidatorComponent")}constructor(e){this.el=e;let n=Bi(e);this._validatorEl=n.createEl("input",{attr:{tabindex:-1}}),Y(this._validatorEl,F.OverlayValidator),this._validatorEl.addEventListener("focus",()=>{this.el.focus()}),this._validatorEl.isActiveElement=this.isElementOrDescendantActive.bind(this);let r=this.el.querySelector("[tabindex]");r||(this.el.getAttr("tabindex")===null&&(this.el.tabIndex=-1),r=this.el),this.el.addEventListener("focusin",()=>{this.forceBlurValidatorEl()}),this.el.addEventListener("click",()=>{r.focus()}),this.el.addEventListener("focusout",()=>{window.setTimeout(()=>{this.isElementOrDescendantActive()||this.forceBlurValidatorEl()},0)})}get validatorEl(){return this._validatorEl}_validatorEl;forceBlurValidatorEl(){this._validatorEl.dispatchEvent(new Event("blur"))}isElementOrDescendantActive(){return this.el.contains(document.activeElement)}},At=class{static{o(this,"ValidatorElementWrapper")}constructor(e){this.validatorEl=e}};function Vf(t){return vw(t)?t:t instanceof we.ColorComponent?new At(t.colorPickerEl):t instanceof we.DropdownComponent?new At(t.selectEl):t instanceof we.ProgressBarComponent?new zi(t.progressBar):t instanceof we.SearchComponent?new At(t.inputEl):t instanceof we.SliderComponent?new At(t.sliderEl):t instanceof we.TextAreaComponent?new At(t.inputEl):t instanceof we.TextComponent?new At(t.inputEl):t instanceof we.ToggleComponent?new zi(t.toggleEl):null}o(Vf,"getValidatorComponent");function vw(t){return!!t.validatorEl}o(vw,"isValidatorComponent");var Ew=require("obsidian");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Wf(t){return t.validationMessage!==void 0}o(Wf,"isValidationMessageHolder");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ka="PluginSettingsTab",Vi=class extends jt.PluginSettingTab{static{o(this,"PluginSettingsTabBase")}constructor(e){super(e.app,e),this.plugin=e,Y(this.containerEl,F.PluginSettingsTab),this.saveSettingsDebounced=(0,jt.debounce)(gt(()=>this.plugin.settingsManager.saveToFile(ka)),this.saveSettingsDebounceTimeoutInMilliseconds),this.asyncEventsComponent=new _r,this.asyncEvents=new Qe}get isOpen(){return this._isOpen}get saveSettingsDebounceTimeoutInMilliseconds(){return 2e3}_isOpen=!1;asyncEvents;asyncEventsComponent;saveSettingsDebounced;get pluginSettings(){return this.plugin.settingsManager.settingsWrapper.settings}bind(e,n,r){let s={...{componentToPluginSettingsValueConverter:o(S=>S,"componentToPluginSettingsValueConverter"),onChanged:je,pluginSettingsToComponentValueConverter:o(S=>S,"pluginSettingsToComponentValueConverter"),shouldResetSettingWhenComponentIsEmpty:!0,shouldShowPlaceholderForDefaultValues:!0,shouldShowValidationMessage:!0},...r},a=Vf(e)?.validatorEl,l=zf(e),u=this.pluginSettings[n],c=this.plugin.settingsManager.defaultSettings[n],f=s.pluginSettingsToComponentValueConverter(c);l?.setPlaceholderValue(f);let d,h=null,p=null;if(a){let S=Bi(a);h=S.createDiv(),Y(h,F.Tooltip,F.TooltipValidator),p=h.createSpan();let I=h.createDiv();Y(I,F.TooltipArrow),h.hide(),S.appendChild(h)}this.asyncEventsComponent.registerAsyncEvent(this.on("validationMessageChanged",(S,I)=>{n===S&&(d=I,k())}));let w=!1,b=!1;l&&s.shouldShowPlaceholderForDefaultValues&&Ne(u,c)?l.empty():e.setValue(s.pluginSettingsToComponentValueConverter(u));let C=!1,k=(0,jt.debounce)(()=>{requestAnimationFrame(()=>{v()})},100);return e.onChange(async S=>{if(C){C=!1;return}w=!1;let I=this.pluginSettings[n],x,B=!0;if(b=!!l?.isEmpty()&&s.shouldResetSettingWhenComponentIsEmpty,b)x=c;else{let H=s.componentToPluginSettingsValueConverter(S);Wf(H)?(d=H.validationMessage,B=!1):x=H}B&&(d=await this.plugin.settingsManager.setProperty(n,x),l&&s.shouldShowPlaceholderForDefaultValues&&!l.isEmpty()&&Ne(x,c)&&(w=!0)),k(),B&&await s.onChanged(x,I),this.saveSettingsDebounced()}),a?.addEventListener("focus",()=>{k()}),a?.addEventListener("blur",()=>{k()}),a?.addEventListener("click",()=>{requestAnimationFrame(()=>{k()})}),d=this.plugin.settingsManager.settingsWrapper.validationMessages[n]??"",k(),e;function v(){a?.isActiveElement()||(w?(w=!1,l?.isEmpty()||(C=!0,l?.empty())):b&&(b=!1,l?.isEmpty()&&(C=!0,e.setValue(f)))),a&&(d===""&&(a.setCustomValidity(""),a.checkValidity(),d=a.validationMessage),a.setCustomValidity(d),s.shouldShowValidationMessage?(p&&(p.textContent=d),h?.toggle(!!d)):d&&(0,jt.setTooltip)(a,d))}o(v,"updateValidatorEl")}display(){this.containerEl.empty(),this._isOpen=!0,this.asyncEventsComponent.load(),this.asyncEventsComponent.registerAsyncEvent(this.plugin.settingsManager.on("loadSettings",this.onLoadSettings.bind(this))),this.asyncEventsComponent.registerAsyncEvent(this.plugin.settingsManager.on("saveSettings",this.onSaveSettings.bind(this)))}hide(){super.hide(),this.saveSettingsDebounced.cancel(),this._isOpen=!1,this.asyncEventsComponent.unload(),this.asyncEventsComponent.load(),ne(()=>this.hideAsync())}async hideAsync(){await this.plugin.settingsManager.saveToFile(ka)}show(){this.app.setting.openTab(this)}async onLoadSettings(e,n){this.display(),await Je()}async revalidate(){let e=await this.plugin.settingsManager.revalidate();await this.updateValidations(e)}on(e,n,r){return this.asyncEvents.on(e,n,r)}async onSaveSettings(e,n,r){if(r===ka){await this.updateValidations(e.validationMessages);return}this.display()}async updateValidations(e){for(let[n,r]of Object.entries(e))await this.asyncEvents.triggerAsync("validationMessageChanged",n,r)}};var or=require("obsidian");var $f=require("obsidian");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Wi=class extends $f.ValueComponent{static{o(this,"CheckboxComponent")}inputEl;get validatorEl(){return this.inputEl}changeCallback;constructor(e){super(),Y(e,F.CheckboxComponent),this.inputEl=e.createEl("input",{type:"checkbox"}),this.inputEl.addEventListener("change",this.onChanged.bind(this))}getValue(){return this.inputEl.checked}onChange(e){return this.changeCallback=e,this}onChanged(){this.changeCallback?.(this.getValue())}setDisabled(e){return super.setDisabled(e),this.inputEl.disabled=e,this}setValue(e){return this.inputEl.checked=e,this}};var Ui=require("obsidian");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Uf(t){return`${String(t)}px`}o(Uf,"toPx");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var $i=class extends Ui.ValueComponent{static{o(this,"CodeHighlighterComponent")}get inputEl(){return this.textAreaComponent.inputEl}get validatorEl(){return this.inputEl}codeEl;placeholder="";preEl;tabSize;textAreaComponent;constructor(e){super(),Y(e,F.CodeHighlighterComponent);let n=e.createDiv();Y(n,F.SettingComponentWrapper),this.textAreaComponent=new Ui.TextAreaComponent(n),this.preEl=n.createEl("pre",{attr:{tabIndex:"-1"}}),this.codeEl=this.preEl.createEl("code",{attr:{tabIndex:"-1"}}),this.inputEl.addEventListener("input",gt(this.updateHighlightedCode.bind(this))),this.inputEl.addEventListener("scroll",this.handleScroll.bind(this)),this.inputEl.addEventListener("keydown",this.handleKeyDown.bind(this));let r=2;this.tabSize=r}empty(){this.setValue("")}getValue(){return this.textAreaComponent.getValue()}isEmpty(){return this.textAreaComponent.getValue()===""}onChange(e){return this.textAreaComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.textAreaComponent.setDisabled(e),this}setLanguage(e){let n="language-";for(let r of[this.preEl,this.codeEl]){for(let i of Array.from(r.classList))i.startsWith(n)&&r.classList.remove(i);r.classList.add(`${n}${e}`)}return this}setPlaceholder(e){return this.placeholder=e,ne(this.updateHighlightedCode.bind(this)),this}setPlaceholderValue(e){return this.setPlaceholder(e),this}setTabSize(e){return this.tabSize=e,this}setValue(e){return this.textAreaComponent.setValue(e),ne(this.updateHighlightedCode.bind(this)),this}handleKeyDown(e){if(e.key!=="Tab")return;if(e.preventDefault(),e.ctrlKey||e.metaKey){let f=Array.from(activeDocument.querySelectorAll(':is(a, button, input, select, textarea, [tabindex]):not([tabindex="-1"]):not(:disabled):not([type="hidden"])')),d=f.indexOf(this.inputEl),h=e.shiftKey?-1:1;f[(d+h+f.length)%f.length]?.focus();return}let n=this.getValue(),r=this.inputEl.selectionStart,i=this.inputEl.selectionEnd,s=n.slice(0,r),a=n.slice(i),l=" ".repeat(this.tabSize),u=s;e.shiftKey?s.endsWith(l)&&(u=s.slice(0,-this.tabSize)):u=s+l;let c=`${u}${a}`;this.setValue(c),this.inputEl.selectionStart=u.length,this.inputEl.selectionEnd=u.length}handleScroll(){this.preEl.scrollTop=this.inputEl.scrollTop,this.preEl.scrollLeft=this.inputEl.scrollLeft}async updateHighlightedCode(){this.codeEl.textContent=this.inputEl.value||this.placeholder,(await lu()).highlightElement(this.codeEl),this.preEl.toggleClass(F.IsPlaceholder,this.isEmpty()),requestAnimationFrame(()=>{let n=Math.max(0,this.inputEl.scrollHeight-this.preEl.scrollHeight);this.preEl.setCssProps({"--bottom-gap":Uf(n)}),this.handleScroll()})}};var Kf=require("obsidian");var Hi=require("obsidian");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var oe=class extends Hi.ValueComponent{static{o(this,"TypedTextComponent")}inputEl;get validatorEl(){return this.inputEl}textComponent;constructor(e,n,r){super(),this.textComponent=new Hi.TextComponent(e),this.inputEl=this.textComponent.inputEl,this.inputEl.type=n,Y(e,r)}getValue(){return this.valueFromString(this.textComponent.getValue())}onChange(e){return this.textComponent.onChange(()=>e(this.getValue())),this}onChanged(){this.textComponent.onChanged()}setDisabled(e){return super.setDisabled(e),this.textComponent.setDisabled(e),this}setValue(e){return this.textComponent.setValue(this.valueToString(e)),this}valueToString(e){return String(e)}};o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Fe=class extends oe{static{o(this,"TypedRangeTextComponent")}setMax(e){return this.inputEl.max=this.valueToString(e),this}setMin(e){return this.inputEl.min=this.valueToString(e),this}setStep(e){return this.inputEl.step=String(e),this}};o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Hf=mt(Kf.moment),jf="YYYY-MM-DD",ji=class extends Fe{static{o(this,"DateComponent")}constructor(e){super(e,"date",F.DateComponent)}valueFromString(e){return Hf(e,jf).toDate()}valueToString(e){return Hf(e).format(jf)}};var Gf=require("obsidian");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var qf=mt(Gf.moment),Yf="YYYY-MM-DDTHH:mm",Ki=class extends Fe{static{o(this,"DateTimeComponent")}constructor(e){super(e,"datetime-local",F.DateTimeComponent)}valueFromString(e){return qf(e,Yf).toDate()}valueToString(e){return qf(e).format(Yf)}};o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var qi=class extends oe{static{o(this,"EmailComponent")}constructor(e){super(e,"email",F.EmailComponent)}empty(){this.setValue("")}isEmpty(){return this.getValue()===""}setPlaceholderValue(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Yi=class extends oe{static{o(this,"FileComponent")}constructor(e){super(e,"file",F.FileComponent)}getValue(){return this.inputEl.files?.[0]??null}valueFromString(){return this.getValue()}valueToString(e){return e?.name??""}};var Xf=require("obsidian");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Jf=mt(Xf.moment),Qf="YYYY-MM",Gi=class extends Fe{static{o(this,"MonthComponent")}constructor(e){super(e,"month",F.MonthComponent)}valueFromString(e){let n=Jf(e,Qf);if(!n.isValid())throw new Error("Invalid month");return{month:n.month()+1,year:n.year()}}valueToString(e){return Jf().year(e.year).month(e.month-1).format(Qf)}};var Ji=require("obsidian");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var vn=class extends Ji.ValueComponent{static{o(this,"MultipleDropdownComponent")}get selectEl(){return this.dropdownComponent.selectEl}get validatorEl(){return this.selectEl}dropdownComponent;constructor(e){super(),this.dropdownComponent=new Ji.DropdownComponent(e),this.dropdownComponent.selectEl.multiple=!0,Y(e,F.MultipleDropdownComponent)}addOption(e,n){return this.dropdownComponent.addOption(e,n),this}addOptions(e){return this.dropdownComponent.addOptions(e),this}getValue(){return Array.from(this.dropdownComponent.selectEl.selectedOptions).map(e=>e.value)}onChange(e){return this.dropdownComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.dropdownComponent.setDisabled(e),this}setValue(e){for(let n of Array.from(this.dropdownComponent.selectEl.options))n.selected=e.includes(n.value);return this}};o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Qi=class extends oe{static{o(this,"MultipleEmailComponent")}constructor(e){super(e,"email",F.MultipleEmailComponent),this.inputEl.multiple=!0}valueFromString(e){return e.split(",").map(n=>n.trim())}valueToString(e){return e.join(", ")}};o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Xi=class extends oe{static{o(this,"MultipleFileComponent")}constructor(e){super(e,"file",F.MultipleFileComponent),this.inputEl.multiple=!0}getValue(){return Array.from(this.inputEl.files??[])}valueFromString(){return this.getValue()}valueToString(e){return e[0]?.name??""}};var eo=require("obsidian");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Zi=class extends eo.ValueComponent{static{o(this,"MultipleTextComponent")}get inputEl(){return this.textAreaComponent.inputEl}get validatorEl(){return this.inputEl}textAreaComponent;constructor(e){super(),this.textAreaComponent=new eo.TextAreaComponent(e),Y(e,F.MultipleTextComponent)}empty(){this.textAreaComponent.setValue("")}getValue(){return this.textAreaComponent.getValue().split(`
`)}isEmpty(){return this.textAreaComponent.getValue()===""}onChange(e){return this.textAreaComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.textAreaComponent.setDisabled(e),this}setPlaceholder(e){return this.textAreaComponent.setPlaceholder(e),this}setPlaceholderValue(e){return this.setPlaceholder(this.valueToString(e)),this}setValue(e){return this.textAreaComponent.setValue(this.valueToString(e)),this}valueToString(e){return e.join(`
`)}};o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var to=class extends Fe{static{o(this,"NumberComponent")}constructor(e){super(e,"number",F.NumberComponent)}empty(){this.textComponent.setValue("")}isEmpty(){return this.textComponent.getValue()===""}setPlaceholder(e){return this.textComponent.setPlaceholder(e),this}setPlaceholderValue(e){return this.textComponent.setPlaceholder(this.valueToString(e)),this}valueFromString(e){return parseInt(e,10)}};o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var no=class extends oe{static{o(this,"PasswordComponent")}constructor(e){super(e,"password",F.PasswordComponent)}setPlaceholder(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ro=class extends oe{static{o(this,"TelephoneComponent")}constructor(e){super(e,"tel",F.TelephoneComponent)}empty(){this.textComponent.setValue("")}isEmpty(){return this.textComponent.getValue()===""}setPlaceholderValue(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};var Aa=require("obsidian");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var io=class extends Fe{static{o(this,"TimeComponent")}constructor(e){super(e,"time",F.TimeComponent)}valueFromString(e){return Aa.moment.duration(e)}valueToString(e){let n;return e.milliseconds()>0?n="HH:mm:ss.SSS":e.seconds()>0?n="HH:mm:ss":n="HH:mm",Aa.moment.utc(e.asMilliseconds()).format(n)}};var Zf=require("obsidian");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var oo=class extends Zf.ValueComponent{static{o(this,"TriStateCheckboxComponent")}inputEl;get validatorEl(){return this.inputEl}changeCallback;constructor(e){super(),Y(e,F.TriStateCheckboxComponent),this.inputEl=e.createEl("input",{type:"checkbox"}),this.inputEl.addEventListener("change",this.onChanged.bind(this))}getValue(){return this.inputEl.indeterminate?null:this.inputEl.checked}onChange(e){return this.changeCallback=e,this}onChanged(){this.changeCallback?.(this.getValue())}setDisabled(e){return super.setDisabled(e),this.inputEl.disabled=e,this}setValue(e){return this.inputEl.indeterminate=e===null,this.inputEl.checked=e??!1,this}};var ao=require("obsidian");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var so=class extends ao.ValueComponent{static{o(this,"TypedDropdownComponent")}get selectEl(){return this.dropdownComponent.selectEl}get validatorEl(){return this.selectEl}dropdownComponent;values=[];constructor(e){super(),this.dropdownComponent=new ao.DropdownComponent(e),Y(e,F.TypedDropdownComponent)}addOption(e,n){let r=this.values.indexOf(e);return r===-1&&(this.values.push(e),r=this.values.length-1),this.dropdownComponent.addOption(String(r),n),this}addOptions(e){for(let[n,r]of e.entries())this.addOption(n,r);return this}getValue(){return this.values[this.dropdownComponent.selectEl.selectedIndex]??null}onChange(e){return this.dropdownComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.dropdownComponent.setDisabled(e),this}setValue(e){let n=e===null?-1:this.values.indexOf(e);return this.dropdownComponent.selectEl.selectedIndex=n,this}};var ed=require("obsidian");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var lo=class extends ed.ValueComponent{static{o(this,"TypedMultipleDropdownComponent")}get selectEl(){return this.multipleDropdownComponent.selectEl}get validatorEl(){return this.selectEl}multipleDropdownComponent;values=[];constructor(e){super(),this.multipleDropdownComponent=new vn(e),Y(e,F.TypedMultipleDropdownComponent)}addOption(e,n){let r=this.values.indexOf(e);return r===-1&&(this.values.push(e),r=this.values.length-1),this.multipleDropdownComponent.addOption(String(r),n),this}addOptions(e){for(let[n,r]of e.entries())this.addOption(n,r);return this}getValue(){return this.multipleDropdownComponent.getValue().map(n=>parseInt(n,10)).map(n=>this.values[n]).filter(n=>n!==void 0)}onChange(e){return this.multipleDropdownComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.multipleDropdownComponent.setDisabled(e),this}setValue(e){let n=e.map(r=>this.values.indexOf(r)).filter(r=>r!==-1);return this.multipleDropdownComponent.setValue(n.map(r=>String(r))),this}};o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var uo=class extends oe{static{o(this,"UrlComponent")}constructor(e){super(e,"url",F.UrlComponent)}empty(){this.setValue("")}isEmpty(){return this.getValue()===""}setPlaceholderValue(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};var rd=require("obsidian");o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var td=mt(rd.moment),nd="YYYY-[W]WW",co=class extends Fe{static{o(this,"WeekComponent")}constructor(e){super(e,"week",F.WeekComponent)}valueFromString(e){let n=td(e,nd);if(!n.isValid())throw new Error("Invalid week");return{weekNumber:n.isoWeek(),year:n.year()}}valueToString(e){return td().year(e.year).isoWeek(e.weekNumber).format(nd)}};o((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var En=class extends or.Setting{static{o(this,"SettingEx")}addCheckbox(e){return this.addComponentClass(Wi,e)}addCodeHighlighter(e){return this.addComponentClass($i,e)}addComponentClass(e,n){return this.addComponentSafe(r=>{let i=new e(r);return n(i),i})}addDate(e){return this.addComponentClass(ji,e)}addDateTime(e){return this.addComponentClass(Ki,e)}addEmail(e){return this.addComponentClass(qi,e)}addFile(e){return this.addComponentClass(Yi,e)}addMonth(e){return this.addComponentClass(Gi,e)}addMultipleDropdown(e){return this.addComponentClass(vn,e)}addMultipleEmail(e){return this.addComponentClass(Qi,e)}addMultipleFile(e){return this.addComponentClass(Xi,e)}addMultipleText(e){return this.addComponentClass(Zi,e)}addNumber(e){return this.addComponentClass(to,e)}addPassword(e){return this.addComponentClass(no,e)}addTelephone(e){return this.addComponentClass(ro,e)}addTime(e){return this.addComponentClass(io,e)}addTriStateCheckbox(e){return this.addComponentClass(oo,e)}addTypedDropdown(e){return this.addComponentClass(so,e)}addTypedMultipleDropdown(e){return this.addComponentClass(lo,e)}addUrl(e){return this.addComponentClass(uo,e)}addWeek(e){return this.addComponentClass(co,e)}addComponentSafe(e){return(0,or.requireApiVersion)("1.11.0")?this.addComponent(n=>((0,or.requireApiVersion)("0.16.0"),e(n))):(this.components.push(e(this.controlEl)),this)}};var fo=class extends Vi{static{o(this,"PluginSettingsTab")}display(){super.display(),this.containerEl.empty(),new En(this.containerEl).setName("Should update links").setDesc("Whether to trigger a link update when a file is renamed externally").addToggle(e=>{this.bind(e,"shouldUpdateLinks")}),new En(this.containerEl).setName("Polling interval in milliseconds").setDesc(createFragment(e=>{e.appendText("Polling is an additional mechanism to detect file changes."),e.createEl("br"),e.appendText("The lower the value, the more CPU-intensive the plugin will be."),e.createEl("br"),e.appendText("The higher the value, the more delay might occur to detect the missed file changes."),e.createEl("br"),e.appendText("Use 0 to disable polling.")})).addNumber(e=>{this.bind(e,"pollingIntervalInMilliseconds").setMin(0)}),new En(this.containerEl).setName("Deletion/rename detection timeout in milliseconds").setDesc(createFragment(e=>{e.appendText("The timeout to distinguish deletion and rename events."),e.createEl("br"),e.appendText("Rename events are often a pair of create/delete events, which do not require this timeout."),e.createEl("br"),e.appendText("However, in some rare cases, the events are sent in a reverse delete/create order, where this timeout will be needed to correctly detect the rename event."),e.createEl("br"),e.appendText("Use 0 to disable this timeout.")})).addNumber(e=>{this.bind(e,"deletionRenameDetectionTimeoutInMilliseconds").setMin(0)})}};var ho=class extends $r{static{o(this,"Plugin")}get originalOnFileChange(){if(!this._originalOnFileChange)throw new Error("originalOnFileChange is not initialized");return this._originalOnFileChange}_fileSystemAdapter;_originalOnFileChange;pathInoMap=new ir;watcher=null;get fileSystemAdapter(){if(!this._fileSystemAdapter)throw new Error("fileSystemAdapter is not initialized");return this._fileSystemAdapter}async onLoadSettings(e,n){await super.onLoadSettings(e,n),ne(async()=>{await this.waitForLifecycleEvent("layoutReady"),await this.registerWatcher()})}async onSaveSettings(e,n,r){await super.onSaveSettings(e,n,r),await this.registerWatcher()}createSettingsManager(){return new Ni(this)}createSettingsTab(){return new fo(this)}async onLayoutReady(){this.pathInoMap=new ir,await this.pathInoMap.init(this.app);let e=this.pathInoMap.getIno("/"),n=await(0,De.stat)(this.fileSystemAdapter.basePath);e!==n.ino&&this.pathInoMap.clear();let r=new Set(this.pathInoMap.getPaths());await Wo({abortSignal:this.abortSignal,buildNoticeMessage:o((i,s)=>`Preparing files ${s} - ${i.path}`,"buildNoticeMessage"),items:this.app.vault.getAllLoadedFiles(),processItem:o(async i=>{if(r.delete(i.path)||this.isDotFile(i.path))return;let s=await(0,De.stat)(this.fileSystemAdapter.getFullRealPath(i.path));this.pathInoMap.set(i.path,s.ino)},"processItem"),progressBarTitle:"External Rename Handler: Initializing...",shouldShowProgressBar:!0}),r.size>0&&await Wo({abortSignal:this.abortSignal,buildNoticeMessage:o((i,s)=>`Cleaning paths ${s} - ${i}`,"buildNoticeMessage"),items:Array.from(r),processItem:o(i=>{this.pathInoMap.deletePath(i)},"processItem"),progressBarTitle:"External Rename Handler: Cleanup...",shouldShowProgressBar:!0}),Lr(this,this.fileSystemAdapter,{onFileChange:o(i=>(this._originalOnFileChange=i.bind(this.fileSystemAdapter),this.onFileChange.bind(this)),"onFileChange")})}async onloadImpl(){if(await super.onloadImpl(),!(this.app.vault.adapter instanceof id.FileSystemAdapter))throw new Error("Vault adapter is not a FileSystemAdapter");this._fileSystemAdapter=this.app.vault.adapter,Of(this,()=>({shouldHandleRenames:this.settings.shouldUpdateLinks,shouldUpdateFilenameAliases:!0}))}handleDeletion(e,n){this.pathInoMap.getPath(e)===n&&(this.pathInoMap.deletePath(n),this.originalOnFileChange(n))}handleWatcherError(e){ct(new Error("File system watcher error",{cause:e})),this.originalOnFileChange("/")}handleWatcherEvent(e,n,r){if(n=Kr(n)||"/",this.isDotFile(n)){this.originalOnFileChange(n);return}switch(e){case"add":case"addDir":{if(n==="/")return;if(!r){this.originalOnFileChange(n);return}let i=this.pathInoMap.getPath(r.ino);if(i===n)return;let s=i!==void 0;if(this.pathInoMap.set(n,r.ino),s){this.pathInoMap.deletePath(i);let a=this.fileSystemAdapter.files[i];a&&(delete this.fileSystemAdapter.files[i],a.realpath=this.fileSystemAdapter.getRealPath(n),this.fileSystemAdapter.files[n]=a,this.app.vault.onChange("renamed",n,i),this.originalOnFileChange(i))}this.originalOnFileChange(n);break}case"unlink":case"unlinkDir":{let i=this.pathInoMap.getIno(n);if(i===void 0)return;this.settings.deletionRenameDetectionTimeoutInMilliseconds>0?window.setTimeout(()=>{this.handleDeletion(i,n)},this.settings.deletionRenameDetectionTimeoutInMilliseconds):this.handleDeletion(i,n);break}default:this.originalOnFileChange(n);break}}isDotFile(e){return e=Kr(e)||"/",e.split("/").some(n=>n.startsWith("."))}onFileChange(e){e!==null&&this.isDotFile(e)&&this.originalOnFileChange(e)}async registerWatcher(){this.watcher?await this.watcher.close():this.register(gt(async()=>this.watcher?.close())),this.watcher=Qa(".",{atomic:!0,binaryInterval:this.settings.pollingIntervalInMilliseconds,cwd:this.app.vault.adapter.basePath,ignored:this.isDotFile.bind(this),ignoreInitial:!0,interval:this.settings.pollingIntervalInMilliseconds,persistent:!1,usePolling:this.settings.pollingIntervalInMilliseconds>0}),this.watcher.on("error",this.handleWatcherError.bind(this)),this.watcher.on("all",this.handleWatcherEvent.bind(this))}};var Sw=ho;
/*! Bundled license information:

chokidar/index.js:
  (*! chokidar - MIT License (c) 2012 Paul Miller (paulmillr.com) *)
*/

/* nosourcemap */